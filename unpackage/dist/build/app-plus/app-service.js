(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"003f":function(t,e,i){"use strict";i.r(e);var a=i("6c2b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0062":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-tooltip",data:function(){return{}},props:{content:{type:String,default:""},placement:{type:String,default:"bottom"}}};e.default=a},"0087":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("67ee"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_user",fields:[{_id:"new_user",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_user",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[],errorMessage:""}},computed:{fieldsMap:function(){var t="active_user"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,s.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(i){i._id===t.field&&(e=i.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){return[1,2,3,4,5,6,7,14,30].map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,i){var a=this;e&&(t=t.filter((function(t){return t.field===e}))),i&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(i)})));var n=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(a.field,".").concat(t.field,".user_count as ").concat("temp_"+t.field)})).join();return n},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user_count",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=e||[1,2,3,4,5,6,7,14,30],r="d",s=this.fields.map((function(t){return t._id}));i=i||s;var o=n.map((function(e){return i.map((function(i){return"retention.".concat(i,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));a&&o.push(a);var u=o.join();return u},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.key,this.keyName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);this.createStr("user_count",[a],[this.field]);var n=t.database();n.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(a)),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap,"d_".concat(a))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,n=t.result,s=(n.count,n.data),u={categories:[],series:[{name:"".concat(a,"\u5929\u540e").concat(i.fieldName),data:[]}]},c=o(s);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=(0,r.formatDate)(l.start_time,"day"),f=l["d_".concat(a)];u.series[0].data.push(f),u.categories.push(d)}}catch(h){c.e(h)}finally{c.f()}i.chartData=u})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this,a=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.field+"_count";this.createStr("user_rate","",[this.field],n);this.loading=!0;var s=t.database();s.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,a=t.result,n=a.count,s=a.data,u=o(s);try{for(u.s();!(e=u.n()).done;){var c=e.value;(0,r.mapfields)(i.fieldsMap,c,c)}}catch(l){u.e(l)}finally{u.f()}i.options.total=n,i.tableData=[],i.tableData=s})).catch((function(t){})).finally((function(){i.loading=!1}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"00e3":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("c973")),o=i("f7f2"),u=t.database(),c=(u.collection("uni-id-users"),t.importObject("uni-id-co")),l={computed:{userInfo:function(){return o.store.userInfo}},data:function(){return{univerifyStyle:{authButton:{title:"\u672c\u673a\u53f7\u7801\u4e00\u952e\u7ed1\u5b9a"},otherLoginButton:{title:"\u5176\u4ed6\u53f7\u7801\u7ed1\u5b9a"}},hasPwd:!1,showLoginManage:!1}},onShow:function(){var t=this;return(0,s.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.univerifyStyle.authButton.title="\u672c\u673a\u53f7\u7801\u4e00\u952e\u7ed1\u5b9a",t.univerifyStyle.otherLoginButton.title="\u5176\u4ed6\u53f7\u7801\u7ed1\u5b9a";case 2:case"end":return e.stop()}}),e)})))()},onLoad:function(t){var e=this;return(0,s.default)(r.default.mark((function i(){var a;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.showLoginManage&&(e.showLoginManage=!0),i.next=3,c.getAccountInfo();case 3:a=i.sent,e.hasPwd=a.isPasswordSet;case 5:case"end":return i.stop()}}),i)})))()},methods:{login:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd",complete:function(t){}})},logout:function(){o.mutations.logout()},bindMobileSuccess:function(){o.mutations.updateUserInfo()},changePassword:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",complete:function(t){}})},bindMobile:function(){var t=this;uni.preLogin({provider:"univerify",success:this.univerify(),fail:function(e){t.bindMobileBySmsCode()}})},univerify:function(){var t=this;uni.login({provider:"univerify",univerifyStyle:this.univerifyStyle,success:function(){var t=(0,s.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c.bindMobileByUniverify(e.authResult).then((function(t){o.mutations.updateUserInfo()})).catch((function(t){})).finally((function(t){uni.closeAuthView()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fail:function(e){"30002"!=e.code&&"30001"!=e.code||t.bindMobileBySmsCode()}})},bindMobileBySmsCode:function(){uni.navigateTo({url:"./bind-mobile/bind-mobile"})},setNickname:function(t){t?(o.mutations.updateUserInfo({nickname:t}),this.$refs.dialog.close()):this.$refs.dialog.open()},deactivate:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate"})},bindThirdAccount:function(e){var i=this;return(0,s.default)(r.default.mark((function a(){var n,u;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.importObject("uni-id-co"),u={weixin:"wx_openid",alipay:"ali_openid",apple:"apple_openid",qq:"qq_openid"}[e.toLowerCase()],!i.userInfo[u]){a.next=9;break}return a.next=5,n["unbind"+e]();case 5:return a.next=7,o.mutations.updateUserInfo();case 7:a.next=10;break;case 9:uni.login({provider:e.toLowerCase(),onlyAuthorize:!0,success:function(){var t=(0,s.default)(r.default.mark((function t(i){var a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["bind"+e]({code:i.code});case 2:return a=t.sent,a.errCode&&uni.showToast({title:a.errMsg||"\u7ed1\u5b9a\u5931\u8d25",duration:3e3}),t.next=6,o.mutations.updateUserInfo();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fail:function(){var t=(0,s.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 10:case"end":return a.stop()}}),a)})))()}}};e.default=l}).call(this,i("a9ff")["default"],i("0de9")["default"])},"017d":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6739")),r=a(i("b214")),s=a(i("500e")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},"019d":function(t,e,i){"use strict";i.r(e);var a=i("2d46"),n=i("1523");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"01b4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calcImageOffset=function(t,e){var i=t.imageLeft,a=t.imageTop;e=e||t.scale;var n=t.imageWidth,r=t.imageHeight;t.angle/90%2&&(n=t.imageHeight,r=t.imageWidth);var s=t.clipX,o=t.clipWidth,u=t.clipY,c=t.clipHeight,l=function(t){return t*e/2},d=l(n),f=l(r);return i=s+d>=i?i:s+d,i=s+o-d<=i?i:s+o-d,a=u+f>=a?a:u+f,a=u+c-f<=a?a:u+c-f,{left:i,top:a,scale:e}},e.calcImageScale=function(t,e){e=e||t.scale;var i=t.imageWidth,a=t.imageHeight,n=t.clipWidth,r=t.clipHeight,s=t.angle;s/90%2&&(i=a,a=i);i*e<n&&(e=n/i);a*e<r&&(e=Math.max(e,r/a));return e},e.calcImageSize=function(t,e,i){var a=t,n=e,r=i.clipWidth,s=i.clipHeight,o=i.sysinfo,u=i.width,c=i.height;if(a&&n)a/n>(r||u)/(r||c)?(n=s||c,a=t/e*n):(a=r||u,n=e/t*a);else{var l=o||uni.getSystemInfoSync();a=l.windowWidth,n=0}return{imageWidth:a,imageHeight:n}},e.calcPythagoreanTheorem=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},e.clipTouchMoveOfCalculate=function(t,e){var i=e.touches[0].clientX,a=e.touches[0].clientY,n=t.clipWidth,r=t.clipHeight,s=t.clipY,o=t.clipX,u=t.clipStart,c=t.isLockRatio,l=t.maxWidth,d=t.minWidth,f=t.maxHeight,h=t.minHeight;l/=2,d/=2,h/=2,f/=2;var p=n,m=r,g=s,_=o,v=function(){return function(){p=p<=l?p>=d?p:d:l,m=m<=f?m>=h?m:h:f}(),!(p>l||p<d||m>f||m<h)||!c};switch(m=u.height+(u.corner>1&&u.corner<4?1:-1)*(u.y-a),u.corner){case 1:if(p=u.width-u.x+i,c&&(m=p/(n/r)),!v())return;break;case 2:if(p=u.width-u.x+i,c&&(m=p/(n/r)),!v())return;g=u.clipY-(m-u.height);break;case 3:if(p=u.width+u.x-i,c&&(m=p/(n/r)),!v())return;g=u.clipY-(m-u.height),_=u.clipX-(p-u.width);break;case 4:if(p=u.width+u.x-i,c&&(m=p/(n/r)),!v())return;_=u.clipX-(p-u.width);break;default:break}return{width:p,height:m,clipX:_,clipY:g}},e.determineDirection=function(t,e,i,a,n,r){var s,o=[t+i/2,e+a/2],u=[n,r];u[0]<=o[0]&&u[1]<=o[1]?s=3:u[0]>=o[0]&&u[1]<=o[1]?s=2:u[0]<=o[0]&&u[1]>=o[1]?s=4:u[0]>=o[0]&&u[1]>=o[1]&&(s=1);return s},e.imageTouchMoveOfCalcOffset=function(t,e,i){var a=e-t.touchRelative[0].x,n=i-t.touchRelative[0].y;return{left:a,top:n}}},"01c8":function(t,e,i){"use strict";i.r(e);var a=i("a7ac"),n=i("4a1c");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"01e6":function(t,e,i){"use strict";i.r(e);var a=i("fed3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0294":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uploadFile",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},delIcon:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},showType:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},readonly:{type:Boolean,default:!1}},computed:{list:function(){var t=[];return this.filesList.forEach((function(e){t.push(e)})),t},styles:function(){return Object.assign({border:!0,dividline:!0,"border-style":{}},this.listStyles)},borderStyle:function(){var t=this.styles,e=t.borderStyle,i=t.border,a={};if(i){var n=e&&e.width||1;n=this.value2px(n);var r=e&&e.radius||5;r=this.value2px(r),a={"border-width":n,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":r}}else a.border="none";var s="";for(var o in a)s+="".concat(o,":").concat(a[o],";");return s},borderLineStyle:function(){var t={},e=this.styles.borderStyle;if(e&&e.color&&(t["border-color"]=e.color),e&&e.width){var i=e&&e.width||1,a=e&&e.style||0;"number"===typeof i?i+="px":i=i.indexOf("px")?i:i+"px",t["border-width"]=i,"number"===typeof a?a+="px":a=a.indexOf("px")?a:a+"px",t["border-top-style"]=a}var n="";for(var r in t)n+="".concat(r,":").concat(t[r],";");return n}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",{item:t,index:e})},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},value2px:function(t){return"number"===typeof t?t+="px":t=-1!==t.indexOf("px")?t:t+"px",t}}};e.default=a},"030e":function(t,e,i){"use strict";i.r(e);var a=i("f297"),n=i("f668");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"039e":function(t,e,i){"use strict";i.r(e);var a=i("7f82"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"03b2":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={user_id:{rules:[{format:"string"}],label:"\u7528\u6237ID"},provider:{rules:[{format:"string"},{range:[{text:"\u5fae\u4fe1\u652f\u4ed8",value:"wxpay"},{text:"\u652f\u4ed8\u5b9d",value:"alipay"},{text:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8",value:"appleiap"}]}],label:"\u652f\u4ed8\u4f9b\u5e94\u5546"},provider_pay_type:{rules:[{format:"string"}],label:"\u652f\u4ed8\u65b9\u5f0f"},uni_platform:{rules:[{format:"string"}],label:"\u5e94\u7528\u5e73\u53f0"},status:{rules:[{format:"int"},{range:[{text:"\u5df2\u5173\u95ed",value:-1},{text:"\u672a\u652f\u4ed8",value:0},{text:"\u5df2\u652f\u4ed8",value:1},{text:"\u5df2\u90e8\u5206\u9000\u6b3e",value:2},{text:"\u5df2\u5168\u989d\u9000\u6b3e",value:3}]}],defaultValue:0,label:"\u8ba2\u5355\u72b6\u6001"},type:{rules:[{format:"string"}],label:"\u8ba2\u5355\u7c7b\u578b"},order_no:{rules:[{format:"string"},{minLength:20,maxLength:28}],label:"\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7"},out_trade_no:{rules:[{format:"string"}],label:"\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7"},transaction_id:{rules:[{format:"string"}],label:"\u4ea4\u6613\u5355\u53f7"},device_id:{rules:[{format:"string"}],label:"\u8bbe\u5907ID"},client_ip:{rules:[{format:"string"}],label:"\u5ba2\u6237\u7aefIP"},openid:{rules:[{format:"string"}],label:"openid"},description:{rules:[{format:"string"}],label:"\u652f\u4ed8\u63cf\u8ff0"},"err_msg ":{rules:[{format:"string"}],label:"\u652f\u4ed8\u5931\u8d25\u539f\u56e0"},total_fee:{rules:[{format:"int"}],label:"\u8ba2\u5355\u603b\u91d1\u989d"},refund_fee:{rules:[{format:"int"}],label:"\u8ba2\u5355\u603b\u9000\u6b3e\u91d1\u989d"},refund_count:{rules:[{format:"int"}],label:"\u5f53\u524d\u9000\u6b3e\u7b14\u6570"},refund_list:{rules:[{format:"array"}],label:"\u9000\u6b3e\u8be6\u60c5"},provider_appid:{rules:[{format:"string"}],label:"\u5f00\u653e\u5e73\u53f0appid"},appid:{rules:[{format:"string"}],label:"DCloud AppId"},user_order_success:{rules:[{format:"bool"}],label:"\u56de\u8c03\u72b6\u6001"},pay_date:{rules:[{format:"timestamp"}],label:"\u652f\u4ed8\u65f6\u95f4"},notify_date:{rules:[{format:"timestamp"}],label:"\u5f02\u6b65\u901a\u77e5\u65f6\u95f4"},cancel_date:{rules:[{format:"timestamp"}],label:"\u53d6\u6d88\u65f6\u95f4"}};e.enumConverter={provider_valuetotext:{wxpay:"\u5fae\u4fe1\u652f\u4ed8",alipay:"\u652f\u4ed8\u5b9d",appleiap:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8"},status_valuetotext:{0:"\u672a\u652f\u4ed8",1:"\u5df2\u652f\u4ed8",2:"\u5df2\u90e8\u5206\u9000\u6b3e",3:"\u5df2\u5168\u989d\u9000\u6b3e","-1":"\u5df2\u5173\u95ed"}}},"047a":function(t,e,i){"use strict";i.r(e);var a=i("e4ae"),n=i("8010");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5b68d78e",null,!1,a["a"],void 0);e["default"]=o.exports},"055c":function(t,e,i){"use strict";i.r(e);var a=i("345c"),n=i("c970");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"0640":function(t,e,i){"use strict";i.r(e);var a=i("0062"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0676":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"06ce":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.createUniStatQuery=function(t){return Object.assign({},t,{type:"native_app",create_env:"uni-stat"})},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=null;return function(){for(var a=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];i&&clearTimeout(i),i=setTimeout((function(){t.apply(a,r)}),e)}},e.division=c,e.fileToUrl=function(t){for(var e in m)if(m.hasOwnProperty(e)){var i=m[e];if(i===t)return e}var a=(window.URL||window.webkitURL).createObjectURL(t);return m[a]=t,a},e.fillTrendChartData=function(t,e,i){var a=e.start_time,n=e.dimension;if(["hour","day"].indexOf(n)>-1){var r,s=[];"hour"===n?r=36e5:"day"===n&&(r=864e5);var o=a[0],u=a[1],c=o;s=[o];while(c+r<=u)c+=r,s.push(c);for(var l=[],d=function(e){var a=s[e],n=t.find((function(t,e){return t.start_time===a}));if(n)l.push(n);else{var r={start_time:a};i.map((function(t,e){r[t.field]=0})),l.push(r)}},f=0;f<s.length;f++)d(f);return l}return t},e.format=l,e.formatDate=d,e.formatterData=function(t){var e=t.fieldsMap,i=t.data,a=t.formatter,n=void 0===a||a,s=JSON.parse(JSON.stringify(i));return s.map((function(t){var i=function(i){var a=e.find((function(t){return t.field==i}));if("object"===(0,r.default)(a)){var s=a.fix,o=void 0===s?0:s;"number"===typeof a.multiple&&"number"===typeof t[i]&&(t[i]=Number((t[i]*a.multiple).toFixed(o))),n&&a.formatter&&"number"===typeof t[i]&&(","===a.formatter?t[i]=function(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,",")}(t[i]):"%"===a.formatter?t[i]="".concat((100*t[i]).toFixed(o),"%"):"-"===a.formatter&&(t[i]=f(t[i])))}};for(var a in t)i(a)})),s},e.getAllDateCN=function(t,e){var i=[],a=0;while(e.getTime()-t.getTime()>=0)i[a]=t.getTime(),t.setDate(t.getDate()+1),a+=1;return i},e.getFieldTotal=function(){var e,i=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total_devices";"object"===(0,r.default)(a)&&(a=u(a,!1,["uni_platform"]));var s=t.database();return s.collection("uni-stat-result").where(a).field("".concat(n," as temp_").concat(n,", start_time")).groupBy("start_time").groupField("sum(temp_".concat(n,") as ").concat(n)).orderBy("start_time","desc").get().then((function(t){var a=t.result.data;return e=a.length&&a[0][n],e=l(e),i.panelData&&i.panelData.forEach((function(t){t.field===n&&(t.value=e)})),Promise.resolve(e)}))},e.getTimeOfSomeDayAgo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),i=new Date(e),a=864e5,n=[i.getFullYear(),i.getMonth()+1,i.getDate()].join("/");n+=" 00:00:00";var r=new Date(n).getTime()-a*t;return r},e.mapfields=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",o=[],u=i;t=JSON.parse(JSON.stringify(t));var d,f=JSON.parse(JSON.stringify(e)),h=s(t);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=p.field,g=p.computed,_=p.formatter,v=p.disable,b=p.fix;if(!v){i=u||p;var y=i.hasOwnProperty(r),x=a+m;if(e){var w=e[x];if(g){var C=g.split("/"),$=(0,n.default)(C,2),k=$[0],D=$[1];k=Number(f[a+k]),D=Number(f[a+D]);var S=l(c(k,D),_,b);y&&m===i.field?i[r]=S:i[m]=S}else if(w){var T=l(w,_,b);y?i.field===m&&(i[r]=T):i[m]=T}}y&&o.push(i)}}}catch(O){h.e(O)}finally{h.f()}return o},e.maxDeltaDay=p,e.parseDateTime=f,e.stringifyField=function(t,e,i){e&&(t=t.filter((function(t){return t.field===e})));i&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(i)})));var a=t.map((function(t){var e=[];return t.computed?e=t.computed.split("/"):e.push(t.field),e=e.map((function(e){return-1===t.stat?e:"".concat(e," as ").concat("temp_"+e)})),e.join()}));return a.join()},e.stringifyGroupField=function(t,e,i){e&&(t=t.filter((function(t){return t.field===e})));i&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(i)})));var a=t.map((function(t){var e=t.stat,i=[];return t.computed?i=t.computed.split("/"):i.push(t.field),i=i.map((function(t){if(-1!==e)return"".concat(e||"sum","(").concat("temp_"+t,") as ").concat(t)})),i.filter(Boolean).join()})).filter(Boolean).join();return a},e.stringifyQuery=u;var n=a(i("278c")),r=a(i("7037"));function s(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[],n=Object.keys(t),r=t.start_time;n.forEach((function(n){if("time_range"!==n&&-1===i.indexOf(n)){var s=t[n];s&&("string"===typeof s&&s.indexOf(n)>-1?a.push(s):("string"===typeof s&&(s='"'.concat(s,'"')),Array.isArray(s)?2===s.length&&n.indexOf("time")>-1?a.push("".concat(n," >= ").concat(s[0]," && ").concat(n," <= ").concat(s[1])):(s=s.map((function(t){return"".concat(n,' == "').concat(t,'"')})).join(" || "),s&&a.push("(".concat(s,")"))):e&&"dimension"===n?p(r)?a.push('dimension == "hour"'):s&&'"hour"'!==s?a.push("".concat(n," == ").concat(s)):a.push('dimension == "day"'):a.push("".concat(n," == ").concat(s))))}}));var s=a.join(" && ");return s||{}}function c(t,e){return e?t/e:0}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",i=arguments.length>2?arguments[2]:void 0;if("number"!==typeof t)return t;if("%"===e)return t*=100,String(t).indexOf(".")>-1&&(t=t.toFixed(2)),t=t?t+e:t,t;if("%%"===e)return t=Number(t),t.toFixed(2)+"%";if("-"===e)return d(t,"day");if(":"===e){var a,n,r;t=Math.ceil(t),a=n=r=0;var s=3600,o=60;if(t>=s){a=Math.floor(t/s);var u=t%s;u>=o?(n=Math.floor(u/o),r=u%o):r=u}else s>=t&&t>=o?(n=Math.floor(t/o),r=t%o):r=t;var c=[a,n,r].map((function(t){return t<10?"0"+t:t}));return c.join(e)}return","===e?t.toLocaleString():(String(t).indexOf(".")>-1&&(t=Math.abs(t)>1?t.toFixed(i||0):t.toFixed(i||2)),t)}function d(t,e){var i=new Date(t);if("hour"===e){var a=i.getHours();return a=a<10?"0"+a:a,"".concat(a,":00 ~ ").concat(a,":59")}if("week"===e){var n=i.getDate()-i.getDay()+1,r=n+6,s=new Date(i.setDate(n));s=f(s);var o=new Date(i.setDate(r));return o=f(o),"".concat(s," ~ ").concat(o)}if("month"===e){var u=new Date(i.getFullYear(),i.getMonth(),1);u=f(u);var c=new Date(i.getFullYear(),i.getMonth()+1,0);return c=f(c),"".concat(u," ~ ").concat(c)}return f(i)}function f(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",a=t;"object"!==(0,r.default)(a)&&(a=new Date(a));var n=a.getFullYear(),s=a.getMonth()+1,o=a.getDate(),u=a.getHours(),c=a.getMinutes(),l=a.getSeconds(),d=[n,h(s),h(o)].join(i),f=[h(u),h(c),h(l)].join(":");return"dateTime"===e?d+" "+f:d}function h(t){return t<10?"0"+t:t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t.length)return!0;var i=864e5,a=(0,n.default)(t,2),r=a[0],s=a[1],o=s-r<i*e;return o}var m={}}).call(this,i("a9ff")["default"])},"071b":function(t,e,i){"use strict";i.r(e);var a=i("ffa7"),n=i("6dfc");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"073c":function(t,e,i){"use strict";i.r(e);var a=i("63cf"),n=i("9ae3");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"f7cd1ae2",null,!1,a["a"],void 0);e["default"]=o.exports},"074f":function(t,e,i){"use strict";i.r(e);var a=i("3aea"),n=i("ab02");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"0764":function(t,e,i){"use strict";i.r(e);var a=i("6514"),n=i("e914");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"0789":function(t,e,i){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniMatchMedia",props:{width:{type:[Number,String],default:""},minWidth:{type:[Number,String],default:""},maxWidth:{type:[Number,String],default:""},height:{type:[Number,String],default:""},minHeight:{type:[Number,String],default:""},maxHeight:{type:[Number,String],default:""},orientation:{type:String,default:""}},data:function(){return{matches:!0}},mounted:function(){var t=this;a=uni.createMediaQueryObserver(this),a.observe({width:this.width,maxWidth:this.maxWidth,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight,maxHeight:this.maxHeight,orientation:this.orientation},(function(e){t.matches=e}))},destroyed:function(){a.disconnect()}};e.default=n},"07d5":function(t,e,i){"use strict";i.r(e);var a=i("80e3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"07e1":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s={name:"cloud-image",emits:["click"],props:{mode:{type:String,default:function(){return"widthFix"}},src:{default:function(){return""}},width:{type:String,default:function(){return"100rpx"}},height:{type:String,default:function(){return"100rpx"}}},watch:{src:{handler:function(e){var i=this;e&&"cloud://"==e.substring(0,8)?t.getTempFileURL({fileList:[e]}).then((function(t){i.cSrc=t.fileList[0].tempFileURL})):this.cSrc=e},immediate:!0}},mounted:function(){return(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{onClick:function(){this.$emit("click")}},data:function(){return{cSrc:!1}}};e.default=s}).call(this,i("a9ff")["default"])},"0801":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("26cb"),s=i("599a");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={data:function(){return{menus:[],userMenu:[],famliy:[]}},mixins:[t.mixinDatacom],props:{value:{type:String,default:""},activeTextColor:{type:String,default:"#42B983"},uniqueOpened:{type:Boolean,default:!1},staticMenu:{type:Array,default:function(){return[]}}},watch:{localdata:{handler:function(t){this.hasLocalData(t)&&(this.userMenu=t)},immediate:!0},$route:{immediate:!1,handler:function(t,e){if(t.fullPath!==e.fullPath){this.famliy=[];var i=this.menus.find((function(e){return e.value===t.path})),a=i&&i.menu_id;this.getMenuAncestor(a,this.menus),this.setRoutes&&this.setRoutes(this.famliy)}}}},created:function(){this.hasLocalData(this.localdata)||this.load()},methods:u(u({},(0,r.mapActions)({setRoutes:"app/setRoutes"})),{},{getUserMenu:function(e){var i=t.getCurrentUserInfo(),a=i.permission,n=i.role;return e.map((function(t){e.some((function(e){return e.parent_id===t.menu_id}))||(t.isLeafNode=!0)})),n.includes("admin")||(e=e.filter((function(t){return!t.isLeafNode||!(!t.permission||!t.permission.length)&&t.permission.some((function(t){return a.indexOf(t)>-1}))}))),(0,s.buildMenus)(e)},onSelect:function(t){this.famliy=[],this.getMenuAncestor(t.menu_id,this.menus),this.emit(t)},emit:function(t){this.$emit("select",t,this.famliy),this.$emit("input",t.value)},hasLocalData:function(t){return Array.isArray(t)&&t.length>0},load:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var i=e.result,a=i.data;i.count;t.menus=a,t.userMenu=t.getUserMenu(t.menus)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e})))},getMenuAncestor:function(t,e){var i=this;e.forEach((function(a){if(a.menu_id===t){var n={name:a.text},r=a.value;r&&(n.to={path:r}),i.famliy.unshift(n);var s=a.parent_id;s&&i.getMenuAncestor(s,e)}}))}})};e.default=c}).call(this,i("a9ff")["default"])},"0860":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("9043"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},channelData:[],tabName:"\u65e5\u6d3b",errorMessage:""}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,r.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,r.getTimeOfSomeDayAgo)(t),a=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,i){this.currentChartTab=t,this.tabName=i,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.currentChartTab,this.tabName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count";this.chartData={};var c={categories:[],series:[{name:n,data:[]}]};e=(0,r.stringifyQuery)(e,!1,["uni_platform"]);var l=t.database();"day"===i?l.collection(this.tableName).where(e).field("".concat((0,r.stringifyField)(s.default,u),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,u)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);a.chartData=[];var n,s=o(i);try{for(s.s();!(n=s.n()).done;){var l=n.value,d=(0,r.formatDate)(l.start_time,"day"),f=l[u];c.series[0].data.push(f),c.categories.push(d)}}catch(h){s.e(h)}finally{s.f()}a.chartData=c})).catch((function(t){})):this.getRangeCountData(e,i).then((function(t){var e=i;"week"===i&&(i="isoWeek");var n=t.result,s=(n.count,n.data);a.chartData=[];var l,d=o(s);try{for(d.s();!(l=d.n()).done;){var f=l.value,h=+new Date(f.year,0)+(6048e5*Number(f[i])-1),p=(0,r.formatDate)(h,e),m=f[i+"_"+u];m&&(c.series[0].data.push(m),c.categories.push(p))}}catch(g){d.e(g)}finally{d.f()}a.chartData=c}))},getTabelData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_device_count",n=this.options.pageCurrent,u=(0,r.stringifyQuery)(e);this.loading=!0;var c=t.database();c.collection(this.tableName).where(u).field("".concat((0,r.stringifyField)(s.default,a),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,a)).orderBy("start_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var a=t.result,n=a.count,u=a.data,c=u,l=n,d=[],f=[],h=JSON.parse(JSON.stringify(e));h.dimension="week",i.getRangeCountData((0,r.stringifyQuery)(h),"week").then((function(t){var a=t.result,n=(a.count,a.data);d=n;var u=JSON.parse(JSON.stringify(e));u.dimension="month",i.getRangeCountData((0,r.stringifyQuery)(u),"month").then((function(t){var e=t.result,a=(e.count,e.data);f=a;var n,u=i.mapWithWeekAndMonth(c,d,f),h=o(u);try{for(h.s();!(n=h.n()).done;){var p=n.value;(0,r.mapfields)(s.default,p,p)}}catch(m){h.e(m)}finally{h.f()}i.tableData=[],i.options.total=l,i.tableData=u})).finally((function(){i.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_device_count";"week"===i&&(i="isoWeek");this.options.pageCurrent;var n=t.database();return n.collection(this.tableName).where(e).field("".concat(a,", start_time, ").concat(i,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(i,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(i)).groupField("sum(".concat(a,") as ").concat(i,"_").concat(a)).orderBy("year asc, ".concat(i," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,i){var a,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_device_count",r=o(t);try{for(r.s();!(a=r.n()).done;){var s,u=a.value,c=new Date(u.start_time),l=c.getUTCFullYear(),d=c.getMonth()+1,f=this.getWeekNumber(c),h=o(e);try{for(h.s();!(s=h.n()).done;){var p=s.value;p.isoWeek===f&&p.year===l&&(u["week_".concat(n)]=p["isoWeek_".concat(n)])}}catch(v){h.e(v)}finally{h.f()}var m,g=o(i);try{for(g.s();!(m=g.n()).done;){var _=m.value;_.month===d&&_.year===l&&(u["month_".concat(n)]=_["month_".concat(n)])}}catch(v){g.e(v)}finally{g.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),i=Math.ceil(((t-e)/864e5+1)/7);return i},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"097a":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=a(i("9523")),s={login:{url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"},index:{url:"/pages/index/index"},error:{url:"/pages/error/404"},navBar:{logo:"/static/logo.png",langs:[{text:"\u4e2d\u6587\u7b80\u4f53",lang:"zh-Hans"},{text:"\u4e2d\u6587\u7e41\u9ad4",lang:"zh-Hant"},{text:"English",lang:"en"}],themes:[{text:"\u9ed8\u8ba4",value:"default"},{text:"\u7eff\u67d4",value:"green"}],debug:{enable:!1,engine:[{name:"\u767e\u5ea6",url:"https://www.baidu.com/baidu?wd=ERR_MSG"},{name:"\u8c37\u6b4c",url:"https://www.google.com/search?q=ERR_MSG"}]}},sideBar:{staticMenu:[(n={menu_id:"table",text:"\u6587\u4ef6\u4e0a\u4f20\u5217\u8868",icon:"admin-icons-kaifashili"},(0,r.default)(n,"icon","admin-icons-table"),(0,r.default)(n,"value","/pages/demo/table/table"),n)]},uniStat:{uploadSourceMapCloudSpaceId:"",cloudSourceMapUrl:""}};e.default=s},"09fd":function(t,e,i){"use strict";i.r(e);var a=i("e27a"),n=i("8d8f");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"0a0a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statPanelTodayFieldsMap=e.fieldsMap=e.fieldsGroupMap=void 0;var a=[{title:"\u8ba2\u5355\u91d1\u989d",group:"total_amount",list:[{title:"\u4e0b\u5355\u91d1\u989d",field:"create_total_amount",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u4e0b\u5355\u91d1\u989d\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u6536\u6b3e\u91d1\u989d",field:"pay_total_amount",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u91d1\u989d\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u9000\u6b3e\u91d1\u989d",field:"refund_total_amount",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u91d1\u989d\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,multiple:.01}]},{title:"\u8ba2\u5355\u6570\u91cf",group:"order_count",list:[{title:"\u4e0b\u5355\u6570\u91cf",field:"create_order_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u8ba2\u5355\u7b14\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u6570\u91cf",field:"pay_order_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:"",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u6570\u91cf",field:"refund_order_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u8ba2\u5355\u6570\u3002",formatter:"",value:"-",contrast:0,stat:"sum",fix:0}]},{title:"\u7528\u6237\u6570\u91cf",group:"user_count",list:[{title:"\u4e0b\u5355\u7528\u6237\u6570",field:"create_user_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u5ba2\u6237\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u7528\u6237\u6570",field:"pay_user_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u7528\u6237\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u7528\u6237\u6570",field:"refund_user_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u7528\u6237\u6570\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0}]},{title:"\u8bbe\u5907\u6570\u91cf",group:"device_count",list:[{title:"\u4e0b\u5355\u8bbe\u5907\u6570",field:"create_device_count",tooltip:"\u4e0b\u5355\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u4e0b\u5355\u7684\u8bbe\u5907\u6570\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u6536\u6b3e\u8bbe\u5907\u6570",field:"pay_device_count",tooltip:"\u6536\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8bbe\u5907\u6570\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0,trendChart:!0},{title:"\u9000\u6b3e\u8bbe\u5907\u6570",field:"refund_device_count",tooltip:"\u9000\u6b3e\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u8bbe\u5907\u6570\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:0}]}];e.fieldsGroupMap=a;var n=[];e.fieldsMap=n,a.map((function(t,e){t.list.map((function(t,e){n.push(t)}))}));e.statPanelTodayFieldsMap=[{title:"\u4e0b\u5355\u91d1\u989d\uff08GMV\uff09",field:"create_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u4e0b\u5355\u91d1\u989d\uff08\u5305\u542b\u672a\u652f\u4ed8\u8ba2\u5355\u548c\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u6536\u6b3e\u91d1\u989d\uff08GPV\uff09",field:"pay_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u8ba2\u5355\u91d1\u989d\uff08\u5305\u542b\u9000\u6b3e\u8ba2\u5355\uff09\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u9000\u6b3e\u91d1\u989d",field:"refund_total_amount",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u9000\u6b3e\u7684\u91d1\u989d\u3002",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01},{title:"\u5b9e\u6536\u91d1\u989d",field:"actual_total_amount",tooltip:"\u5b9e\u6536\u91d1\u989d=\u6536\u6b3e\u91d1\u989d-\u9000\u6b3e\u91d1\u989d",formatter:",",value:"-",contrast:0,stat:"sum",fix:2,trendChart:!0,multiple:.01}]},"0a4c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:t._$s(0,"sc","l-clipper"),class:t._$s(0,"c",{open:t.value}),style:t._$s(0,"s","z-index: "+t.zIndex+";"+t.customStyle),attrs:{_i:0}},[a("view",{staticClass:t._$s(1,"sc","l-clipper-mask"),attrs:{_i:1},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchMove(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.clipTouchEnd(e)}}},[a("view",{staticClass:t._$s(2,"sc","l-clipper__content"),style:t._$s(2,"s",t.clipStyle),attrs:{_i:2}},t._l(t._$s(3,"f",{forItems:[0,0,0,0]}),(function(e,i,n,r){return a("view",{key:t._$s(3,"f",{forIndex:n,key:i}),staticClass:t._$s("3-"+r,"sc","l-clipper__edge"),attrs:{_i:"3-"+r}})})),0)]),t._$s(4,"i",t.image)?a("image",{staticClass:t._$s(4,"sc","l-clipper-image"),style:t._$s(4,"s",t.imageStyle),attrs:{src:t._$s(4,"a-src",t.image),mode:t._$s(4,"a-mode","auto"==t.imageWidth?"widthFix":""),_i:4},on:{error:t.imageLoad,load:t.imageLoad,touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchStart(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchMove(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.imageTouchEnd(e)}}}):t._e(),a("canvas",{staticClass:t._$s(5,"sc","l-clipper-canvas"),style:t._$s(5,"s","width: "+t.canvasWidth*t.scaleRatio+"px; height:"+t.canvasHeight*t.scaleRatio+"px;"),attrs:{"canvas-id":t._$s(5,"a-canvas-id",t.canvasId),id:"l-clipper",_i:5}}),a("view",{staticClass:t._$s(6,"sc","l-clipper-tools"),attrs:{_i:6}},[a("view",{staticClass:t._$s(7,"sc","l-clipper-tools__btns"),attrs:{_i:7}},[t._$s(8,"i",t.isShowCancelBtn)?a("view",{attrs:{_i:8},on:{click:t.cancel}},[t._$s(9,"i",t.$slots.cancel)?t._t("cancel",null,{_i:9}):a("view",{staticClass:t._$s(10,"sc","cancel"),attrs:{_i:10}})],2):t._e(),t._$s(11,"i",t.isShowPhotoBtn)?a("view",{attrs:{_i:11},on:{click:t.uploadImage}},[t._$s(12,"i",t.$slots.photo)?t._t("photo",null,{_i:12}):a("image",{attrs:{src:t._$s(13,"a-src",i("595f")),_i:13}})],2):t._e(),t._$s(14,"i",t.isShowRotateBtn)?a("view",{attrs:{_i:14},on:{click:t.rotate}},[t._$s(15,"i",t.$slots.rotate)?t._t("rotate",null,{_i:15}):a("image",{attrs:{src:t._$s(16,"a-src",i("96707")),_i:16}})],2):t._e(),t._$s(17,"i",t.isShowConfirmBtn)?a("view",{attrs:{_i:17},on:{click:t.confirm}},[t._$s(18,"i",t.$slots.confirm)?t._t("confirm",null,{_i:18}):a("view",{staticClass:t._$s(19,"sc","confirm"),attrs:{_i:19}})],2):t._e()]),t._t("default",null,{_i:20})],2)])},n=[]},"0a9b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resFieldsMap=e.fieldsMap=e.entFieldsMap=void 0;e.fieldsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u8bbe\u5907\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u8bbe\u5907\u8651\u91cd\u540e\u7ed3\u679c",value:0,contrast:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0,contrast:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,contrast:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.resFieldsMap=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u5165\u53e3\u9875\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u9875\u9762\u7684\u5165\u53e3\u9875\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}]},"0aa1":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={tagid:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u7684tagid"},name:{rules:[{required:!0},{format:"string"}],label:"\u6807\u7b7e\u540d\u79f0"},description:{rules:[{format:"string"}],label:"\u6807\u7b7e\u63cf\u8ff0"}};e.enumConverter={}},"0aa6":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-icons",{attrs:{type:"info",_i:1},nativeOn:{mouseenter:function(e){return t.mouseenter(e)},mouseleave:function(e){t.showStableInfo=!1}}}),t._$s(2,"i",t.showStableInfo)?i("view",{staticClass:t._$s(2,"sc","show-stable"),style:t._$s(2,"s",{top:t.top+"px",left:t.left+"px",width:t.width+"px"}),attrs:{_i:2}},[i("text",[t._v(t._$s(3,"t0-0",t._s(t.content)))])]):t._e()],1)},r=[]},"0af8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"qiun-error",props:{errorMessage:{type:String,default:null}},data:function(){return{}}};e.default=a},"0b31":function(t,e,i){"use strict";i.r(e);var a=i("0294"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0b34":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-forms-item"),class:t._$s(0,"c",["is-direction-"+t.localLabelPos,t.border?"uni-forms-item--border":"",t.border&&t.isFirstBorder?"is-first-border":""]),attrs:{_i:0}},[t._t("label",[i("view",{staticClass:t._$s(2,"sc","uni-forms-item__label"),class:t._$s(2,"c",{"no-label":!t.label&&!t.isRequired}),style:t._$s(2,"s",{width:t.localLabelWidth,justifyContent:t.localLabelAlign}),attrs:{_i:2}},[t._$s(3,"i",t.isRequired)?i("text",{staticClass:t._$s(3,"sc","is-required"),attrs:{_i:3}}):t._e(),i("text",[t._v(t._$s(4,"t0-0",t._s(t.label)))])])],{_i:1}),i("view",{staticClass:t._$s(5,"sc","uni-forms-item__content"),attrs:{_i:5}},[t._t("default",null,{_i:6}),i("view",{staticClass:t._$s(7,"sc","uni-forms-item__error"),class:t._$s(7,"c",{"msg--active":t.msg}),attrs:{_i:7}},[i("text",[t._v(t._$s(8,"t0-0",t._s(t.msg)))])])],2)],2)},n=[]},"0b4c":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("278c")),r=a(i("7037")),s={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},o=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];if(null==t)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!i||i.length<=0)return t;function n(t,e){for(var i in e)t[i]=t[i]&&"[object Object]"===t[i].toString()?n(t[i],e[i]):t[i]=e[i];return t}return i.forEach((function(e){t=n(t,e)})),t},u={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height;var i=e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y;return!i}};function c(t,e){var i=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,a){return e+e+i+i+a+a})),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),n=parseInt(a[1],16),r=parseInt(a[2],16),s=parseInt(a[3],16);return"rgba("+n+","+r+","+s+","+e+")"}function l(t,e,i){if(isNaN(t))throw new Error("[uCharts] series\u6570\u636e\u9700\u4e3aNumber\u683c\u5f0f");i=i||10,e=e||"upper";var a=1;while(i<1)i*=10,a*=10;t="upper"===e?Math.ceil(t*a):Math.floor(t*a);while(t%i!==0)if("upper"===e){if(t==t+1)break;t++}else t--;return t/a}function d(t,e,i,a,n){var r=n.width-n.area[1]-n.area[3],s=i.eachSpacing*(n.chartData.xAxisData.xAxisPoints.length-1);"mount"==n.type&&n.extra&&n.extra.mount&&n.extra.mount.widthRatio&&n.extra.mount.widthRatio>1&&(n.extra.mount.widthRatio>2&&(n.extra.mount.widthRatio=2),s+=(n.extra.mount.widthRatio-1)*i.eachSpacing);var o=e;return e>=0?(o=0,t.uevent.trigger("scrollLeft"),t.scrollOption.position="left",n.xAxis.scrollPosition="left"):Math.abs(e)>=s-r?(o=r-s,t.uevent.trigger("scrollRight"),t.scrollOption.position="right",n.xAxis.scrollPosition="right"):(t.scrollOption.position=e,n.xAxis.scrollPosition=e),o}function f(t,e,i){function a(t){while(t<0)t+=2*Math.PI;while(t>2*Math.PI)t-=2*Math.PI;return t}return t=a(t),e=a(e),i=a(i),e>i&&(i+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=i}function h(t,e){function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function a(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].x>=Math.max(t[e-1].x,t[e+1].x)||t[e].x<=Math.min(t[e-1].x,t[e+1].x))}var n=.2,r=.2,s=null,o=null,u=null,c=null;if(e<1?(s=t[0].x+(t[1].x-t[0].x)*n,o=t[0].y+(t[1].y-t[0].y)*n):(s=t[e].x+(t[e+1].x-t[e-1].x)*n,o=t[e].y+(t[e+1].y-t[e-1].y)*n),e>t.length-3){var l=t.length-1;u=t[l].x-(t[l].x-t[l-1].x)*r,c=t[l].y-(t[l].y-t[l-1].y)*r}else u=t[e+1].x-(t[e+2].x-t[e].x)*r,c=t[e+1].y-(t[e+2].y-t[e].y)*r;return i(t,e+1)&&(c=t[e+1].y),i(t,e)&&(o=t[e].y),a(t,e+1)&&(u=t[e+1].x),a(t,e)&&(s=t[e].x),(o>=Math.max(t[e].y,t[e+1].y)||o<=Math.min(t[e].y,t[e+1].y))&&(o=t[e].y),(c>=Math.max(t[e].y,t[e+1].y)||c<=Math.min(t[e].y,t[e+1].y))&&(c=t[e+1].y),(s>=Math.max(t[e].x,t[e+1].x)||s<=Math.min(t[e].x,t[e+1].x))&&(s=t[e].x),(u>=Math.max(t[e].x,t[e+1].x)||u<=Math.min(t[e].x,t[e+1].x))&&(u=t[e+1].x),{ctrA:{x:s,y:o},ctrB:{x:u,y:c}}}function p(t,e,i){return{x:i.x+t,y:i.y-e}}function m(t,e){if(e)while(u.isCollision(t,e))t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function g(t,e,i){for(var a=0,n=0;n<t.length;n++){var r=t[n];if(r.color||(r.color=i.color[a],a=(a+1)%i.color.length),r.linearIndex||(r.linearIndex=n),r.index||(r.index=0),r.type||(r.type=e.type),"undefined"==typeof r.show&&(r.show=!0),r.type||(r.type=e.type),r.pointShape||(r.pointShape="circle"),!r.legendShape)switch(r.type){case"line":r.legendShape="line";break;case"column":case"bar":r.legendShape="rect";break;case"area":case"mount":r.legendShape="triangle";break;default:r.legendShape="circle"}}return t}function _(t,e,i,a){var n=e||[];if("custom"==t&&0==n.length&&(n=a.linearColor),"custom"==t&&n.length<i.length)for(var r=i.length-n.length,s=0;s<r;s++)n.push(a.linearColor[(s+1)%a.linearColor.length]);return n}function v(t,e){var i=0,a=e-t;return i=a>=1e4?1e3:a>=1e3?100:a>=100?10:a>=10?5:a>=1?1:a>=.1?.1:a>=.01?.01:a>=.001?.001:a>=1e-4?1e-4:a>=1e-5?1e-5:1e-6,{minRange:l(t,"lower",i),maxRange:l(e,"upper",i)}}function b(t,e,i){var a=0;if(t=String(t),!1!==i&&void 0!==i&&i.setFontSize&&i.measureText)return i.setFontSize(e),i.measureText(t).width;t=t.split("");for(var n=0;n<t.length;n++){var r=t[n];/[a-zA-Z]/.test(r)?a+=7:/[0-9]/.test(r)?a+=5.5:/\./.test(r)?a+=2.7:/-/.test(r)?a+=3.25:/:/.test(r)?a+=2.5:/[\u4e00-\u9fa5]/.test(r)?a+=10:/\(|\)/.test(r)?a+=3.73:/\s/.test(r)?a+=2.5:/%/.test(r)?a+=8:a+=10}return a*e/10}function y(t){return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data)}),[])}function x(t,e){for(var i=new Array(e),a=0;a<i.length;a++)i[a]=0;for(var n=0;n<t.length;n++)for(a=0;a<i.length;a++)i[a]+=t[n].data[a];return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data).concat(i)}),[])}function w(t,e,i){var a,n;return t.clientX?e.rotate?(n=e.height-t.clientX*e.pix,a=(t.pageY-i.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):(a=t.clientX*e.pix,n=(t.pageY-i.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):e.rotate?(n=e.height-t.x*e.pix,a=t.y*e.pix):(a=t.x*e.pix,n=t.y*e.pix),{x:a,y:n}}function C(t,e,i){var a=[],n=[],r=e.constructor.toString().indexOf("Array")>-1;if(r)for(var s=O(t),o=0;o<i.length;o++)n.push(s[i[o]]);else n=t;for(var u=0;u<n.length;u++){var c=n[u],l=-1;if(l=r?e[u]:e,null!==c.data[l]&&"undefined"!==typeof c.data[l]&&c.show){var d={};d.color=c.color,d.type=c.type,d.style=c.style,d.pointShape=c.pointShape,d.disableLegend=c.disableLegend,d.legendShape=c.legendShape,d.name=c.name,d.show=c.show,d.data=c.formatter?c.formatter(c.data[l]):c.data[l],a.push(d)}}return a}function $(t,e,i){var a=t.map((function(t){return b(t,e,i)}));return Math.max.apply(null,a)}function k(t){for(var e=2*Math.PI/t,i=[],a=0;a<t;a++)i.push(e*a);return i.map((function(t){return-1*t+Math.PI/2}))}function D(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=e.chartData.calPoints?e.chartData.calPoints:[],o={};if(a.length>0){for(var u=[],c=0;c<a.length;c++)u.push(s[a[c]]);o=u[0][i[0]]}else for(var l=0;l<s.length;l++)if(s[l][i]){o=s[l][i];break}var d=t.map((function(t){var a=null;return e.categories&&e.categories.length>0&&(a=n[i]),{text:r.formatter?r.formatter(t,a,i,e):t.name+": "+t.data,color:t.color,legendShape:"auto"==e.extra.tooltip.legendShape?t.legendShape:e.extra.tooltip.legendShape}})),f={x:Math.round(o.x),y:Math.round(o.y)};return{textList:d,offset:f}}function S(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=e.chartData.xAxisPoints[i]+e.chartData.eachSpacing/2,s=t.map((function(t){return{text:n.formatter?n.formatter(t,a[i],i,e):t.name+": "+t.data,color:t.color,disableLegend:!!t.disableLegend,legendShape:"auto"==e.extra.tooltip.legendShape?t.legendShape:e.extra.tooltip.legendShape}}));s=s.filter((function(t){if(!0!==t.disableLegend)return t}));var o={x:Math.round(r),y:0};return{textList:s,offset:o}}function T(t,e,i,a,n,r){var s=i.chartData.calPoints,o=r.color.upFill,u=r.color.downFill,c=[o,o,u,o],l=[];e.map((function(e){0==a?e.data[1]-e.data[0]<0?c[1]=u:c[1]=o:(e.data[0]<t[a-1][1]&&(c[0]=u),e.data[1]<e.data[0]&&(c[1]=u),e.data[2]>t[a-1][1]&&(c[2]=o),e.data[3]<t[a-1][1]&&(c[3]=u));var n={text:"\u5f00\u76d8\uff1a"+e.data[0],color:c[0],legendShape:"auto"==i.extra.tooltip.legendShape?e.legendShape:i.extra.tooltip.legendShape},r={text:"\u6536\u76d8\uff1a"+e.data[1],color:c[1],legendShape:"auto"==i.extra.tooltip.legendShape?e.legendShape:i.extra.tooltip.legendShape},s={text:"\u6700\u4f4e\uff1a"+e.data[2],color:c[2],legendShape:"auto"==i.extra.tooltip.legendShape?e.legendShape:i.extra.tooltip.legendShape},d={text:"\u6700\u9ad8\uff1a"+e.data[3],color:c[3],legendShape:"auto"==i.extra.tooltip.legendShape?e.legendShape:i.extra.tooltip.legendShape};l.push(n,r,s,d)}));for(var d=[],f={x:0,y:0},h=0;h<s.length;h++){var p=s[h];"undefined"!==typeof p[a]&&null!==p[a]&&d.push(p[a])}return f.x=Math.round(d[0][0].x),{textList:l,offset:f}}function O(t){for(var e=[],i=0;i<t.length;i++)1==t[i].show&&e.push(t[i]);return e}function P(t,e,i){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function M(t,e,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2)}function A(t,e){var i=[],a=[];return t.forEach((function(t,n){e.connectNulls?null!==t&&a.push(t):null!==t?a.push(t):(a.length&&i.push(a),a=[])})),a.length&&i.push(a),i}function I(t,e,i,a,n){var r={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix},s=e.xAxis.fontSize*e.pix,o=t.map((function(t,i){var a=e.xAxis.formatter?e.xAxis.formatter(t,i,e):t;return b(String(a),s,n)})),u=Math.max.apply(this,o);if(1==e.xAxis.rotateLabel){r.angle=e.xAxis.rotateAngle*Math.PI/180;var c=e.xAxis.marginTop*e.pix*2+Math.abs(u*Math.sin(r.angle));c=c<s+e.xAxis.marginTop*e.pix*2?c+e.xAxis.marginTop*e.pix*2:c,r.xAxisHeight=c}return e.enableScroll&&e.xAxis.scrollShow&&(r.xAxisHeight+=6*e.pix),e.xAxis.disabled&&(r.xAxisHeight=0),r}function j(t,e,i,a){var n=o({},{type:""},e.extra.bar),s={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix};s.ranges=function(t,e,i,a){var n,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;n="stack"==a?x(t,e.categories.length):y(t);var o=[];n=n.filter((function(t){return"object"===(0,r.default)(t)&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),n.map((function(t){"object"===(0,r.default)(t)?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[0]):o.push(t.value):o.push(t)}));var u=0,c=0;if(o.length>0&&(u=Math.min.apply(this,o),c=Math.max.apply(this,o)),s>-1?("number"===typeof e.xAxis.data[s].min&&(u=Math.min(e.xAxis.data[s].min,u)),"number"===typeof e.xAxis.data[s].max&&(c=Math.max(e.xAxis.data[s].max,c))):("number"===typeof e.xAxis.min&&(u=Math.min(e.xAxis.min,u)),"number"===typeof e.xAxis.max&&(c=Math.max(e.xAxis.max,c))),u===c){var l=c||10;c+=l}for(var d=u,f=c,h=[],p=(f-d)/e.xAxis.splitNumber,m=0;m<=e.xAxis.splitNumber;m++)h.push(d+p*m);return h}(t,e,i,n.type),s.rangesFormat=s.ranges.map((function(t){return t=u.toFixed(t,2),t}));var c=s.ranges.map((function(t){return t=u.toFixed(t,2),t}));s=Object.assign(s,Q(c,e,i));s.eachSpacing,c.map((function(t){return b(t,e.xAxis.fontSize*e.pix,a)}));return!0===e.xAxis.disabled&&(s.xAxisHeight=0),s}function F(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=n.extra.radar||{};s.max=s.max||0;for(var o=Math.max(s.max,Math.max.apply(null,y(a))),u=[],c=function(n){var s=a[n],c={};c.color=s.color,c.legendShape=s.legendShape,c.pointShape=s.pointShape,c.data=[],s.data.forEach((function(a,n){var s={};s.angle=t[n],s.proportion=a/o,s.value=a,s.position=p(i*s.proportion*r*Math.cos(s.angle),i*s.proportion*r*Math.sin(s.angle),e),c.data.push(s)})),u.push(c)},l=0;l<a.length;l++)c(l);return u}function L(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=0,n=0,r=0;r<t.length;r++){var s=t[r];s.data=null===s.data?0:s.data,a+=s.data}for(var o=0;o<t.length;o++){var u=t[o];u.data=null===u.data?0:u.data,u._proportion_=0===a?1/t.length*i:u.data/a*i,u._radius_=e}for(var c=0;c<t.length;c++){var l=t[c];l._start_=n,n+=2*l._proportion_*Math.PI}return t}function E(t,e,i,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0;r<t.length;r++)"funnel"==i.type?t[r].radius=t[r].data/t[0].data*e*n:t[r].radius=a*(t.length-r)/(a*t.length)*e*n,t[r]._proportion_=t[r].data/t[0].data;return t}function q(t,e,i,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0,s=0,o=[],u=0;u<t.length;u++){var c=t[u];c.data=null===c.data?0:c.data,r+=c.data,o.push(c.data)}for(var l=Math.min.apply(null,o),d=Math.max.apply(null,o),f=a-i,h=0;h<t.length;h++){var p=t[h];p.data=null===p.data?0:p.data,0===r?(p._proportion_=1/t.length*n,p._rose_proportion_=1/t.length*n):(p._proportion_=p.data/r*n,p._rose_proportion_="area"==e?1/t.length*n:p.data/r*n),p._radius_=i+f*((p.data-l)/(d-l))||a}for(var m=0;m<t.length;m++){var g=t[m];g._start_=s,s+=2*g._rose_proportion_*Math.PI}return t}function R(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==i&&(i=.999999);for(var a=0;a<t.length;a++){var n=t[a];n.data=null===n.data?0:n.data;var r=void 0;r="circle"==e.type?2:"ccw"==e.direction?e.startAngle<e.endAngle?2+e.startAngle-e.endAngle:e.startAngle-e.endAngle:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,n._proportion_=r*n.data*i+e.startAngle,"ccw"==e.direction&&(n._proportion_=e.startAngle-r*n.data*i),n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function B(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==i&&(i=.999999);for(var a=0;a<t.length;a++){var n=t[a];n.data=null===n.data?0:n.data;var r=void 0;r="circle"==e.type?2:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,n._proportion_=r*n.data*i+e.startAngle,n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function N(t,e,i){var a;a=i<e?2+i-e:e-i;for(var n=e,r=0;r<t.length;r++)t[r].value=null===t[r].value?0:t[r].value,t[r]._startAngle_=n,t[r]._endAngle_=a*t[r].value+e,t[r]._endAngle_>=2&&(t[r]._endAngle_=t[r]._endAngle_%2),n=t[r]._endAngle_;return t}function z(t,e,i){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=0;n<t.length;n++){var r=t[n];if(r.data=null===r.data?0:r.data,"auto"==i.pointer.color){for(var s=0;s<e.length;s++)if(r.data<=e[s].value){r.color=e[s].color;break}}else r.color=i.pointer.color;var o=void 0;o=i.endAngle<i.startAngle?2+i.endAngle-i.startAngle:i.startAngle-i.endAngle,r._endAngle_=o*r.data+i.startAngle,r._oldAngle_=i.oldAngle,i.oldAngle<i.endAngle&&(r._oldAngle_+=2),r.data>=i.oldData?r._proportion_=(r._endAngle_-r._oldAngle_)*a+i.oldAngle:r._proportion_=r._oldAngle_-(r._oldAngle_-r._endAngle_)*a,r._proportion_>=2&&(r._proportion_=r._proportion_%2)}return t}function W(t,e,i,a,n,r){return t.map((function(t){if(null===t)return null;var n=0,s=0;return"mix"==r.type?(n=r.extra.mix.column.seriesGap*r.pix||0,s=r.extra.mix.column.categoryGap*r.pix||0):(n=r.extra.column.seriesGap*r.pix||0,s=r.extra.column.categoryGap*r.pix||0),n=Math.min(n,e/i),s=Math.min(s,e/i),t.width=Math.ceil((e-2*s-n*(i-1))/i),r.extra.mix&&r.extra.mix.column.width&&+r.extra.mix.column.width>0&&(t.width=Math.min(t.width,+r.extra.mix.column.width*r.pix)),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t.x+=(a+.5-i/2)*(t.width+n),t}))}function U(t,e,i,a,n,r){return t.map((function(t){if(null===t)return null;var n=0,s=0;return n=r.extra.bar.seriesGap*r.pix||0,s=r.extra.bar.categoryGap*r.pix||0,n=Math.min(n,e/i),s=Math.min(s,e/i),t.width=Math.ceil((e-2*s-n*(i-1))/i),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t.y+=(a+.5-i/2)*(t.width+n),t}))}function V(t,e,i,a,n,r,s){var o=r.extra.column.categoryGap*r.pix||0;return t.map((function(t){return null===t?null:(t.width=e-2*o,r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),a>0&&(t.width-=s),t)}))}function H(t,e,i,a,n,r,s){var o=r.extra.column.categoryGap*r.pix||0;return t.map((function(t,i){return null===t?null:(t.width=Math.ceil(e-2*o),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function G(t,e,i,a,n,r,s){var o=r.extra.bar.categoryGap*r.pix||0;return t.map((function(t,i){return null===t?null:(t.width=Math.ceil(e-2*o),r.extra.bar&&r.extra.bar.width&&+r.extra.bar.width>0&&(t.width=Math.min(t.width,+r.extra.bar.width*r.pix)),t.width<=0&&(t.width=1),t)}))}function Q(t,e,i){var a=e.width-e.area[1]-e.area[3],n=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;("line"==e.type||"area"==e.type||"scatter"==e.type||"bubble"==e.type||"bar"==e.type)&&n>1&&"justify"==e.xAxis.boundaryGap&&(n-=1);var r=0;"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),r=e.extra.mount.widthRatio-1,n+=r);var s=a/n,o=[],u=e.area[3],c=e.width-e.area[1];return t.forEach((function(t,e){o.push(u+r/2*s+e*s)})),"justify"!==e.xAxis.boundaryGap&&(!0===e.enableScroll?o.push(u+r*s+t.length*s):o.push(c)),{xAxisPoints:o,startX:u,endX:c,eachSpacing:s}}function J(t,e,i,a,n,r,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,u=[],c=r.height-r.area[0]-r.area[2];return t.forEach((function(t,s){if(null===t)u.push(null);else{var l=[];t.forEach((function(t,u){var d={};d.x=a[s]+Math.round(n/2);var f=t.value||t,h=c*(f-e)/(i-e);h*=o,d.y=r.height-Math.round(h)-r.area[2],l.push(d)})),u.push(l)}})),u}function Y(t,e,i,a,n,s,o){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c="center";"line"!=s.type&&"area"!=s.type&&"scatter"!=s.type&&"bubble"!=s.type||(c=s.xAxis.boundaryGap);var l=[],d=s.height-s.area[0]-s.area[2],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)l.push(null);else{var h={};h.color=t.color,h.x=a[o];var p,m,g,_=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)p=[].concat(s.chartData.xAxisData.ranges),m=p.shift(),g=p.pop(),_=t[1],h.x=s.area[3]+f*(t[0]-m)/(g-m),"bubble"==s.type&&(h.r=t[2],h.t=t[3]);else _=t.value;"center"==c&&(h.x+=n/2);var v=d*(_-e)/(i-e);v*=u,h.y=s.height-v-s.area[2],l.push(h)}})),l}function X(t,e,i,a,n,s,o,u,c){c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var l=s.xAxis.boundaryGap,d=[],f=s.height-s.area[0]-s.area[2],h=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)d.push(null);else{var p={};if(p.color=t.color,"vertical"==u.animation){p.x=a[o];var m,g,_,v=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)m=[].concat(s.chartData.xAxisData.ranges),g=m.shift(),_=m.pop(),v=t[1],p.x=s.area[3]+h*(t[0]-g)/(_-g);else v=t.value;"center"==l&&(p.x+=n/2);var b=f*(v-e)/(i-e);b*=c,p.y=s.height-b-s.area[2],d.push(p)}else{p.x=a[0]+n*o*c;v=t;"center"==l&&(p.x+=n/2);b=f*(v-e)/(i-e);p.y=s.height-b-s.area[2],d.push(p)}}})),d}function K(t,e,i,a,n,s,o,u,c){c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var l=[],d=s.height-s.area[0]-s.area[2],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,o){if(null===t)l.push(null);else{var u={};u.color=t.color,u.x=a[o];var h,p,m,g=t;if("object"===(0,r.default)(t)&&null!==t)if(t.constructor.toString().indexOf("Array")>-1)h=[].concat(s.chartData.xAxisData.ranges),p=h.shift(),m=h.pop(),g=t[1],u.x=s.area[3]+f*(t[0]-p)/(m-p);else g=t.value;u.x+=n/2;var _=d*(g*c-e)/(i-e);u.y=s.height-_-s.area[2],l.push(u)}})),l}function Z(t,e,i,a,n,r,s,o){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=[],l=r.height-r.area[0]-r.area[2],d=(r.width,r.area[1],r.area[3],n*s.widthRatio);return t.forEach((function(t,s){if(null===t)c.push(null);else{var o={};o.color=t.color,o.x=a[s],o.x+=n/2;var f=t.data,h=l*(f*u-e)/(i-e);o.y=r.height-h-r.area[2],o.value=f,o.width=d,c.push(o)}})),c}function tt(t,e,i,a,n,s,o){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=[],l=(s.height,s.area[0],s.area[2],s.width-s.area[1]-s.area[3]);return t.forEach((function(t,n){if(null===t)c.push(null);else{var o={};o.color=t.color,o.y=a[n];var d=t;"object"===(0,r.default)(t)&&null!==t&&(d=t.value);var f=l*(d-e)/(i-e);f*=u,o.height=f,o.value=d,o.x=f+s.area[3],c.push(o)}})),c}function et(t,e,i,a,n,s,o,u,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=[],f=s.height-s.area[0]-s.area[2];return t.forEach((function(t,o){if(null===t)d.push(null);else{var h={};if(h.color=t.color,h.x=a[o]+Math.round(n/2),u>0){for(var p=0,m=0;m<=u;m++)p+=c[m].data[o];var g=p-t,_=f*(p-e)/(i-e),v=f*(g-e)/(i-e)}else{p=t;"object"===(0,r.default)(t)&&null!==t&&(p=t.value);_=f*(p-e)/(i-e),v=0}var b=v;_*=l,b*=l,h.y=s.height-Math.round(_)-s.area[2],h.y0=s.height-Math.round(b)-s.area[2],d.push(h)}})),d}function it(t,e,i,a,n,s,o,u,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=[],f=s.width-s.area[1]-s.area[3];return t.forEach((function(t,n){if(null===t)d.push(null);else{var o={};if(o.color=t.color,o.y=a[n],u>0){for(var h=0,p=0;p<=u;p++)h+=c[p].data[n];var m=h-t,g=f*(h-e)/(i-e),_=f*(m-e)/(i-e)}else{h=t;"object"===(0,r.default)(t)&&null!==t&&(h=t.value);g=f*(h-e)/(i-e),_=0}var v=_;g*=l,v*=l,o.height=g-v,o.x=s.area[3]+g,o.x0=s.area[3]+v,d.push(o)}})),d}function at(t,e,i,a,n){var s;s="stack"==a?x(t,e.categories.length):y(t);var o=[];s=s.filter((function(t){return"object"===(0,r.default)(t)&&null!==t?t.constructor.toString().indexOf("Array")>-1?null!==t:null!==t.value:null!==t})),s.map((function(t){"object"===(0,r.default)(t)?t.constructor.toString().indexOf("Array")>-1?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[1]):o.push(t.value):o.push(t)}));var u=n.min||0,c=n.max||0;o.length>0&&(u=Math.min.apply(this,o),c=Math.max.apply(this,o)),u===c&&(0==c?c=10:u=0);for(var l=v(u,c),d=void 0===n.min||null===n.min?l.minRange:n.min,f=void 0===n.max||null===n.max?l.maxRange:n.max,h=(f-d)/e.yAxis.splitNumber,p=[],m=0;m<=e.yAxis.splitNumber;m++)p.push(d+h*m);return p.reverse()}function nt(t,e,i,a){var n=o({},{type:""},e.extra.column),r=e.yAxis.data.length,s=new Array(r);if(r>0){for(var c=0;c<r;c++){s[c]=[];for(var l=0;l<t.length;l++)t[l].index==c&&s[c].push(t[l])}for(var d=new Array(r),f=new Array(r),h=new Array(r),p=function(t){var r=e.yAxis.data[t];1==e.yAxis.disabled&&(r.disabled=!0),"categories"===r.type?(r.formatter||(r.formatter=function(t,e,i){return t+(r.unit||"")}),r.categories=r.categories||e.categories,d[t]=r.categories):(r.formatter||(r.formatter=function(t,e,i){return u.toFixed(t,r.tofix||0)+(r.unit||"")}),d[t]=at(s[t],e,i,n.type,r,t));var o=r.fontSize*e.pix||i.fontSize;h[t]={position:r.position?r.position:"left",width:0},f[t]=d[t].map((function(i,n){return i=r.formatter(i,n,e),h[t].width=Math.max(h[t].width,b(i,o,a)+5),i}));var c=r.calibration?4*e.pix:0;h[t].width+=c+3*e.pix,!0===r.disabled&&(h[t].width=0)},m=0;m<r;m++)p(m)}else{d=new Array(1),f=new Array(1),h=new Array(1);"bar"===e.type?(d[0]=e.categories,e.yAxis.formatter||(e.yAxis.formatter=function(t,e,i){return t+(i.yAxis.unit||"")})):(e.yAxis.formatter||(e.yAxis.formatter=function(t,e,i){return t.toFixed(i.yAxis.tofix)+(i.yAxis.unit||"")}),d[0]=at(t,e,i,n.type,{})),h[0]={position:"left",width:0};var g=e.yAxis.fontSize*e.pix||i.fontSize;f[0]=d[0].map((function(t,i){return t=e.yAxis.formatter(t,i,e),h[0].width=Math.max(h[0].width,b(t,g,a)+5),t})),h[0].width+=3*e.pix,!0===e.yAxis.disabled?(h[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):(e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,formatter:e.yAxis.formatter},"bar"===e.type&&(e.yAxis.data[0].categories=e.categories,e.yAxis.data[0].type="categories"))}return{rangesFormat:f,ranges:d,yAxisWidth:h}}function rt(t,e){!0!==e.rotateLock?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):!0!==e._rotate_&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function st(t,e,i,a,n){if(a.beginPath(),"hollow"==n.dataPointShapeType?(a.setStrokeStyle(e),a.setFillStyle(n.background),a.setLineWidth(2*n.pix)):(a.setStrokeStyle("#ffffff"),a.setFillStyle(e),a.setLineWidth(1*n.pix)),"diamond"===i)t.forEach((function(t,e){null!==t&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y),a.lineTo(t.x,t.y+4.5),a.lineTo(t.x+4.5,t.y),a.lineTo(t.x,t.y-4.5))}));else if("circle"===i)t.forEach((function(t,e){null!==t&&(a.moveTo(t.x+2.5*n.pix,t.y),a.arc(t.x,t.y,3*n.pix,0,2*Math.PI,!1))}));else if("square"===i)t.forEach((function(t,e){null!==t&&(a.moveTo(t.x-3.5,t.y-3.5),a.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===i)t.forEach((function(t,e){null!==t&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y+4.5),a.lineTo(t.x+4.5,t.y+4.5),a.lineTo(t.x,t.y-4.5))}));else if("none"===i)return;a.closePath(),a.fill(),a.stroke()}function ot(t,e,i,a,n,r,s){if(n.tooltip&&!(n.tooltip.group.length>0&&0==n.tooltip.group.includes(s))){var o="number"===typeof n.tooltip.index?n.tooltip.index:n.tooltip.index[n.tooltip.group.indexOf(s)];if(a.beginPath(),"hollow"==r.activeType?(a.setStrokeStyle(e),a.setFillStyle(n.background),a.setLineWidth(2*n.pix)):(a.setStrokeStyle("#ffffff"),a.setFillStyle(e),a.setLineWidth(1*n.pix)),"diamond"===i)t.forEach((function(t,e){null!==t&&o==e&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y),a.lineTo(t.x,t.y+4.5),a.lineTo(t.x+4.5,t.y),a.lineTo(t.x,t.y-4.5))}));else if("circle"===i)t.forEach((function(t,e){null!==t&&o==e&&(a.moveTo(t.x+2.5*n.pix,t.y),a.arc(t.x,t.y,3*n.pix,0,2*Math.PI,!1))}));else if("square"===i)t.forEach((function(t,e){null!==t&&o==e&&(a.moveTo(t.x-3.5,t.y-3.5),a.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===i)t.forEach((function(t,e){null!==t&&o==e&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y+4.5),a.lineTo(t.x+4.5,t.y+4.5),a.lineTo(t.x,t.y-4.5))}));else if("none"===i)return;a.closePath(),a.fill(),a.stroke()}}function ut(t,e,i,a){var n=t.title.fontSize||e.titleFontSize,r=t.subtitle.fontSize||e.subtitleFontSize,s=t.title.name||"",o=t.subtitle.name||"",u=t.title.color||t.fontColor,c=t.subtitle.color||t.fontColor,l=s?n:0,d=o?r:0;if(o){var f=b(o,r*t.pix,i),h=a.x-f/2+(t.subtitle.offsetX||0)*t.pix,p=a.y+r*t.pix/2+(t.subtitle.offsetY||0)*t.pix;s&&(p+=(l*t.pix+5)/2),i.beginPath(),i.setFontSize(r*t.pix),i.setFillStyle(c),i.fillText(o,h,p),i.closePath(),i.stroke()}if(s){var m=b(s,n*t.pix,i),g=a.x-m/2+(t.title.offsetX||0),_=a.y+n*t.pix/2+(t.title.offsetY||0)*t.pix;o&&(_-=(d*t.pix+5)/2),i.beginPath(),i.setFontSize(n*t.pix),i.setFillStyle(u),i.fillText(s,g,_),i.closePath(),i.stroke()}}function ct(t,e,i,a,n){var s=e.data,o=e.textOffset?e.textOffset:0;t.forEach((function(t,u){if(null!==t){a.beginPath();var c=e.textSize?e.textSize*n.pix:i.fontSize;a.setFontSize(c),a.setFillStyle(e.textColor||n.fontColor);var l=s[u];"object"===(0,r.default)(s[u])&&null!==s[u]&&(l=s[u].constructor.toString().indexOf("Array")>-1?s[u][1]:s[u].value);var d=e.formatter?e.formatter(l,u,e,n):l;a.setTextAlign("center"),a.fillText(String(d),t.x,t.y-4+o*n.pix),a.closePath(),a.stroke(),a.setTextAlign("left")}}))}function lt(t,e,i,a,n){var s=e.data,o=e.textOffset?e.textOffset:0,u=n.extra.column.labelPosition;t.forEach((function(t,c){if(null!==t){a.beginPath();var l=e.textSize?e.textSize*n.pix:i.fontSize;a.setFontSize(l),a.setFillStyle(e.textColor||n.fontColor);var d=s[c];"object"===(0,r.default)(s[c])&&null!==s[c]&&(d=s[c].constructor.toString().indexOf("Array")>-1?s[c][1]:s[c].value);var f=e.formatter?e.formatter(d,c,e,n):d;a.setTextAlign("center");var h=t.y-4*n.pix+o*n.pix;t.y>e.zeroPoints&&(h=t.y+o*n.pix+l),"insideTop"==u&&(h=t.y+l+o*n.pix,t.y>e.zeroPoints&&(h=t.y-o*n.pix-4*n.pix)),"center"==u&&(h=t.y+o*n.pix+(n.height-n.area[2]-t.y+l)/2,e.zeroPoints<n.height-n.area[2]&&(h=t.y+o*n.pix+(e.zeroPoints-t.y+l)/2),t.y>e.zeroPoints&&(h=t.y-o*n.pix-(t.y-e.zeroPoints-l)/2),"stack"==n.extra.column.type&&(h=t.y+o*n.pix+(t.y0-t.y+l)/2)),"bottom"==u&&(h=n.height-n.area[2]+o*n.pix-4*n.pix,e.zeroPoints<n.height-n.area[2]&&(h=e.zeroPoints+o*n.pix-4*n.pix),t.y>e.zeroPoints&&(h=e.zeroPoints-o*n.pix+l+2*n.pix),"stack"==n.extra.column.type&&(h=t.y0+o*n.pix-4*n.pix)),a.fillText(String(f),t.x,h),a.closePath(),a.stroke(),a.setTextAlign("left")}}))}function dt(t,e,i,a,n,r){e.data;var s=e.textOffset?e.textOffset:0;n.extra.mount.labelPosition;t.forEach((function(t,o){if(null!==t){a.beginPath();var u=e[o].textSize?e[o].textSize*n.pix:i.fontSize;a.setFontSize(u),a.setFillStyle(e[o].textColor||n.fontColor);var c=t.value,l=e[o].formatter?e[o].formatter(c,o,e,n):c;a.setTextAlign("center");var d=t.y-4*n.pix+s*n.pix;t.y>r&&(d=t.y+s*n.pix+u),a.fillText(String(l),t.x,d),a.closePath(),a.stroke(),a.setTextAlign("left")}}))}function ft(t,e,i,a,n){var s=e.data;e.textOffset&&e.textOffset;t.forEach((function(t,o){if(null!==t){a.beginPath();var u=e.textSize?e.textSize*n.pix:i.fontSize;a.setFontSize(u),a.setFillStyle(e.textColor||n.fontColor);var c=s[o];"object"===(0,r.default)(s[o])&&null!==s[o]&&(c=s[o].value);var l=e.formatter?e.formatter(c,o,e,n):c;a.setTextAlign("left"),a.fillText(String(l),t.x+4*n.pix,t.y+u/2-3),a.closePath(),a.stroke()}}))}function ht(t,e,i,a,n,r){var s;e-=t.width/2+t.labelOffset*a.pix,e=e<10?10:e,s=t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle;for(var o=s/t.splitLine.splitNumber,u=t.endNumber-t.startNumber,c=u/t.splitLine.splitNumber,l=t.startAngle,d=t.startNumber,f=0;f<t.splitLine.splitNumber+1;f++){var h={x:e*Math.cos(l*Math.PI),y:e*Math.sin(l*Math.PI)},p=t.formatter?t.formatter(d,f,a):d;h.x+=i.x-b(p,n.fontSize,r)/2,h.y+=i.y;var m=h.x,g=h.y;r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(t.labelColor||a.fontColor),r.fillText(p,m,g+n.fontSize/2),r.closePath(),r.stroke(),l+=o,l>=2&&(l%=2),d+=c}}function pt(t,e,i,a,n,r){var s=a.extra.radar||{};t.forEach((function(t,o){if(!0===s.labelPointShow&&""!==a.categories[o]){var c={x:e*Math.cos(t),y:e*Math.sin(t)},l=p(c.x,c.y,i);r.setFillStyle(s.labelPointColor),r.beginPath(),r.arc(l.x,l.y,s.labelPointRadius*a.pix,0,2*Math.PI,!1),r.closePath(),r.fill()}if(!0===s.labelShow){var d={x:(e+n.radarLabelTextMargin*a.pix)*Math.cos(t),y:(e+n.radarLabelTextMargin*a.pix)*Math.sin(t)},f=p(d.x,d.y,i),h=f.x,m=f.y;u.approximatelyEqual(d.x,0)?h-=b(a.categories[o]||"",n.fontSize,r)/2:d.x<0&&(h-=b(a.categories[o]||"",n.fontSize,r)),r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(s.labelColor||a.fontColor),r.fillText(a.categories[o]||"",h,m+n.fontSize/2),r.closePath(),r.stroke()}}))}function mt(t,e,i,a,n,r){for(var s=i.pieChartLinePadding,o=[],c=null,l=t.map((function(i,a){var n=i.formatter?i.formatter(i,a,t,e):u.toFixed(100*i._proportion_.toFixed(4))+"%";n=i.labelText?i.labelText:n;var r=2*Math.PI-(i._start_+2*Math.PI*i._proportion_/2);i._rose_proportion_&&(r=2*Math.PI-(i._start_+2*Math.PI*i._rose_proportion_/2));var s=i.color,o=i._radius_;return{arc:r,text:n,color:s,radius:o,textColor:i.textColor,textSize:i.textSize,labelShow:i.labelShow}})),d=0;d<l.length;d++){var f=l[d],h=Math.cos(f.arc)*(f.radius+s),g=Math.sin(f.arc)*(f.radius+s),_=Math.cos(f.arc)*f.radius,v=Math.sin(f.arc)*f.radius,y=h>=0?h+i.pieChartTextPadding:h-i.pieChartTextPadding,x=g,w=b(f.text,f.textSize*e.pix||i.fontSize,a),C=x;c&&u.isSameXCoordinateArea(c.start,{x:y})&&(C=y>0?Math.min(x,c.start.y):h<0||x>0?Math.max(x,c.start.y):Math.min(x,c.start.y)),y<0&&(y-=w);var $={lineStart:{x:_,y:v},lineEnd:{x:h,y:g},start:{x:y,y:C},width:w,height:i.fontSize,text:f.text,color:f.color,textColor:f.textColor,textSize:f.textSize};c=m($,c),o.push(c)}for(var k=0;k<o.length;k++)if(!1!==l[k].labelShow){var D=o[k],S=p(D.lineStart.x,D.lineStart.y,r),T=p(D.lineEnd.x,D.lineEnd.y,r),O=p(D.start.x,D.start.y,r);a.setLineWidth(1*e.pix),a.setFontSize(D.textSize*e.pix||i.fontSize),a.beginPath(),a.setStrokeStyle(D.color),a.setFillStyle(D.color),a.moveTo(S.x,S.y);var P=D.start.x<0?O.x+D.width:O.x,M=D.start.x<0?O.x-5:O.x+5;a.quadraticCurveTo(T.x,T.y,P,O.y),a.moveTo(S.x,S.y),a.stroke(),a.closePath(),a.beginPath(),a.moveTo(O.x+D.width,O.y),a.arc(P,O.y,2*e.pix,0,2*Math.PI),a.closePath(),a.fill(),a.beginPath(),a.setFontSize(D.textSize*e.pix||i.fontSize),a.setFillStyle(D.textColor||e.fontColor),a.fillText(D.text,M,O.y+3),a.closePath(),a.stroke(),a.closePath()}}function gt(t,e,i){for(var a=o({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),n=t.area[3],r=t.width-t.area[1],s=function(t,e){for(var i,a,n=e.height-e.area[0]-e.area[2],r=0;r<t.length;r++){t[r].yAxisIndex=t[r].yAxisIndex?t[r].yAxisIndex:0;var s=[].concat(e.chartData.yAxisData.ranges[t[r].yAxisIndex]);i=s.pop(),a=s.shift();var o=n*(t[r].value-i)/(a-i);t[r].y=e.height-Math.round(o)-e.area[2]}return t}(a.data,t),u=0;u<s.length;u++){var l=o({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},s[u]);if("dash"==a.type&&i.setLineDash([a.dashLength,a.dashLength]),i.setStrokeStyle(l.lineColor),i.setLineWidth(1*t.pix),i.beginPath(),i.moveTo(n,l.y),i.lineTo(r,l.y),i.stroke(),i.setLineDash([]),l.showLabel){var d=l.labelFontSize*t.pix,f=l.labelText?l.labelText:l.value;i.setFontSize(d);var h=b(f,d,i),p=h+l.labelPadding*t.pix*2,m="left"==l.labelAlign?t.area[3]-p:t.width-t.area[1];m+=l.labelOffsetX;var g=l.y-.5*d-l.labelPadding*t.pix;g+=l.labelOffsetY;var _=m+l.labelPadding*t.pix;l.y;i.setFillStyle(c(l.labelBgColor,l.labelBgOpacity)),i.setStrokeStyle(l.labelBgColor),i.setLineWidth(1*t.pix),i.beginPath(),i.rect(m,g,p,d+2*l.labelPadding*t.pix),i.closePath(),i.stroke(),i.fill(),i.setFontSize(d),i.setTextAlign("left"),i.setFillStyle(l.labelFontColor),i.fillText(String(f),_,g+d+l.labelPadding*t.pix/2),i.stroke(),i.setTextAlign("left")}}}function _t(t,e,i,a,n){var r=o({},{gridType:"solid",dashLength:4},t.extra.tooltip),s=t.area[3],u=t.width-t.area[1];if("dash"==r.gridType&&i.setLineDash([r.dashLength,r.dashLength]),i.setStrokeStyle(r.gridColor||"#cccccc"),i.setLineWidth(1*t.pix),i.beginPath(),i.moveTo(s,t.tooltip.offset.y),i.lineTo(u,t.tooltip.offset.y),i.stroke(),i.setLineDash([]),r.yAxisLabel)for(var l=r.boxPadding*t.pix,d=function(t,e,i,a,n){for(var r=[].concat(i.chartData.yAxisData.ranges),s=i.height-i.area[0]-i.area[2],o=i.area[0],u=[],c=0;c<r.length;c++){var l=Math.max.apply(this,r[c]),d=Math.min.apply(this,r[c]),f=l-(l-d)*(t-o)/s;f=i.yAxis.data&&i.yAxis.data[c].formatter?i.yAxis.data[c].formatter(f,c,i):f.toFixed(0),u.push(String(f))}return u}(t.tooltip.offset.y,t.series,t),f=t.chartData.yAxisData.yAxisWidth,h=t.area[3],p=t.width-t.area[1],m=0;m<d.length;m++){i.setFontSize(r.fontSize*t.pix);var g,_=b(d[m],r.fontSize*t.pix,i),v=void 0,y=void 0;"left"==f[m].position?(v=h-(_+2*l)-2*t.pix,y=Math.max(v,v+_+2*l)):(v=p+2*t.pix,y=Math.max(v+f[m].width,v+_+2*l)),g=y-v;var x=v+(g-_)/2,w=t.tooltip.offset.y;i.beginPath(),i.setFillStyle(c(r.labelBgColor||e.toolTipBackground,r.labelBgOpacity||e.toolTipOpacity)),i.setStrokeStyle(r.labelBgColor||e.toolTipBackground),i.setLineWidth(1*t.pix),i.rect(v,w-.5*e.fontSize-l,g,e.fontSize+2*l),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(e.fontSize),i.setFillStyle(r.labelFontColor||t.fontColor),i.fillText(d[m],x,w+.5*e.fontSize),i.closePath(),i.stroke(),"left"==f[m].position?h-=f[m].width+t.yAxis.padding*t.pix:p+=f[m].width+t.yAxis.padding*t.pix}}function vt(t,e,i,a,n){var r=o({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:n},e.extra.column);r.activeWidth=r.activeWidth>n?n:r.activeWidth;var s=e.area[0],u=e.height-e.area[2];a.beginPath(),a.setFillStyle(c(r.activeBgColor,r.activeBgOpacity)),a.rect(t-r.activeWidth/2,s,r.activeWidth,u-s),a.closePath(),a.fill(),a.setFillStyle("#FFFFFF")}function bt(t,e,i,a,n){var r=o({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.bar),s=e.area[3],u=e.width-e.area[1];a.beginPath(),a.setFillStyle(c(r.activeBgColor,r.activeBgOpacity)),a.rect(s,t-n/2,u-s,n),a.closePath(),a.fill(),a.setFillStyle("#FFFFFF")}function yt(t,e,i,a,n,r,s){var u=o({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},i.extra.tooltip);1==u.showCategory&&i.categories&&t.unshift({text:i.categories[i.tooltip.index],color:null});var l=u.fontSize*i.pix,d=u.lineHeight*i.pix,f=u.boxPadding*i.pix,h=l,p=5*i.pix;0==u.legendShow&&(h=0,p=0);var m=u.showArrow?8*i.pix:0,g=!1;"line"!=i.type&&"mount"!=i.type&&"area"!=i.type&&"candle"!=i.type&&"mix"!=i.type||1==u.splitLine&&function(t,e,i,a){var n=e.extra.tooltip||{};n.gridType=void 0==n.gridType?"solid":n.gridType,n.dashLength=void 0==n.dashLength?4:n.dashLength;var r=e.area[0],s=e.height-e.area[2];if("dash"==n.gridType&&a.setLineDash([n.dashLength,n.dashLength]),a.setStrokeStyle(n.gridColor||"#cccccc"),a.setLineWidth(1*e.pix),a.beginPath(),a.moveTo(t,r),a.lineTo(t,s),a.stroke(),a.setLineDash([]),n.xAxisLabel){var o=e.categories[e.tooltip.index];a.setFontSize(i.fontSize);var u=b(o,i.fontSize,a),l=t-.5*u,d=s+2*e.pix;a.beginPath(),a.setFillStyle(c(n.labelBgColor||i.toolTipBackground,n.labelBgOpacity||i.toolTipOpacity)),a.setStrokeStyle(n.labelBgColor||i.toolTipBackground),a.setLineWidth(1*e.pix),a.rect(l-n.boxPadding*e.pix,d,u+2*n.boxPadding*e.pix,i.fontSize+2*n.boxPadding*e.pix),a.closePath(),a.stroke(),a.fill(),a.beginPath(),a.setFontSize(i.fontSize),a.setFillStyle(n.labelFontColor||e.fontColor),a.fillText(String(o),l,d+n.boxPadding*e.pix+i.fontSize),a.closePath(),a.stroke()}}(i.tooltip.offset.x,i,a,n),e=o({x:0,y:0},e),e.y-=8*i.pix;var _=t.map((function(t){return b(t.text,l,n)})),v=h+p+4*f+Math.max.apply(null,_),y=2*f+t.length*d;if(0!=u.showBox){e.x-Math.abs(i._scrollDistance_||0)+m+v>i.width&&(g=!0),y+e.y>i.height&&(e.y=i.height-y),n.beginPath(),n.setFillStyle(c(u.bgColor,u.bgOpacity)),n.setLineWidth(u.borderWidth*i.pix),n.setStrokeStyle(c(u.borderColor,u.borderOpacity));var x=u.borderRadius;g?(v+m>i.width&&(e.x=i.width+Math.abs(i._scrollDistance_||0)+m+(v-i.width)),v>e.x&&(e.x=i.width+Math.abs(i._scrollDistance_||0)+m+(v-i.width)),u.showArrow&&(n.moveTo(e.x,e.y+10*i.pix),n.lineTo(e.x-m,e.y+10*i.pix+5*i.pix)),n.arc(e.x-m-x,e.y+y-x,x,0,Math.PI/2,!1),n.arc(e.x-m-Math.round(v)+x,e.y+y-x,x,Math.PI/2,Math.PI,!1),n.arc(e.x-m-Math.round(v)+x,e.y+x,x,-Math.PI,-Math.PI/2,!1),n.arc(e.x-m-x,e.y+x,x,-Math.PI/2,0,!1),u.showArrow&&(n.lineTo(e.x-m,e.y+10*i.pix-5*i.pix),n.lineTo(e.x,e.y+10*i.pix))):(u.showArrow&&(n.moveTo(e.x,e.y+10*i.pix),n.lineTo(e.x+m,e.y+10*i.pix-5*i.pix)),n.arc(e.x+m+x,e.y+x,x,-Math.PI,-Math.PI/2,!1),n.arc(e.x+m+Math.round(v)-x,e.y+x,x,-Math.PI/2,0,!1),n.arc(e.x+m+Math.round(v)-x,e.y+y-x,x,0,Math.PI/2,!1),n.arc(e.x+m+x,e.y+y-x,x,Math.PI/2,Math.PI,!1),u.showArrow&&(n.lineTo(e.x+m,e.y+10*i.pix+5*i.pix),n.lineTo(e.x,e.y+10*i.pix))),n.closePath(),n.fill(),u.borderWidth>0&&n.stroke(),u.legendShow&&t.forEach((function(t,a){if(null!==t.color){n.beginPath(),n.setFillStyle(t.color);var r=e.x+m+2*f,s=e.y+(d-l)/2+d*a+f+1;switch(g&&(r=e.x-v-m+2*f),t.legendShape){case"line":n.moveTo(r,s+.5*h-2*i.pix),n.fillRect(r,s+.5*h-2*i.pix,h,4*i.pix);break;case"triangle":n.moveTo(r+7.5*i.pix,s+.5*h-5*i.pix),n.lineTo(r+2.5*i.pix,s+.5*h+5*i.pix),n.lineTo(r+12.5*i.pix,s+.5*h+5*i.pix),n.lineTo(r+7.5*i.pix,s+.5*h-5*i.pix);break;case"diamond":n.moveTo(r+7.5*i.pix,s+.5*h-5*i.pix),n.lineTo(r+2.5*i.pix,s+.5*h),n.lineTo(r+7.5*i.pix,s+.5*h+5*i.pix),n.lineTo(r+12.5*i.pix,s+.5*h),n.lineTo(r+7.5*i.pix,s+.5*h-5*i.pix);break;case"circle":n.moveTo(r+7.5*i.pix,s+.5*h),n.arc(r+7.5*i.pix,s+.5*h,5*i.pix,0,2*Math.PI);break;case"rect":n.moveTo(r,s+.5*h-5*i.pix),n.fillRect(r,s+.5*h-5*i.pix,15*i.pix,10*i.pix);break;case"square":n.moveTo(r+2*i.pix,s+.5*h-5*i.pix),n.fillRect(r+2*i.pix,s+.5*h-5*i.pix,10*i.pix,10*i.pix);break;default:n.moveTo(r,s+.5*h-5*i.pix),n.fillRect(r,s+.5*h-5*i.pix,15*i.pix,10*i.pix)}n.closePath(),n.fill()}})),t.forEach((function(t,i){var a=e.x+m+2*f+h+p;g&&(a=e.x-v-m+2*f+h+p);var r=e.y+d*i+(d-l)/2-1+f+l;n.beginPath(),n.setFontSize(l),n.setTextBaseline("normal"),n.setFillStyle(u.fontColor),n.fillText(t.text,a,r),n.closePath(),n.stroke()}))}}function xt(t,e,i,a,n,r){var s=t.extra.tooltip||{};s.horizentalLine&&t.tooltip&&1===a&&("line"==t.type||"area"==t.type||"column"==t.type||"mount"==t.type||"candle"==t.type||"mix"==t.type)&&_t(t,e,i),i.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&i.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===a&&yt(t.tooltip.textList,t.tooltip.offset,t,e,i),i.restore()}function wt(t,e,i,a){var n=e.chartData.xAxisData,r=n.xAxisPoints,s=n.startX,o=n.endX,u=n.eachSpacing,c="center";"bar"!=e.type&&"line"!=e.type&&"area"!=e.type&&"scatter"!=e.type&&"bubble"!=e.type||(c=e.xAxis.boundaryGap);var l=e.height-e.area[2],d=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var f=e.height-e.area[2]+i.xAxisHeight,h=o-s,p=u*(r.length-1);"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),p+=(e.extra.mount.widthRatio-1)*u);var m=h*h/p,g=0;e._scrollDistance_&&(g=-e._scrollDistance_*h/p),a.beginPath(),a.setLineCap("round"),a.setLineWidth(6*e.pix),a.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),a.moveTo(s,f),a.lineTo(o,f),a.stroke(),a.closePath(),a.beginPath(),a.setLineCap("round"),a.setLineWidth(6*e.pix),a.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),a.moveTo(s+g,f),a.lineTo(s+g+m,f),a.stroke(),a.closePath(),a.setLineCap("butt")}if(a.save(),e._scrollDistance_&&0!==e._scrollDistance_&&a.translate(e._scrollDistance_,0),!0===e.xAxis.calibration&&(a.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),a.setLineCap("butt"),a.setLineWidth(1*e.pix),r.forEach((function(t,i){i>0&&(a.beginPath(),a.moveTo(t-u/2,l),a.lineTo(t-u/2,l+3*e.pix),a.closePath(),a.stroke())}))),!0!==e.xAxis.disableGrid&&(a.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),a.setLineCap("butt"),a.setLineWidth(1*e.pix),"dash"==e.xAxis.gridType&&a.setLineDash([e.xAxis.dashLength*e.pix,e.xAxis.dashLength*e.pix]),e.xAxis.gridEval=e.xAxis.gridEval||1,r.forEach((function(t,i){i%e.xAxis.gridEval==0&&(a.beginPath(),a.moveTo(t,l),a.lineTo(t,d),a.stroke())})),a.setLineDash([])),!0!==e.xAxis.disabled){var _=t.length;e.xAxis.labelCount&&(_=e.xAxis.itemCount?Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):e.xAxis.labelCount,_-=1);for(var v=Math.ceil(t.length/_),y=[],x=t.length,w=0;w<x;w++)w%v!==0?y.push(""):y.push(t[w]);y[x-1]=t[x-1];var C=e.xAxis.fontSize*e.pix||i.fontSize;0===i._xAxisTextAngle_?y.forEach((function(t,i){var n=e.xAxis.formatter?e.xAxis.formatter(t,i,e):t,s=-b(String(n),C,a)/2;"center"==c&&(s+=u/2);e.xAxis.scrollShow&&e.pix;var o=e._scrollDistance_||0,d="center"==c?r[i]+u/2:r[i];d-Math.abs(o)>=e.area[3]-1&&d-Math.abs(o)<=e.width-e.area[1]+1&&(a.beginPath(),a.setFontSize(C),a.setFillStyle(e.xAxis.fontColor||e.fontColor),a.fillText(String(n),r[i]+s,l+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.fontSize)*e.pix/2+e.xAxis.fontSize*e.pix),a.closePath(),a.stroke())})):y.forEach((function(t,n){var s=e.xAxis.formatter?e.xAxis.formatter(t):t,o=e._scrollDistance_||0,d="center"==c?r[n]+u/2:r[n];if(d-Math.abs(o)>=e.area[3]-1&&d-Math.abs(o)<=e.width-e.area[1]+1){a.save(),a.beginPath(),a.setFontSize(C),a.setFillStyle(e.xAxis.fontColor||e.fontColor);var f=b(String(s),C,a),h=r[n];"center"==c&&(h=r[n]+u/2);e.xAxis.scrollShow&&6*e.pix;var p=l+e.xAxis.marginTop*e.pix+C-C*Math.abs(Math.sin(i._xAxisTextAngle_));e.xAxis.rotateAngle<0?(h-=C/2,f=0):(h+=C/2,f=-f),a.translate(h,p),a.rotate(-1*i._xAxisTextAngle_),a.fillText(String(s),f,0),a.closePath(),a.stroke(),a.restore()}}))}a.restore(),e.xAxis.title&&(a.beginPath(),a.setFontSize(e.xAxis.titleFontSize*e.pix),a.setFillStyle(e.xAxis.titleFontColor),a.fillText(String(e.xAxis.title),e.width-e.area[1]+e.xAxis.titleOffsetX*e.pix,e.height-e.area[2]+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.titleFontSize)*e.pix/2+(e.xAxis.titleFontSize+e.xAxis.titleOffsetY)*e.pix),a.closePath(),a.stroke()),e.xAxis.axisLine&&(a.beginPath(),a.setStrokeStyle(e.xAxis.axisLineColor),a.setLineWidth(1*e.pix),a.moveTo(s,e.height-e.area[2]),a.lineTo(o,e.height-e.area[2]),a.stroke())}function Ct(t,e,i,a){if(!0!==e.yAxis.disableGrid){var n=e.height-e.area[0]-e.area[2],r=n/e.yAxis.splitNumber,s=e.area[3],o=e.chartData.xAxisData.xAxisPoints,u=e.chartData.xAxisData.eachSpacing,c=u*(o.length-1);"mount"==e.type&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),c+=(e.extra.mount.widthRatio-1)*u);var l=s+c,d=[],f=1;!1===e.xAxis.axisLine&&(f=0);for(var h=f;h<e.yAxis.splitNumber+1;h++)d.push(e.height-e.area[2]-r*h);a.save(),e._scrollDistance_&&0!==e._scrollDistance_&&a.translate(e._scrollDistance_,0),"dash"==e.yAxis.gridType&&a.setLineDash([e.yAxis.dashLength*e.pix,e.yAxis.dashLength*e.pix]),a.setStrokeStyle(e.yAxis.gridColor),a.setLineWidth(1*e.pix),d.forEach((function(t,e){a.beginPath(),a.moveTo(s,t),a.lineTo(l,t),a.stroke()})),a.setLineDash([]),a.restore()}}function $t(t,e,i,a){if(!0!==e.yAxis.disabled){var n=e.height-e.area[0]-e.area[2],r=n/e.yAxis.splitNumber,s=e.area[3],o=e.width-e.area[1],u=e.height-e.area[2];a.beginPath(),a.setFillStyle(e.background),1==e.enableScroll&&e.xAxis.scrollPosition&&"left"!==e.xAxis.scrollPosition&&a.fillRect(0,0,s,u+2*e.pix),1==e.enableScroll&&e.xAxis.scrollPosition&&"right"!==e.xAxis.scrollPosition&&a.fillRect(o,0,e.width,u+2*e.pix),a.closePath(),a.stroke();var c=e.area[3],l=e.width-e.area[1],d=e.area[3]+(e.width-e.area[1]-e.area[3])/2;if(e.yAxis.data)for(var f=function(t){var s=e.yAxis.data[t];if(p=[],"categories"===s.type)for(var o=0;o<=s.categories.length;o++)p.push(e.area[0]+n/s.categories.length/2+n/s.categories.length*o);else for(var u=0;u<=e.yAxis.splitNumber;u++)p.push(e.area[0]+r*u);if(!0!==s.disabled){var f=e.chartData.yAxisData.rangesFormat[t],h=s.fontSize?s.fontSize*e.pix:i.fontSize,m=e.chartData.yAxisData.yAxisWidth[t],g=s.textAlign||"right";if(f.forEach((function(t,i){var n=p[i];a.beginPath(),a.setFontSize(h),a.setLineWidth(1*e.pix),a.setStrokeStyle(s.axisLineColor||"#cccccc"),a.setFillStyle(s.fontColor||e.fontColor);var r=0,o=4*e.pix;if("left"==m.position){switch(1==s.calibration&&(a.moveTo(c,n),a.lineTo(c-3*e.pix,n),o+=3*e.pix),g){case"left":a.setTextAlign("left"),r=c-m.width;break;case"right":a.setTextAlign("right"),r=c-o;break;default:a.setTextAlign("center"),r=c-m.width/2}a.fillText(String(t),r,n+h/2-3*e.pix)}else if("right"==m.position){switch(1==s.calibration&&(a.moveTo(l,n),a.lineTo(l+3*e.pix,n),o+=3*e.pix),g){case"left":a.setTextAlign("left"),r=l+o;break;case"right":a.setTextAlign("right"),r=l+m.width;break;default:a.setTextAlign("center"),r=l+m.width/2}a.fillText(String(t),r,n+h/2-3*e.pix)}else if("center"==m.position){switch(1==s.calibration&&(a.moveTo(d,n),a.lineTo(d-3*e.pix,n),o+=3*e.pix),g){case"left":a.setTextAlign("left"),r=d-m.width;break;case"right":a.setTextAlign("right"),r=d-o;break;default:a.setTextAlign("center"),r=d-m.width/2}a.fillText(String(t),r,n+h/2-3*e.pix)}a.closePath(),a.stroke(),a.setTextAlign("left")})),!1!==s.axisLine&&(a.beginPath(),a.setStrokeStyle(s.axisLineColor||"#cccccc"),a.setLineWidth(1*e.pix),"left"==m.position?(a.moveTo(c,e.height-e.area[2]),a.lineTo(c,e.area[0])):"right"==m.position?(a.moveTo(l,e.height-e.area[2]),a.lineTo(l,e.area[0])):"center"==m.position&&(a.moveTo(d,e.height-e.area[2]),a.lineTo(d,e.area[0])),a.stroke()),e.yAxis.showTitle){var _=s.titleFontSize*e.pix||i.fontSize,v=s.title;a.beginPath(),a.setFontSize(_),a.setFillStyle(s.titleFontColor||e.fontColor),"left"==m.position?a.fillText(v,c-b(v,_,a)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"right"==m.position?a.fillText(v,l-b(v,_,a)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix):"center"==m.position&&a.fillText(v,d-b(v,_,a)/2+(s.titleOffsetX||0),e.area[0]-(10-(s.titleOffsetY||0))*e.pix),a.closePath(),a.stroke()}"left"==m.position?c-=m.width+e.yAxis.padding*e.pix:l+=m.width+e.yAxis.padding*e.pix}},h=0;h<e.yAxis.data.length;h++){var p;f(h)}}}function kt(t,e,i,a,n){if(!1!==e.legend.show){var r=n.legendData,s=r.points,o=r.area,u=e.legend.padding*e.pix,c=e.legend.fontSize*e.pix,l=15*e.pix,d=5*e.pix,f=e.legend.itemGap*e.pix,h=Math.max(e.legend.lineHeight*e.pix,c);a.beginPath(),a.setLineWidth(e.legend.borderWidth*e.pix),a.setStrokeStyle(e.legend.borderColor),a.setFillStyle(e.legend.backgroundColor),a.moveTo(o.start.x,o.start.y),a.rect(o.start.x,o.start.y,o.width,o.height),a.closePath(),a.fill(),a.stroke(),s.forEach((function(t,n){var s,p=0;p=r.widthArr[n],s=r.heightArr[n];var m=0,g=0;if("top"==e.legend.position||"bottom"==e.legend.position){switch(e.legend.float){case"left":m=o.start.x+u;break;case"right":m=o.start.x+o.width-p;break;default:m=o.start.x+(o.width-p)/2}g=o.start.y+u+n*h}else p=0==n?0:r.widthArr[n-1],m=o.start.x+u+p,g=o.start.y+u+(o.height-s)/2;a.setFontSize(i.fontSize);for(var _=0;_<t.length;_++){var v=t[_];switch(v.area=[0,0,0,0],v.area[0]=m,v.area[1]=g,v.area[3]=g+h,a.beginPath(),a.setLineWidth(1*e.pix),a.setStrokeStyle(v.show?v.color:e.legend.hiddenColor),a.setFillStyle(v.show?v.color:e.legend.hiddenColor),v.legendShape){case"line":a.moveTo(m,g+.5*h-2*e.pix),a.fillRect(m,g+.5*h-2*e.pix,15*e.pix,4*e.pix);break;case"triangle":a.moveTo(m+7.5*e.pix,g+.5*h-5*e.pix),a.lineTo(m+2.5*e.pix,g+.5*h+5*e.pix),a.lineTo(m+12.5*e.pix,g+.5*h+5*e.pix),a.lineTo(m+7.5*e.pix,g+.5*h-5*e.pix);break;case"diamond":a.moveTo(m+7.5*e.pix,g+.5*h-5*e.pix),a.lineTo(m+2.5*e.pix,g+.5*h),a.lineTo(m+7.5*e.pix,g+.5*h+5*e.pix),a.lineTo(m+12.5*e.pix,g+.5*h),a.lineTo(m+7.5*e.pix,g+.5*h-5*e.pix);break;case"circle":a.moveTo(m+7.5*e.pix,g+.5*h),a.arc(m+7.5*e.pix,g+.5*h,5*e.pix,0,2*Math.PI);break;case"rect":a.moveTo(m,g+.5*h-5*e.pix),a.fillRect(m,g+.5*h-5*e.pix,15*e.pix,10*e.pix);break;case"square":a.moveTo(m+5*e.pix,g+.5*h-5*e.pix),a.fillRect(m+5*e.pix,g+.5*h-5*e.pix,10*e.pix,10*e.pix);break;case"none":break;default:a.moveTo(m,g+.5*h-5*e.pix),a.fillRect(m,g+.5*h-5*e.pix,15*e.pix,10*e.pix)}a.closePath(),a.fill(),a.stroke(),m+=l+d;var y=.5*h+.5*c-2,x=v.legendText?v.legendText:v.name;a.beginPath(),a.setFontSize(c),a.setFillStyle(v.show?e.legend.fontColor:e.legend.hiddenColor),a.fillText(x,m,g+y),a.closePath(),a.stroke(),"top"==e.legend.position||"bottom"==e.legend.position?(m+=b(x,c,a)+f,v.area[2]=m):(v.area[2]=m+b(x,c,a)+f,m-=l+d,g+=h)}}))}}function Dt(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==e.type?e.extra.pie:e.extra.ring),s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};0==i.pieChartLinePadding&&(i.pieChartLinePadding=r.activeRadius*e.pix);var u=Math.min((e.width-e.area[1]-e.area[3])/2-i.pieChartLinePadding-i.pieChartTextPadding-i._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-i.pieChartLinePadding-i.pieChartTextPadding);u=u<10?10:u,r.customRadius>0&&(u=r.customRadius*e.pix),t=L(t,u,n);var l=r.activeRadius*e.pix;if(r.customColor=_(r.linearType,r.customColor,t,i),t=t.map((function(t){return t._start_+=r.offsetAngle*Math.PI/180,t})),t.forEach((function(t,i){e.tooltip&&e.tooltip.index==i&&(a.beginPath(),a.setFillStyle(c(t.color,r.activeOpacity||.5)),a.moveTo(s.x,s.y),a.arc(s.x,s.y,t._radius_+l,t._start_,t._start_+2*t._proportion_*Math.PI),a.closePath(),a.fill()),a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.lineJoin="round",a.setStrokeStyle(r.borderColor);var n,o=t.color;"custom"==r.linearType&&(n=a.createCircularGradient?a.createCircularGradient(s.x,s.y,t._radius_):a.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),n.addColorStop(0,c(r.customColor[t.linearIndex],1)),n.addColorStop(1,c(t.color,1)),o=n);a.setFillStyle(o),a.moveTo(s.x,s.y),a.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._proportion_*Math.PI),a.closePath(),a.fill(),1==r.border&&a.stroke()})),"ring"===e.type){var d=.6*u;"number"===typeof r.ringWidth&&r.ringWidth>0&&(d=Math.max(0,u-r.ringWidth*e.pix)),a.beginPath(),a.setFillStyle(r.centerColor),a.moveTo(s.x,s.y),a.arc(s.x,s.y,d,0,2*Math.PI),a.closePath(),a.fill()}return!1!==e.dataLabel&&1===n&&mt(t,e,i,a,0,s),1===n&&"ring"===e.type&&ut(e,i,a,s),{center:s,radius:u,series:t}}function St(t,e){var i=Array(2),a=20037508.34*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34*n/180,i[0]=a,i[1]=n,i}function Tt(t,e,i,a,n,r){return{x:(e-i.xMin)*a+n,y:(i.yMax-t)*a+r}}function Ot(t,e,i){if(e[1]==i[1])return!1;if(e[1]>t[1]&&i[1]>t[1])return!1;if(e[1]<t[1]&&i[1]<t[1])return!1;if(e[1]==t[1]&&i[1]>t[1])return!1;if(i[1]==t[1]&&e[1]>t[1])return!1;if(e[0]<t[0]&&i[1]<t[1])return!1;var a=i[0]-(i[0]-e[0])*(i[1]-t[1])/(i[1]-e[1]);return!(a<t[0])}function Pt(t,e,i){for(var a=0,n=0;n<e.length;n++){var r=e[n][0];1==e.length&&(r=e[n][0]);for(var s=0;s<r.length-1;s++){var o=r[s],u=r[s+1];i&&(o=St(r[s][0],r[s][1]),u=St(r[s+1][0],r[s+1][1])),Ot(t,o,u)&&(a+=1)}}return a%2==1}function Mt(t,e,i){i=0==i?1:i;for(var a=[],n=0;n<i;n++)a[n]=Math.random();return Math.floor(a.reduce((function(t,e){return t+e}))/i*(e-t))+t}function At(t,e,i,a){for(var n=!1,r=0;r<e.length;r++)if(e[r].area){if(!(t[3]<e[r].area[1]||t[0]>e[r].area[2]||t[1]>e[r].area[3]||t[2]<e[r].area[0])){n=!0;break}if(t[0]<0||t[1]<0||t[2]>i||t[3]>a){n=!0;break}n=!1}return n}function It(t,e,i){var a=t.series;switch(e){case"normal":for(var n=0;n<a.length;n++){var r=a[n].name,s=a[n].textSize*t.pix,o=b(r,s,i),u=void 0,c=void 0,l=void 0,d=0;while(1){d++,u=Mt(-t.width/2,t.width/2,5)-o/2,c=Mt(-t.height/2,t.height/2,5)+s/2,l=[u-5+t.width/2,c-5-s+t.height/2,u+o+5+t.width/2,c+5+t.height/2];var f=At(l,a,t.width,t.height);if(!f)break;if(1e3==d){l=[-100,-100,-100,-100];break}}a[n].area=l}break;case"vertical":for(var h=function(){return Math.random()>.7},p=0;p<a.length;p++){var m=a[p].name,g=a[p].textSize*t.pix,_=b(m,g,i),v=h(),y=void 0,x=void 0,w=void 0,C=void 0,$=0;while(1){$++;var k=void 0;if(v?(y=Mt(-t.width/2,t.width/2,5)-_/2,x=Mt(-t.height/2,t.height/2,5)+g/2,w=[x-5-_+t.width/2,-y-5+t.height/2,x+5+t.width/2,-y+g+5+t.height/2],C=[t.width-(t.width/2-t.height/2)-(-y+g+5+t.height/2)-5,t.height/2-t.width/2+(x-5-_+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-y+g+5+t.height/2)+g,t.height/2-t.width/2+(x-5-_+t.width/2)+_+5],k=At(C,a,t.height,t.width)):(y=Mt(-t.width/2,t.width/2,5)-_/2,x=Mt(-t.height/2,t.height/2,5)+g/2,w=[y-5+t.width/2,x-5-g+t.height/2,y+_+5+t.width/2,x+5+t.height/2],k=At(w,a,t.width,t.height)),!k)break;if(1e3==$){w=[-1e3,-1e3,-1e3,-1e3];break}}v?(a[p].area=C,a[p].areav=w):a[p].area=w,a[p].rotate=v}break}return a}function jt(t,e,i,a,n,r,s){for(var o=0;o<t.length;o++){var c=t[o];if(!1!==c.labelShow){var l=void 0,d=void 0,f=void 0,h=void 0,p=c.formatter?c.formatter(c,o,t,e):u.toFixed(100*c._proportion_)+"%";p=c.labelText?c.labelText:p,"right"==n&&(l=o==t.length-1?(c.funnelArea[2]+s.x)/2:(c.funnelArea[2]+t[o+1].funnelArea[2])/2,d=l+2*r,f=c.funnelArea[1]+a/2,h=c.textSize*e.pix||e.fontSize*e.pix,i.setLineWidth(1*e.pix),i.setStrokeStyle(c.color),i.setFillStyle(c.color),i.beginPath(),i.moveTo(l,f),i.lineTo(d,f),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(d,f),i.arc(d,f,2*e.pix,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(h),i.setFillStyle(c.textColor||e.fontColor),i.fillText(p,d+5,f+h/2-2),i.closePath(),i.stroke(),i.closePath()),"left"==n&&(l=o==t.length-1?(c.funnelArea[0]+s.x)/2:(c.funnelArea[0]+t[o+1].funnelArea[0])/2,d=l-2*r,f=c.funnelArea[1]+a/2,h=c.textSize*e.pix||e.fontSize*e.pix,i.setLineWidth(1*e.pix),i.setStrokeStyle(c.color),i.setFillStyle(c.color),i.beginPath(),i.moveTo(l,f),i.lineTo(d,f),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(d,f),i.arc(d,f,2,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(h),i.setFillStyle(c.textColor||e.fontColor),i.fillText(p,d-5-b(p,h,i),f+h/2-2),i.closePath(),i.stroke(),i.closePath())}}}function Ft(t,e,i,a,n,r,s){for(var o=0;o<t.length;o++){var u=t[o],c=void 0,l=void 0;u.centerText&&(c=u.funnelArea[1]+a/2,l=u.centerTextSize*e.pix||e.fontSize*e.pix,i.beginPath(),i.setFontSize(l),i.setFillStyle(u.centerTextColor||"#FFFFFF"),i.fillText(u.centerText,s.x-b(u.centerText,l,i)/2,c+l/2-2),i.closePath(),i.stroke(),i.closePath())}}function Lt(t,e){e.save(),e.translate(0,.5),e.restore(),e.draw()}var Et={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function qt(t){this.isStop=!1,t.duration="undefined"===typeof t.duration?1e3:t.duration,t.timing=t.timing||"easeInOut";var e=function(){return"undefined"!==typeof setTimeout?function(t,e){setTimeout((function(){var e=+new Date;t(e)}),e)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(t){t(null)}}(),i=null,a=function(n){if(null===n||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===i&&(i=n),n-i<t.duration){var r=(n-i)/t.duration,s=Et[t.timing];r=s(r),t.onProcess&&t.onProcess(r),e(a,17)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};a=a.bind(this),e(a,17)}function Rt(t,e,i,a){var r=this,s=this,l=e.series;"pie"!==t&&"ring"!==t&&"mount"!==t&&"rose"!==t&&"funnel"!==t||(l=function(t,e,i){var a=[];if(t.length>0&&t[0].data.constructor.toString().indexOf("Array")>-1){e._pieSeries_=t;for(var n=t[0].data,r=0;r<n.length;r++)n[r].formatter=t[0].formatter,n[r].data=n[r].value,a.push(n[r]);e.series=a}else a=t;return a}(l,e));var d=e.categories;if("mount"===t){d=[];for(var f=0;f<l.length;f++)!1!==l[f].show&&d.push(l[f].name);e.categories=d}l=g(l,e,i);var m=e.animation?e.duration:0;s.animationInstance&&s.animationInstance.stop();var v=null;if("candle"==t){var x=o({},e.extra.candle.average);x.show?(v=function(t,e,i,a){for(var n=[],r=0;r<t.length;r++){for(var s={data:[],name:e[r],color:i[r]},o=0,u=a.length;o<u;o++)if(o<t[r])s.data.push(null);else{for(var c=0,l=0;l<t[r];l++)c+=a[o-l][1];s.data.push(+(c/t[r]).toFixed(3))}n.push(s)}return n}(x.day,x.name,x.color,l[0].data),v=g(v,e,i),e.seriesMA=v):v=e.seriesMA?e.seriesMA=g(e.seriesMA,e,i):l}else v=l;e._series_=l=O(l),e.area=new Array(4);for(var w=0;w<4;w++)e.area[w]=e.padding[w]*e.pix;var C=function(t,e,i,a,n){var r={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===e.legend.show)return a.legendData=r,r;var s=e.legend.padding*e.pix,o=e.legend.margin*e.pix,u=e.legend.fontSize?e.legend.fontSize*e.pix:i.fontSize,c=15*e.pix,l=5*e.pix,d=Math.max(e.legend.lineHeight*e.pix,u);if("top"==e.legend.position||"bottom"==e.legend.position){for(var f=[],h=0,p=[],m=[],g=0;g<t.length;g++){var _=t[g],v=_.legendText?_.legendText:_.name,y=c+l+b(v||"undefined",u,n)+e.legend.itemGap*e.pix;h+y>e.width-e.area[1]-e.area[3]?(f.push(m),p.push(h-e.legend.itemGap*e.pix),h=y,m=[_]):(h+=y,m.push(_))}if(m.length){f.push(m),p.push(h-e.legend.itemGap*e.pix),r.widthArr=p;var x=Math.max.apply(null,p);switch(e.legend.float){case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+x+2*s;break;case"right":r.area.start.x=e.width-e.area[1]-x-2*s,r.area.end.x=e.width-e.area[1];break;default:r.area.start.x=(e.width-x)/2-s,r.area.end.x=(e.width+x)/2+s}r.area.width=x+2*s,r.area.wholeWidth=x+2*s,r.area.height=f.length*d+2*s,r.area.wholeHeight=f.length*d+2*s+2*o,r.points=f}}else{var w=t.length,C=e.height-e.area[0]-e.area[2]-2*o-2*s,$=Math.min(Math.floor(C/d),w);switch(r.area.height=$*d+2*s,r.area.wholeHeight=$*d+2*s,e.legend.float){case"top":r.area.start.y=e.area[0]+o,r.area.end.y=e.area[0]+o+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-o-r.area.height,r.area.end.y=e.height-e.area[2]-o;break;default:r.area.start.y=(e.height-r.area.height)/2,r.area.end.y=(e.height+r.area.height)/2}for(var k=w%$===0?w/$:Math.floor(w/$+1),D=[],S=0;S<k;S++){var T=t.slice(S*$,S*$+$);D.push(T)}if(r.points=D,D.length){for(var O=0;O<D.length;O++){for(var P=D[O],M=0,A=0;A<P.length;A++){var I=c+l+b(P[A].name||"undefined",u,n)+e.legend.itemGap*e.pix;I>M&&(M=I)}r.widthArr.push(M),r.heightArr.push(P.length*d+2*s)}for(var j=0,F=0;F<r.widthArr.length;F++)j+=r.widthArr[F];r.area.width=j-e.legend.itemGap*e.pix+2*s,r.area.wholeWidth=r.area.width+s}}switch(e.legend.position){case"top":r.area.start.y=e.area[0]+o,r.area.end.y=e.area[0]+o+r.area.height;break;case"bottom":r.area.start.y=e.height-e.area[2]-r.area.height-o,r.area.end.y=e.height-e.area[2]-o;break;case"left":r.area.start.x=e.area[3],r.area.end.x=e.area[3]+r.area.width;break;case"right":r.area.start.x=e.width-e.area[1]-r.area.width,r.area.end.x=e.width-e.area[1];break}return a.legendData=r,r}(v,e,i,e.chartData,a),D=C.area.wholeHeight,S=C.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=D;break;case"bottom":e.area[2]+=D;break;case"left":e.area[3]+=S;break;case"right":e.area[1]+=S;break}var T={},P=0;if("line"===e.type||"column"===e.type||"mount"===e.type||"area"===e.type||"mix"===e.type||"candle"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){if(T=nt(l,e,i,a),P=T.yAxisWidth,e.yAxis.showTitle){for(var M=0,at=0;at<e.yAxis.data.length;at++)M=Math.max(M,e.yAxis.data[at].titleFontSize?e.yAxis.data[at].titleFontSize*e.pix:i.fontSize);e.area[0]+=M}for(var _t=0,yt=0,Ot=0;Ot<P.length;Ot++)"left"==P[Ot].position?(e.area[3]+=yt>0?P[Ot].width+e.yAxis.padding*e.pix:P[Ot].width,yt+=1):"right"==P[Ot].position&&(e.area[1]+=_t>0?P[Ot].width+e.yAxis.padding*e.pix:P[Ot].width,_t+=1)}else i.yAxisWidth=P;if(e.chartData.yAxisData=T,e.categories&&e.categories.length&&"radar"!==e.type&&"gauge"!==e.type&&"bar"!==e.type){e.chartData.xAxisData=Q(e.categories,e);var Pt=I(e.categories,e,0,e.chartData.xAxisData.eachSpacing,a),Mt=Pt.xAxisHeight,At=Pt.angle;i.xAxisHeight=Mt,i._xAxisTextAngle_=At,e.area[2]+=Mt,e.chartData.categoriesData=Pt}else if("line"===e.type||"area"===e.type||"scatter"===e.type||"bubble"===e.type||"bar"===e.type){e.chartData.xAxisData=j(l,e,i,a),d=e.chartData.xAxisData.rangesFormat;var Et=I(d,e,0,e.chartData.xAxisData.eachSpacing,a),Rt=Et.xAxisHeight,Bt=Et.angle;i.xAxisHeight=Rt,i._xAxisTextAngle_=Bt,e.area[2]+=Rt,e.chartData.categoriesData=Et}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&"right"==e.xAxis.scrollAlign&&void 0===e._scrollDistance_){var Nt,zt=e.chartData.xAxisData.xAxisPoints,Wt=e.chartData.xAxisData.startX,Ut=e.chartData.xAxisData.endX,Vt=e.chartData.xAxisData.eachSpacing,Ht=Vt*(zt.length-1),Gt=Ut-Wt;Nt=Gt-Ht,s.scrollOption.currentOffset=Nt,s.scrollOption.startTouchX=Nt,s.scrollOption.distance=0,s.scrollOption.lastMoveTime=0,e._scrollDistance_=Nt}switch("pie"!==t&&"ring"!==t&&"rose"!==t||(i._pieTextMaxLength_=!1===e.dataLabel?0:function(t,e,i,a){t=L(t);for(var n=0,r=0;r<t.length;r++){var s=t[r],o=s.formatter?s.formatter(+s._proportion_.toFixed(2)):u.toFixed(100*s._proportion_)+"%";n=Math.max(n,b(o,s.textSize*a.pix||e.fontSize,i))}return n}(v,i,a,e)),t){case"word":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"normal",autoColors:!0},e.extra.word);e.chartData.wordCloudData||(e.chartData.wordCloudData=It(e,r.type,a)),a.beginPath(),a.setFillStyle(e.background),a.rect(0,0,e.width,e.height),a.fill(),a.save();var s=e.chartData.wordCloudData;a.translate(e.width/2,e.height/2);for(var u=0;u<s.length;u++){a.save(),s[u].rotate&&a.rotate(90*Math.PI/180);var c=s[u].name,l=s[u].textSize*e.pix,d=b(c,l,a);a.beginPath(),a.setStrokeStyle(s[u].color),a.setFillStyle(s[u].color),a.setFontSize(l),s[u].rotate?s[u].areav[0]>0&&(e.tooltip&&e.tooltip.index==u?a.strokeText(c,(s[u].areav[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].areav[1]+5+l-e.height/2)*n):a.fillText(c,(s[u].areav[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].areav[1]+5+l-e.height/2)*n)):s[u].area[0]>0&&(e.tooltip&&e.tooltip.index==u?a.strokeText(c,(s[u].area[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].area[1]+5+l-e.height/2)*n):a.fillText(c,(s[u].area[0]+5-e.width/2)*n-d*(1-n)/2,(s[u].area[1]+5+l-e.height/2)*n)),a.stroke(),a.restore()}a.restore()}(l,e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"map":a.clearRect(0,0,e.width,e.height),function(t,e,i,a){var n,r,s=o({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),u=t,l=function(t){for(var e,i={xMin:180,xMax:0,yMin:90,yMax:0},a=0;a<t.length;a++)for(var n=t[a].geometry.coordinates,r=0;r<n.length;r++){e=n[r],1==e.length&&(e=e[0]);for(var s=0;s<e.length;s++){var o=e[s][0],u=e[s][1],c={x:o,y:u};i.xMin=i.xMin<c.x?i.xMin:c.x,i.xMax=i.xMax>c.x?i.xMax:c.x,i.yMin=i.yMin<c.y?i.yMin:c.y,i.yMax=i.yMax>c.y?i.yMax:c.y}}return i}(u);if(s.mercator){var d=St(l.xMax,l.yMax),f=St(l.xMin,l.yMin);l.xMax=d[0],l.yMax=d[1],l.xMin=f[0],l.yMin=f[1]}for(var h=e.width/Math.abs(l.xMax-l.xMin),p=e.height/Math.abs(l.yMax-l.yMin),m=h<p?h:p,g=e.width/2-Math.abs(l.xMax-l.xMin)/2*m,_=e.height/2-Math.abs(l.yMax-l.yMin)/2*m,v=0;v<u.length;v++){a.beginPath(),a.setLineWidth(s.borderWidth*e.pix),a.setStrokeStyle(s.borderColor),a.setFillStyle(c(t[v].color,t[v].fillOpacity||s.fillOpacity)),1==s.active&&e.tooltip&&e.tooltip.index==v&&(a.setStrokeStyle(s.activeBorderColor),a.setFillStyle(c(s.activeFillColor,s.activeFillOpacity)));for(var y=u[v].geometry.coordinates,x=0;x<y.length;x++){n=y[x],1==n.length&&(n=n[0]);for(var w=0;w<n.length;w++){var C=Array(2);C=s.mercator?St(n[w][0],n[w][1]):n[w],r=Tt(C[1],C[0],l,m,g,_),0===w?(a.beginPath(),a.moveTo(r.x,r.y)):a.lineTo(r.x,r.y)}a.fill(),1==s.border&&a.stroke()}}if(1==e.dataLabel)for(v=0;v<u.length;v++){var $=u[v].properties.centroid;if($){s.mercator&&($=St(u[v].properties.centroid[0],u[v].properties.centroid[1])),r=Tt($[1],$[0],l,m,g,_);var k=u[v].textSize*e.pix||i.fontSize,D=u[v].textColor||e.fontColor;s.active&&s.activeTextColor&&e.tooltip&&e.tooltip.index==v&&(D=s.activeTextColor);var S=u[v].properties.name;a.beginPath(),a.setFontSize(k),a.setFillStyle(D),a.fillText(S,r.x-b(S,k,a)/2,r.y+k/2),a.closePath(),a.stroke()}}e.chartData.mapData={bounds:l,scale:m,xoffset:g,yoffset:_,mercator:s.mercator},xt(e,i,a,1),a.draw()}(l,e,i,a),setTimeout((function(){r.uevent.trigger("renderComplete")}),50);break;case"funnel":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.funnelData=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},e.extra.funnel),s=(e.height-e.area[0]-e.area[2])/t.length,u={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},l=r.activeWidth*e.pix,d=Math.min((e.width-e.area[1]-e.area[3])/2-l,(e.height-e.area[0]-e.area[2])/2-l),f=E(t,d,r,s,n);if(a.save(),a.translate(u.x,u.y),r.customColor=_(r.linearType,r.customColor,t,i),"pyramid"==r.type)for(var h=0;h<f.length;h++){if(h==f.length-1){e.tooltip&&e.tooltip.index==h&&(a.beginPath(),a.setFillStyle(c(f[h].color,r.activeOpacity)),a.moveTo(-l,-s),a.lineTo(-f[h].radius-l,0),a.lineTo(f[h].radius+l,0),a.lineTo(l,-s),a.lineTo(-l,-s),a.closePath(),a.fill()),f[h].funnelArea=[u.x-f[h].radius,u.y-s*(h+1),u.x+f[h].radius,u.y-s*h],a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.setStrokeStyle(r.borderColor);var p=c(f[h].color,r.fillOpacity);if("custom"==r.linearType){var m=a.createLinearGradient(f[h].radius,-s,-f[h].radius,-s);m.addColorStop(0,c(f[h].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[h].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[h].color,r.fillOpacity)),p=m}a.setFillStyle(p),a.moveTo(0,-s),a.lineTo(-f[h].radius,0),a.lineTo(f[h].radius,0),a.lineTo(0,-s),a.closePath(),a.fill(),1==r.border&&a.stroke()}else{e.tooltip&&e.tooltip.index==h&&(a.beginPath(),a.setFillStyle(c(f[h].color,r.activeOpacity)),a.moveTo(0,0),a.lineTo(-f[h].radius-l,0),a.lineTo(-f[h+1].radius-l,-s),a.lineTo(f[h+1].radius+l,-s),a.lineTo(f[h].radius+l,0),a.lineTo(0,0),a.closePath(),a.fill()),f[h].funnelArea=[u.x-f[h].radius,u.y-s*(h+1),u.x+f[h].radius,u.y-s*h],a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.setStrokeStyle(r.borderColor);p=c(f[h].color,r.fillOpacity);if("custom"==r.linearType){m=a.createLinearGradient(f[h].radius,-s,-f[h].radius,-s);m.addColorStop(0,c(f[h].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[h].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[h].color,r.fillOpacity)),p=m}a.setFillStyle(p),a.moveTo(0,0),a.lineTo(-f[h].radius,0),a.lineTo(-f[h+1].radius,-s),a.lineTo(f[h+1].radius,-s),a.lineTo(f[h].radius,0),a.lineTo(0,0),a.closePath(),a.fill(),1==r.border&&a.stroke()}a.translate(0,-s)}else{a.translate(0,-(f.length-1)*s);for(var g=0;g<f.length;g++){if(g==f.length-1){e.tooltip&&e.tooltip.index==g&&(a.beginPath(),a.setFillStyle(c(f[g].color,r.activeOpacity)),a.moveTo(-l-r.minSize/2,0),a.lineTo(-f[g].radius-l,-s),a.lineTo(f[g].radius+l,-s),a.lineTo(l+r.minSize/2,0),a.lineTo(-l-r.minSize/2,0),a.closePath(),a.fill()),f[g].funnelArea=[u.x-f[g].radius,u.y-s,u.x+f[g].radius,u.y],a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.setStrokeStyle(r.borderColor);p=c(f[g].color,r.fillOpacity);if("custom"==r.linearType){m=a.createLinearGradient(f[g].radius,-s,-f[g].radius,-s);m.addColorStop(0,c(f[g].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[g].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[g].color,r.fillOpacity)),p=m}a.setFillStyle(p),a.moveTo(0,0),a.lineTo(-r.minSize/2,0),a.lineTo(-f[g].radius,-s),a.lineTo(f[g].radius,-s),a.lineTo(r.minSize/2,0),a.lineTo(0,0),a.closePath(),a.fill(),1==r.border&&a.stroke()}else{e.tooltip&&e.tooltip.index==g&&(a.beginPath(),a.setFillStyle(c(f[g].color,r.activeOpacity)),a.moveTo(0,0),a.lineTo(-f[g+1].radius-l,0),a.lineTo(-f[g].radius-l,-s),a.lineTo(f[g].radius+l,-s),a.lineTo(f[g+1].radius+l,0),a.lineTo(0,0),a.closePath(),a.fill()),f[g].funnelArea=[u.x-f[g].radius,u.y-s*(f.length-g),u.x+f[g].radius,u.y-s*(f.length-g-1)],a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.setStrokeStyle(r.borderColor);p=c(f[g].color,r.fillOpacity);if("custom"==r.linearType){m=a.createLinearGradient(f[g].radius,-s,-f[g].radius,-s);m.addColorStop(0,c(f[g].color,r.fillOpacity)),m.addColorStop(.5,c(r.customColor[f[g].linearIndex],r.fillOpacity)),m.addColorStop(1,c(f[g].color,r.fillOpacity)),p=m}a.setFillStyle(p),a.moveTo(0,0),a.lineTo(-f[g+1].radius,0),a.lineTo(-f[g].radius,-s),a.lineTo(f[g].radius,-s),a.lineTo(f[g+1].radius,0),a.lineTo(0,0),a.closePath(),a.fill(),1==r.border&&a.stroke()}a.translate(0,s)}}return a.restore(),!1!==e.dataLabel&&1===n&&jt(f,e,a,s,r.labelAlign,l,u),1===n&&Ft(f,e,a,s,r.labelAlign,l,u),{center:u,radius:d,series:f}}(l,e,i,a,t),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var n=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},e.extra.line);r.width*=e.pix;var s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=[];a.save();var f=0,p=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),f=-e._scrollDistance_-2*l+e.area[3],p=f+(e.xAxis.itemCount+4)*l),t.forEach((function(t,s){var o,m,g;a.beginPath(),a.setStrokeStyle(t.color),a.moveTo(-1e4,-1e4),a.lineTo(-10001,-10001),a.stroke(),o=[].concat(e.chartData.yAxisData.ranges[t.index]),m=o.pop(),g=o.shift();var _=t.data,v=X(_,m,g,u,l,e,i,r,n);d.push(v);var b=A(v,t);if("dash"==t.lineType){var y=t.dashLength?t.dashLength:8;y*=e.pix,a.setLineDash([y,y])}a.beginPath();var x=t.color;if("none"!==r.linearType&&t.linearColor&&t.linearColor.length>0){for(var w=a.createLinearGradient(e.chartData.xAxisData.startX,e.height/2,e.chartData.xAxisData.endX,e.height/2),C=0;C<t.linearColor.length;C++)w.addColorStop(t.linearColor[C][0],c(t.linearColor[C][1],1));x=w}a.setStrokeStyle(x),1==r.onShadow&&t.setShadow&&t.setShadow.length>0?a.setShadow(t.setShadow[0],t.setShadow[1],t.setShadow[2],t.setShadow[3]):a.setShadow(0,0,0,"rgba(0,0,0,0)"),a.setLineWidth(r.width),b.forEach((function(t,e){if(1===t.length)a.moveTo(t[0].x,t[0].y);else{a.moveTo(t[0].x,t[0].y);var i=0;if("curve"===r.type)for(var n=0;n<t.length;n++){var s=t[n];if(0==i&&s.x>f&&(a.moveTo(s.x,s.y),i=1),n>0&&s.x>f&&s.x<p){var o=h(t,n-1);a.bezierCurveTo(o.ctrA.x,o.ctrA.y,o.ctrB.x,o.ctrB.y,s.x,s.y)}}if("straight"===r.type)for(var u=0;u<t.length;u++){var c=t[u];0==i&&c.x>f&&(a.moveTo(c.x,c.y),i=1),u>0&&c.x>f&&c.x<p&&a.lineTo(c.x,c.y)}if("step"===r.type)for(var l=0;l<t.length;l++){var d=t[l];0==i&&d.x>f&&(a.moveTo(d.x,d.y),i=1),l>0&&d.x>f&&d.x<p&&(a.lineTo(d.x,t[l-1].y),a.lineTo(d.x,d.y))}a.moveTo(t[0].x,t[0].y)}})),a.stroke(),a.setLineDash([]),!1!==e.dataPointShape&&st(v,t.color,t.pointShape,a,e),ot(v,t.color,t.pointShape,a,e,r)})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,i,n);ct(f,t,i,a,e)})),a.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:l}}(l,e,i,a,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var n=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=(o({},{type:"circle"},e.extra.scatter),e.chartData.xAxisData),s=r.xAxisPoints,u=r.eachSpacing,c=[];a.save();return e.width,e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),-e._scrollDistance_-2*u+e.area[3],e.xAxis.itemCount),t.forEach((function(t,r){var o,c,l;o=[].concat(e.chartData.yAxisData.ranges[t.index]),c=o.pop(),l=o.shift();var d=t.data,f=Y(d,c,l,s,u,e,i,n);a.beginPath(),a.setStrokeStyle(t.color),a.setFillStyle(t.color),a.setLineWidth(1*e.pix);var h=t.pointShape;if("diamond"===h)f.forEach((function(t,e){null!==t&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y),a.lineTo(t.x,t.y+4.5),a.lineTo(t.x+4.5,t.y),a.lineTo(t.x,t.y-4.5))}));else if("circle"===h)f.forEach((function(t,i){null!==t&&(a.moveTo(t.x+2.5*e.pix,t.y),a.arc(t.x,t.y,3*e.pix,0,2*Math.PI,!1))}));else if("square"===h)f.forEach((function(t,e){null!==t&&(a.moveTo(t.x-3.5,t.y-3.5),a.rect(t.x-3.5,t.y-3.5,7,7))}));else if("triangle"===h)f.forEach((function(t,e){null!==t&&(a.moveTo(t.x,t.y-4.5),a.lineTo(t.x-4.5,t.y+4.5),a.lineTo(t.x+4.5,t.y+4.5),a.lineTo(t.x,t.y-4.5))}));else if("triangle"===h)return;a.closePath(),a.fill(),a.stroke()})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var o,c,l;o=[].concat(e.chartData.yAxisData.ranges[t.index]),c=o.pop(),l=o.shift();var d=t.data,f=Y(d,c,l,s,u,e,i,n);ct(f,t,i,a,e)})),a.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:u}}(l,e,i,a,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var n=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{opacity:1,border:2},e.extra.bubble),s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=[];a.save();return e.width,e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),-e._scrollDistance_-2*l+e.area[3],e.xAxis.itemCount),t.forEach((function(t,s){var o,d,f;o=[].concat(e.chartData.yAxisData.ranges[t.index]),d=o.pop(),f=o.shift();var h=t.data,p=Y(h,d,f,u,l,e,i,n);a.beginPath(),a.setStrokeStyle(t.color),a.setLineWidth(r.border*e.pix),a.setFillStyle(c(t.color,r.opacity)),p.forEach((function(t,i){a.moveTo(t.x+t.r,t.y),a.arc(t.x,t.y,t.r*e.pix,0,2*Math.PI,!1)})),a.closePath(),a.fill(),a.stroke(),!1!==e.dataLabel&&1===n&&p.forEach((function(n,r){a.beginPath();var s=t.textSize*e.pix||i.fontSize;a.setFontSize(s),a.setFillStyle(t.textColor||"#FFFFFF"),a.setTextAlign("center"),a.fillText(String(n.t),n.x,n.y+s/2),a.closePath(),a.stroke(),a.setTextAlign("left")}))})),a.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:l}}(l,e,i,a,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var r=function(t,e,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{width:l/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mix.column),f=o({},{opacity:.2,gradient:!1},e.extra.mix.area),p=o({},{width:2},e.extra.mix.line),m=e.height-e.area[2],g=[],v=0,b=0;t.forEach((function(t,e){"column"==t.type&&(b+=1)})),a.save();var y=-2,x=u.length+2,w=0,C=e.width+l;if(e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),y=Math.floor(-e._scrollDistance_/l)-2,x=y+e.xAxis.itemCount+4,w=-e._scrollDistance_-2*l+e.area[3],C=w+(e.xAxis.itemCount+4)*l),d.customColor=_(d.linearType,d.customColor,t,i),t.forEach((function(t,s){var o,_,$;o=[].concat(e.chartData.yAxisData.ranges[t.index]),_=o.pop(),$=o.shift();var k=t.data,D=Y(k,_,$,u,l,e,i,r);if(g.push(D),"column"==t.type){D=W(D,l,b,v,0,e);for(var S=0;S<D.length;S++){var T=D[S];if(null!==T&&S>y&&S<x){var O=T.x-T.width/2;e.height,T.y,e.area[2];a.beginPath();var P=T.color||t.color,M=T.color||t.color;if("none"!==d.linearType){var I=a.createLinearGradient(O,T.y,O,e.height-e.area[2]);"opacity"==d.linearType?(I.addColorStop(0,c(P,d.linearOpacity)),I.addColorStop(1,c(P,1))):(I.addColorStop(0,c(d.customColor[t.linearIndex],d.linearOpacity)),I.addColorStop(d.colorStop,c(d.customColor[t.linearIndex],d.linearOpacity)),I.addColorStop(1,c(P,1))),P=I}if(d.barBorderRadius&&4===d.barBorderRadius.length||d.barBorderCircle){var j=O,F=T.y,L=T.width,E=e.height-e.area[2]-T.y;d.barBorderCircle&&(d.barBorderRadius=[L/2,L/2,0,0]);var q=(0,n.default)(d.barBorderRadius,4),R=q[0],B=q[1],N=q[2],z=q[3],U=Math.min(L/2,E/2);R=R>U?U:R,B=B>U?U:B,N=N>U?U:N,z=z>U?U:z,R=R<0?0:R,B=B<0?0:B,N=N<0?0:N,z=z<0?0:z,a.arc(j+R,F+R,R,-Math.PI,-Math.PI/2),a.arc(j+L-B,F+B,B,-Math.PI/2,0),a.arc(j+L-N,F+E-N,N,0,Math.PI/2),a.arc(j+z,F+E-z,z,Math.PI/2,Math.PI)}else a.moveTo(O,T.y),a.lineTo(O+T.width,T.y),a.lineTo(O+T.width,e.height-e.area[2]),a.lineTo(O,e.height-e.area[2]),a.lineTo(O,T.y),a.setLineWidth(1),a.setStrokeStyle(M);a.setFillStyle(P),a.closePath(),a.fill()}}v+=1}if("area"==t.type)for(var V=A(D,t),H=0;H<V.length;H++){var G=V[H];if(a.beginPath(),a.setStrokeStyle(t.color),a.setStrokeStyle(c(t.color,f.opacity)),f.gradient){var Q=a.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);Q.addColorStop("0",c(t.color,f.opacity)),Q.addColorStop("1.0",c("#FFFFFF",.1)),a.setFillStyle(Q)}else a.setFillStyle(c(t.color,f.opacity));if(a.setLineWidth(2*e.pix),G.length>1){var J=G[0],X=G[G.length-1];a.moveTo(J.x,J.y);var K=0;if("curve"===t.style)for(var Z=0;Z<G.length;Z++){var tt=G[Z];if(0==K&&tt.x>w&&(a.moveTo(tt.x,tt.y),K=1),Z>0&&tt.x>w&&tt.x<C){var et=h(G,Z-1);a.bezierCurveTo(et.ctrA.x,et.ctrA.y,et.ctrB.x,et.ctrB.y,tt.x,tt.y)}}else for(var it=0;it<G.length;it++){var at=G[it];0==K&&at.x>w&&(a.moveTo(at.x,at.y),K=1),it>0&&at.x>w&&at.x<C&&a.lineTo(at.x,at.y)}a.lineTo(X.x,m),a.lineTo(J.x,m),a.lineTo(J.x,J.y)}else{var nt=G[0];a.moveTo(nt.x-l/2,nt.y)}a.closePath(),a.fill()}if("line"==t.type){var rt=A(D,t);rt.forEach((function(i,n){if("dash"==t.lineType){var r=t.dashLength?t.dashLength:8;r*=e.pix,a.setLineDash([r,r])}if(a.beginPath(),a.setStrokeStyle(t.color),a.setLineWidth(p.width*e.pix),1===i.length)a.moveTo(i[0].x,i[0].y);else{a.moveTo(i[0].x,i[0].y);var s=0;if("curve"==t.style)for(var o=0;o<i.length;o++){var u=i[o];if(0==s&&u.x>w&&(a.moveTo(u.x,u.y),s=1),o>0&&u.x>w&&u.x<C){var c=h(i,o-1);a.bezierCurveTo(c.ctrA.x,c.ctrA.y,c.ctrB.x,c.ctrB.y,u.x,u.y)}}else for(var l=0;l<i.length;l++){var d=i[l];0==s&&d.x>w&&(a.moveTo(d.x,d.y),s=1),l>0&&d.x>w&&d.x<C&&a.lineTo(d.x,d.y)}a.moveTo(i[0].x,i[0].y)}a.stroke(),a.setLineDash([])}))}"point"==t.type&&(t.addPoint=!0),1==t.addPoint&&"column"!==t.type&&st(D,t.color,t.pointShape,a,e)})),!1!==e.dataLabel&&1===r){v=0;t.forEach((function(t,n){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,i,r);"column"!==t.type?ct(f,t,i,a,e):(f=W(f,l,b,v,0,e),ct(f,t,i,a,e),v+=1)}))}return a.restore(),{xAxisPoints:u,calPoints:g,eachSpacing:l}}(l,e,i,a,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var r=function(t,e,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{type:"group",width:l/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},e.extra.column),f=[];a.save();var h=-2,p=u.length+2;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),h=Math.floor(-e._scrollDistance_/l)-2,p=h+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&vt(e.tooltip.offset.x,e,0,a,l),d.customColor=_(d.linearType,d.customColor,t,i),t.forEach((function(s,o){var m,g,_;m=[].concat(e.chartData.yAxisData.ranges[s.index]),g=m.pop(),_=m.shift();var v=e.height-e.area[0]-e.area[2],b=v*(0-g)/(_-g),y=e.height-Math.round(b)-e.area[2];s.zeroPoints=y;var x=s.data;switch(d.type){case"group":var w=K(x,g,_,u,l,e,i,y,r),C=et(x,g,_,u,l,e,i,o,t,r);f.push(C),w=W(w,l,t.length,o,0,e);for(var $=0;$<w.length;$++){var k=w[$];if(null!==k&&$>h&&$<p){var D=k.x-k.width/2,S=e.height-k.y-e.area[2];a.beginPath();var T=k.color||s.color,O=k.color||s.color;if("none"!==d.linearType){var P=a.createLinearGradient(D,k.y,D,y);"opacity"==d.linearType?(P.addColorStop(0,c(T,d.linearOpacity)),P.addColorStop(1,c(T,1))):(P.addColorStop(0,c(d.customColor[s.linearIndex],d.linearOpacity)),P.addColorStop(d.colorStop,c(d.customColor[s.linearIndex],d.linearOpacity)),P.addColorStop(1,c(T,1))),T=P}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var M=D,A=k.y>y?y:k.y,I=k.width,j=Math.abs(y-k.y);d.barBorderCircle&&(d.barBorderRadius=[I/2,I/2,0,0]),k.y>y&&(d.barBorderRadius=[0,0,I/2,I/2]);var F=(0,n.default)(d.barBorderRadius,4),L=F[0],E=F[1],q=F[2],R=F[3],B=Math.min(I/2,j/2);L=L>B?B:L,E=E>B?B:E,q=q>B?B:q,R=R>B?B:R,L=L<0?0:L,E=E<0?0:E,q=q<0?0:q,R=R<0?0:R,a.arc(M+L,A+L,L,-Math.PI,-Math.PI/2),a.arc(M+I-E,A+E,E,-Math.PI/2,0),a.arc(M+I-q,A+j-q,q,0,Math.PI/2),a.arc(M+R,A+j-R,R,Math.PI/2,Math.PI)}else a.moveTo(D,k.y),a.lineTo(D+k.width,k.y),a.lineTo(D+k.width,y),a.lineTo(D,y),a.lineTo(D,k.y),a.setLineWidth(1),a.setStrokeStyle(O);a.setFillStyle(T),a.closePath(),a.fill()}}break;case"stack":w=et(x,g,_,u,l,e,i,o,t,r);f.push(w),w=H(w,l,t.length,0,0,e);for(var N=0;N<w.length;N++){var z=w[N];if(null!==z&&N>h&&N<p){a.beginPath();T=z.color||s.color,D=z.x-z.width/2+1,S=e.height-z.y-e.area[2];var U=e.height-z.y0-e.area[2];o>0&&(S-=U),a.setFillStyle(T),a.moveTo(D,z.y),a.fillRect(D,z.y,z.width,S),a.closePath(),a.fill()}}break;case"meter":w=Y(x,g,_,u,l,e,i,r);f.push(w),w=V(w,l,t.length,o,0,e,d.meterBorder);for(var G=0;G<w.length;G++){var Q=w[G];if(null!==Q&&G>h&&G<p){a.beginPath(),0==o&&d.meterBorder>0&&(a.setStrokeStyle(s.color),a.setLineWidth(d.meterBorder*e.pix)),0==o?a.setFillStyle(d.meterFillColor):a.setFillStyle(Q.color||s.color);D=Q.x-Q.width/2,S=e.height-Q.y-e.area[2];if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var J=D,X=Q.y,Z=Q.width,tt=y-Q.y;d.barBorderCircle&&(d.barBorderRadius=[Z/2,Z/2,0,0]);var it=(0,n.default)(d.barBorderRadius,4),at=it[0],nt=it[1],rt=it[2],st=it[3],ot=Math.min(Z/2,tt/2);at=at>ot?ot:at,nt=nt>ot?ot:nt,rt=rt>ot?ot:rt,st=st>ot?ot:st,at=at<0?0:at,nt=nt<0?0:nt,rt=rt<0?0:rt,st=st<0?0:st,a.arc(J+at,X+at,at,-Math.PI,-Math.PI/2),a.arc(J+Z-nt,X+nt,nt,-Math.PI/2,0),a.arc(J+Z-rt,X+tt-rt,rt,0,Math.PI/2),a.arc(J+st,X+tt-st,st,Math.PI/2,Math.PI),a.fill()}else a.moveTo(D,Q.y),a.lineTo(D+Q.width,Q.y),a.lineTo(D+Q.width,y),a.lineTo(D,y),a.lineTo(D,Q.y),a.fill();0==o&&d.meterBorder>0&&(a.closePath(),a.stroke())}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,s){var o,c,f;o=[].concat(e.chartData.yAxisData.ranges[n.index]),c=o.pop(),f=o.shift();var h=n.data;switch(d.type){case"group":var p=K(h,c,f,u,l,e,i,r);p=W(p,l,t.length,s,0,e),lt(p,n,i,a,e);break;case"stack":p=et(h,c,f,u,l,e,i,s,t,r);lt(p,n,i,a,e);break;case"meter":p=Y(h,c,f,u,l,e,i,r);lt(p,n,i,a,e);break}})),a.restore(),{xAxisPoints:u,calPoints:f,eachSpacing:l}}(l,e,i,a,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var r=function(t,e,i,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=o({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mount);d.widthRatio=d.widthRatio<=0?0:d.widthRatio,d.widthRatio=d.widthRatio>=2?2:d.widthRatio,a.save();var f,h,p,m=-2,g=u.length+2;e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),m=Math.floor(-e._scrollDistance_/l)-2,g=m+e.xAxis.itemCount+4),d.customColor=_(d.linearType,d.customColor,t,i),f=[].concat(e.chartData.yAxisData.ranges[0]),h=f.pop(),p=f.shift();var v=e.height-e.area[0]-e.area[2],b=v*(0-h)/(p-h),y=e.height-Math.round(b)-e.area[2],x=Z(t,h,p,u,l,e,d,y,r);switch(d.type){case"bar":for(var w=0;w<x.length;w++){var C=x[w];if(null!==C&&w>m&&w<g){var $=C.x-l*d.widthRatio/2,k=e.height-C.y-e.area[2];a.beginPath();var D=C.color||t[w].color,S=C.color||t[w].color;if("none"!==d.linearType){var T=a.createLinearGradient($,C.y,$,y);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[w].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[w].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var O=$,P=C.y>y?y:C.y,M=C.width,A=Math.abs(y-C.y);d.barBorderCircle&&(d.barBorderRadius=[M/2,M/2,0,0]),C.y>y&&(d.barBorderRadius=[0,0,M/2,M/2]);var I=(0,n.default)(d.barBorderRadius,4),j=I[0],F=I[1],L=I[2],E=I[3],q=Math.min(M/2,A/2);j=j>q?q:j,F=F>q?q:F,L=L>q?q:L,E=E>q?q:E,j=j<0?0:j,F=F<0?0:F,L=L<0?0:L,E=E<0?0:E,a.arc(O+j,P+j,j,-Math.PI,-Math.PI/2),a.arc(O+M-F,P+F,F,-Math.PI/2,0),a.arc(O+M-L,P+A-L,L,0,Math.PI/2),a.arc(O+E,P+A-E,E,Math.PI/2,Math.PI)}else a.moveTo($,C.y),a.lineTo($+C.width,C.y),a.lineTo($+C.width,y),a.lineTo($,y),a.lineTo($,C.y);a.setStrokeStyle(S),a.setFillStyle(D),d.borderWidth>0&&(a.setLineWidth(d.borderWidth*e.pix),a.closePath(),a.stroke()),a.fill()}}break;case"triangle":for(var R=0;R<x.length;R++){var B=x[R];if(null!==B&&R>m&&R<g){$=B.x-l*d.widthRatio/2,k=e.height-B.y-e.area[2];a.beginPath();D=B.color||t[R].color,S=B.color||t[R].color;if("none"!==d.linearType){T=a.createLinearGradient($,B.y,$,y);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[R].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[R].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}a.moveTo($,y),a.lineTo(B.x,B.y),a.lineTo($+B.width,y),a.setStrokeStyle(S),a.setFillStyle(D),d.borderWidth>0&&(a.setLineWidth(d.borderWidth*e.pix),a.stroke()),a.fill()}}break;case"mount":for(var N=0;N<x.length;N++){var z=x[N];if(null!==z&&N>m&&N<g){$=z.x-l*d.widthRatio/2,k=e.height-z.y-e.area[2];a.beginPath();D=z.color||t[N].color,S=z.color||t[N].color;if("none"!==d.linearType){T=a.createLinearGradient($,z.y,$,y);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[N].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[N].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}a.moveTo($,y),a.bezierCurveTo(z.x-z.width/4,y,z.x-z.width/4,z.y,z.x,z.y),a.bezierCurveTo(z.x+z.width/4,z.y,z.x+z.width/4,y,$+z.width,y),a.setStrokeStyle(S),a.setFillStyle(D),d.borderWidth>0&&(a.setLineWidth(d.borderWidth*e.pix),a.stroke()),a.fill()}}break;case"sharp":for(var W=0;W<x.length;W++){var U=x[W];if(null!==U&&W>m&&W<g){$=U.x-l*d.widthRatio/2,k=e.height-U.y-e.area[2];a.beginPath();D=U.color||t[W].color,S=U.color||t[W].color;if("none"!==d.linearType){T=a.createLinearGradient($,U.y,$,y);"opacity"==d.linearType?(T.addColorStop(0,c(D,d.linearOpacity)),T.addColorStop(1,c(D,1))):(T.addColorStop(0,c(d.customColor[t[W].linearIndex],d.linearOpacity)),T.addColorStop(d.colorStop,c(d.customColor[t[W].linearIndex],d.linearOpacity)),T.addColorStop(1,c(D,1))),D=T}a.moveTo($,y),a.quadraticCurveTo(U.x-0,y-k/4,U.x,U.y),a.quadraticCurveTo(U.x+0,y-k/4,$+U.width,y),a.setStrokeStyle(S),a.setFillStyle(D),d.borderWidth>0&&(a.setLineWidth(d.borderWidth*e.pix),a.stroke()),a.fill()}}break}if(!1!==e.dataLabel&&1===r){var V,H,G;V=[].concat(e.chartData.yAxisData.ranges[0]),H=V.pop(),G=V.shift();x=Z(t,H,G,u,l,e,d,y,r);dt(x,t,i,a,e,y)}return a.restore(),{xAxisPoints:u,calPoints:x,eachSpacing:l}}(l,e,i,a,t),s=r.xAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.xAxisPoints=s,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),wt(d,e,i,a);var r=function(t,e,i,a){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=[],u=(e.height-e.area[0]-e.area[2])/e.categories.length,l=0;l<e.categories.length;l++)s.push(e.area[0]+u/2+u*l);var d=o({},{type:"group",width:u/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.bar),f=[];a.save();var h=-2,p=s.length+2;return e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&bt(e.tooltip.offset.y,e,0,a,u),d.customColor=_(d.linearType,d.customColor,t,i),t.forEach((function(o,l){var m,g,_;m=[].concat(e.chartData.xAxisData.ranges),_=m.pop(),g=m.shift();var v=o.data;switch(d.type){case"group":var b=tt(v,g,_,s,u,e,i,r),y=it(v,g,_,s,u,e,i,l,t,r);f.push(y),b=U(b,u,t.length,l,0,e);for(var x=0;x<b.length;x++){var w=b[x];if(null!==w&&x>h&&x<p){var C=e.area[3],$=w.y-w.width/2;w.height;a.beginPath();var k=w.color||o.color,D=w.color||o.color;if("none"!==d.linearType){var S=a.createLinearGradient(C,w.y,w.x,w.y);"opacity"==d.linearType?(S.addColorStop(0,c(k,d.linearOpacity)),S.addColorStop(1,c(k,1))):(S.addColorStop(0,c(d.customColor[o.linearIndex],d.linearOpacity)),S.addColorStop(d.colorStop,c(d.customColor[o.linearIndex],d.linearOpacity)),S.addColorStop(1,c(k,1))),k=S}if(d.barBorderRadius&&4===d.barBorderRadius.length||!0===d.barBorderCircle){var T=C,O=w.width,P=w.y-w.width/2,M=w.height;d.barBorderCircle&&(d.barBorderRadius=[O/2,O/2,0,0]);var A=(0,n.default)(d.barBorderRadius,4),I=A[0],j=A[1],F=A[2],L=A[3],E=Math.min(O/2,M/2);I=I>E?E:I,j=j>E?E:j,F=F>E?E:F,L=L>E?E:L,I=I<0?0:I,j=j<0?0:j,F=F<0?0:F,L=L<0?0:L,a.arc(T+L,P+L,L,-Math.PI,-Math.PI/2),a.arc(w.x-I,P+I,I,-Math.PI/2,0),a.arc(w.x-j,P+O-j,j,0,Math.PI/2),a.arc(T+F,P+O-F,F,Math.PI/2,Math.PI)}else a.moveTo(C,$),a.lineTo(w.x,$),a.lineTo(w.x,$+w.width),a.lineTo(C,$+w.width),a.lineTo(C,$),a.setLineWidth(1),a.setStrokeStyle(D);a.setFillStyle(k),a.closePath(),a.fill()}}break;case"stack":b=it(v,g,_,s,u,e,i,l,t,r);f.push(b),b=G(b,u,t.length,0,0,e);for(var q=0;q<b.length;q++){var R=b[q];if(null!==R&&q>h&&q<p){a.beginPath();k=R.color||o.color,C=R.x0;a.setFillStyle(k),a.moveTo(C,R.y-R.width/2),a.fillRect(C,R.y-R.width/2,R.height,R.width),a.closePath(),a.fill()}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(n,o){var c,l,f;c=[].concat(e.chartData.xAxisData.ranges),f=c.pop(),l=c.shift();var h=n.data;switch(d.type){case"group":var p=tt(h,l,f,s,u,e,i,r);p=U(p,u,t.length,o,0,e),ft(p,n,i,a,e);break;case"stack":p=it(h,l,f,s,u,e,i,o,t,r);ft(p,n,i,a,e);break}})),{yAxisPoints:s,calPoints:f,eachSpacing:u}}(l,e,i,a,t),s=r.yAxisPoints,u=r.calPoints,f=r.eachSpacing;e.chartData.yAxisPoints=s,e.chartData.xAxisPoints=e.chartData.xAxisData.xAxisPoints,e.chartData.calPoints=u,e.chartData.eachSpacing=f,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var n=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},e.extra.area),s=e.chartData.xAxisData,u=s.xAxisPoints,l=s.eachSpacing,d=e.height-e.area[2],f=[];a.save();var p=0,m=e.width+l;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(a.translate(e._scrollDistance_,0),p=-e._scrollDistance_-2*l+e.area[3],m=p+(e.xAxis.itemCount+4)*l),t.forEach((function(t,s){var o,g,_;o=[].concat(e.chartData.yAxisData.ranges[t.index]),g=o.pop(),_=o.shift();var v=t.data,b=Y(v,g,_,u,l,e,i,n);f.push(b);for(var y=A(b,t),x=0;x<y.length;x++){var w=y[x];if(a.beginPath(),a.setStrokeStyle(c(t.color,r.opacity)),r.gradient){var C=a.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);C.addColorStop("0",c(t.color,r.opacity)),C.addColorStop("1.0",c("#FFFFFF",.1)),a.setFillStyle(C)}else a.setFillStyle(c(t.color,r.opacity));if(a.setLineWidth(r.width*e.pix),w.length>1){var $=w[0],k=w[w.length-1];a.moveTo($.x,$.y);var D=0;if("curve"===r.type)for(var S=0;S<w.length;S++){var T=w[S];if(0==D&&T.x>p&&(a.moveTo(T.x,T.y),D=1),S>0&&T.x>p&&T.x<m){var O=h(w,S-1);a.bezierCurveTo(O.ctrA.x,O.ctrA.y,O.ctrB.x,O.ctrB.y,T.x,T.y)}}if("straight"===r.type)for(var P=0;P<w.length;P++){var M=w[P];0==D&&M.x>p&&(a.moveTo(M.x,M.y),D=1),P>0&&M.x>p&&M.x<m&&a.lineTo(M.x,M.y)}if("step"===r.type)for(var I=0;I<w.length;I++){var j=w[I];0==D&&j.x>p&&(a.moveTo(j.x,j.y),D=1),I>0&&j.x>p&&j.x<m&&(a.lineTo(j.x,w[I-1].y),a.lineTo(j.x,j.y))}a.lineTo(k.x,d),a.lineTo($.x,d),a.lineTo($.x,$.y)}else{var F=w[0];a.moveTo(F.x-l/2,F.y)}if(a.closePath(),a.fill(),r.addLine){if("dash"==t.lineType){var L=t.dashLength?t.dashLength:8;L*=e.pix,a.setLineDash([L,L])}if(a.beginPath(),a.setStrokeStyle(t.color),a.setLineWidth(r.width*e.pix),1===w.length)a.moveTo(w[0].x,w[0].y);else{a.moveTo(w[0].x,w[0].y);var E=0;if("curve"===r.type)for(var q=0;q<w.length;q++){var R=w[q];if(0==E&&R.x>p&&(a.moveTo(R.x,R.y),E=1),q>0&&R.x>p&&R.x<m){var B=h(w,q-1);a.bezierCurveTo(B.ctrA.x,B.ctrA.y,B.ctrB.x,B.ctrB.y,R.x,R.y)}}if("straight"===r.type)for(var N=0;N<w.length;N++){var z=w[N];0==E&&z.x>p&&(a.moveTo(z.x,z.y),E=1),N>0&&z.x>p&&z.x<m&&a.lineTo(z.x,z.y)}if("step"===r.type)for(var W=0;W<w.length;W++){var U=w[W];0==E&&U.x>p&&(a.moveTo(U.x,U.y),E=1),W>0&&U.x>p&&U.x<m&&(a.lineTo(U.x,w[W-1].y),a.lineTo(U.x,U.y))}a.moveTo(w[0].x,w[0].y)}a.stroke(),a.setLineDash([])}}!1!==e.dataPointShape&&st(b,t.color,t.pointShape,a,e),ot(b,t.color,t.pointShape,a,e,r,s)})),!1!==e.dataLabel&&1===n&&t.forEach((function(t,r){var s,o,c;s=[].concat(e.chartData.yAxisData.ranges[t.index]),o=s.pop(),c=s.shift();var d=t.data,f=Y(d,o,c,u,l,e,i,n);ct(f,t,i,a,e)})),a.restore(),{xAxisPoints:u,calPoints:f,eachSpacing:l}}(l,e,i,a,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.pieData=Dt(l,e,i,a,t),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.pieData=Dt(l,e,i,a,t),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.pieData=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},e.extra.rose);0==i.pieChartLinePadding&&(i.pieChartLinePadding=r.activeRadius*e.pix);var s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},u=Math.min((e.width-e.area[1]-e.area[3])/2-i.pieChartLinePadding-i.pieChartTextPadding-i._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-i.pieChartLinePadding-i.pieChartTextPadding);u=u<10?10:u;var l=r.minRadius||.5*u;u<l&&(u=l+10),t=q(t,r.type,l,u,n);var d=r.activeRadius*e.pix;return r.customColor=_(r.linearType,r.customColor,t,i),t=t.map((function(t){return t._start_+=(r.offsetAngle||0)*Math.PI/180,t})),t.forEach((function(t,i){e.tooltip&&e.tooltip.index==i&&(a.beginPath(),a.setFillStyle(c(t.color,r.activeOpacity||.5)),a.moveTo(s.x,s.y),a.arc(s.x,s.y,d+t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),a.closePath(),a.fill()),a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.lineJoin="round",a.setStrokeStyle(r.borderColor);var n,o=t.color;"custom"==r.linearType&&(n=a.createCircularGradient?a.createCircularGradient(s.x,s.y,t._radius_):a.createRadialGradient(s.x,s.y,0,s.x,s.y,t._radius_),n.addColorStop(0,c(r.customColor[t.linearIndex],1)),n.addColorStop(1,c(t.color,1)),o=n);a.setFillStyle(o),a.moveTo(s.x,s.y),a.arc(s.x,s.y,t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),a.closePath(),a.fill(),1==r.border&&a.stroke()})),!1!==e.dataLabel&&1===n&&mt(t,e,i,a,0,s),{center:s,radius:u,series:t}}(l,e,i,a,t),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.radarData=function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=o({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},e.extra.radar),s=k(e.categories.length),u={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},l=(e.width-e.area[1]-e.area[3])/2,d=(e.height-e.area[0]-e.area[2])/2,f=Math.min(l-($(e.categories,i.fontSize,a)+i.radarLabelTextMargin),d-i.radarLabelTextMargin);f-=i.radarLabelTextMargin*e.pix,f=f<10?10:f,f=r.radius?r.radius:f,a.beginPath(),a.setLineWidth(1*e.pix),a.setStrokeStyle(r.gridColor),s.forEach((function(t,e){var i=p(f*Math.cos(t),f*Math.sin(t),u);a.moveTo(u.x,u.y),e%r.gridEval==0&&a.lineTo(i.x,i.y)})),a.stroke(),a.closePath();for(var h=function(t){var i={};if(a.beginPath(),a.setLineWidth(1*e.pix),a.setStrokeStyle(r.gridColor),"radar"==r.gridType)s.forEach((function(e,n){var s=p(f/r.gridCount*t*Math.cos(e),f/r.gridCount*t*Math.sin(e),u);0===n?(i=s,a.moveTo(s.x,s.y)):a.lineTo(s.x,s.y)})),a.lineTo(i.x,i.y);else{var n=p(f/r.gridCount*t*Math.cos(1.5),f/r.gridCount*t*Math.sin(1.5),u);a.arc(u.x,u.y,u.y-n.y,0,2*Math.PI,!1)}a.stroke(),a.closePath()},m=1;m<=r.gridCount;m++)h(m);r.customColor=_(r.linearType,r.customColor,t,i);var g=F(s,u,f,t,e,n);if(g.forEach((function(i,n){a.beginPath(),a.setLineWidth(r.borderWidth*e.pix),a.setStrokeStyle(i.color);var s,o=c(i.color,r.opacity);"custom"==r.linearType&&(s=a.createCircularGradient?a.createCircularGradient(u.x,u.y,f):a.createRadialGradient(u.x,u.y,0,u.x,u.y,f),s.addColorStop(0,c(r.customColor[t[n].linearIndex],r.opacity)),s.addColorStop(1,c(i.color,r.opacity)),o=s);if(a.setFillStyle(o),i.data.forEach((function(t,e){0===e?a.moveTo(t.position.x,t.position.y):a.lineTo(t.position.x,t.position.y)})),a.closePath(),a.fill(),!0===r.border&&a.stroke(),a.closePath(),!1!==e.dataPointShape){var l=i.data.map((function(t){return t.position}));st(l,i.color,i.pointShape,a,e)}})),!0===r.axisLabel){var v=Math.max(r.max,Math.max.apply(null,y(t))),b=f/r.gridCount,x=e.fontSize*e.pix;a.setFontSize(x),a.setFillStyle(e.fontColor),a.setTextAlign("left");for(m=0;m<r.gridCount+1;m++){var w=m*v/r.gridCount;w=w.toFixed(r.axisLabelTofix),a.fillText(String(w),u.x+3*e.pix,u.y-m*b+x/2)}}return pt(s,f,u,e,i,a),!1!==e.dataLabel&&1===n&&(g.forEach((function(t,n){a.beginPath();var r=t.textSize*e.pix||i.fontSize;a.setFontSize(r),a.setFillStyle(t.textColor||e.fontColor),t.data.forEach((function(t,e){Math.abs(t.position.x-u.x)<2?t.position.y<u.y?(a.setTextAlign("center"),a.fillText(t.value,t.position.x,t.position.y-4)):(a.setTextAlign("center"),a.fillText(t.value,t.position.x,t.position.y+r+2)):t.position.x<u.x?(a.setTextAlign("right"),a.fillText(t.value,t.position.x-4,t.position.y+r/2-2)):(a.setTextAlign("left"),a.fillText(t.value,t.position.x+4,t.position.y+r/2-2))})),a.closePath(),a.stroke()})),a.setTextAlign("left")),{center:u,radius:f,angleList:s}}(l,e,i,a,t),kt(e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.arcbarData=function(t,e,i,a){var n,r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=o({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},e.extra.arcbar);t=R(t,u,s),n=u.centerX||u.centerY?{x:u.centerX?u.centerX:e.width/2,y:u.centerY?u.centerY:e.height/2}:{x:e.width/2,y:e.height/2},u.radius?r=u.radius:(r=Math.min(n.x,n.y),r-=5*e.pix,r-=u.width/2),r=r<10?10:r,u.customColor=_(u.linearType,u.customColor,t,i);for(var l=0;l<t.length;l++){var d=t[l];a.setLineWidth(u.width*e.pix),a.setStrokeStyle(u.backgroundColor||"#E9E9E9"),a.setLineCap(u.lineCap),a.beginPath(),"default"==u.type?a.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,u.startAngle*Math.PI,u.endAngle*Math.PI,"ccw"==u.direction):a.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,0,2*Math.PI,"ccw"==u.direction),a.stroke();var f=d.color;if("custom"==u.linearType){var h=a.createLinearGradient(n.x-r,n.y,n.x+r,n.y);h.addColorStop(1,c(u.customColor[d.linearIndex],1)),h.addColorStop(0,c(d.color,1)),f=h}a.setLineWidth(u.width*e.pix),a.setStrokeStyle(f),a.setLineCap(u.lineCap),a.beginPath(),a.arc(n.x,n.y,r-(u.width*e.pix+u.gap*e.pix)*l,u.startAngle*Math.PI,d._proportion_*Math.PI,"ccw"==u.direction),a.stroke()}return ut(e,i,a,n),{center:n,radius:r,series:t}}(l,e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),e.chartData.gaugeData=function(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=o({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},i.extra.gauge);void 0==s.oldAngle&&(s.oldAngle=s.startAngle),void 0==s.oldData&&(s.oldData=0),t=N(t,s.startAngle,s.endAngle);var u={x:i.width/2,y:i.height/2},l=Math.min(u.x,u.y);l-=5*i.pix,l-=s.width/2,l=l<10?10:l;var d=l-s.width,f=0;if("progress"==s.type){var h=l-3*s.width;n.beginPath();var p=n.createLinearGradient(u.x,u.y-h,u.x,u.y+h);p.addColorStop("0",c(e[0].color,.3)),p.addColorStop("1.0",c("#FFFFFF",.1)),n.setFillStyle(p),n.arc(u.x,u.y,h,0,2*Math.PI,!1),n.fill(),n.setLineWidth(s.width),n.setStrokeStyle(c(e[0].color,.3)),n.setLineCap("round"),n.beginPath(),n.arc(u.x,u.y,d,s.startAngle*Math.PI,s.endAngle*Math.PI,!1),n.stroke(),f=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle;s.splitLine.splitNumber;var m=f/s.splitLine.splitNumber/s.splitLine.childNumber,g=-l-.5*s.width-s.splitLine.fixRadius,_=-l-s.width-s.splitLine.fixRadius+s.splitLine.width;n.save(),n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var v=s.splitLine.splitNumber*s.splitLine.childNumber+1,b=e[0].data*r,y=0;y<v;y++)n.beginPath(),b>y/v?n.setStrokeStyle(c(e[0].color,1)):n.setStrokeStyle(c(e[0].color,.3)),n.setLineWidth(3*i.pix),n.moveTo(g,0),n.lineTo(_,0),n.stroke(),n.rotate(m*Math.PI);n.restore(),e=B(e,s,r),n.setLineWidth(s.width),n.setStrokeStyle(e[0].color),n.setLineCap("round"),n.beginPath(),n.arc(u.x,u.y,d,s.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),n.stroke();var x=l-2.5*s.width;n.save(),n.translate(u.x,u.y),n.rotate((e[0]._proportion_-1)*Math.PI),n.beginPath(),n.setLineWidth(s.width/3);var w=n.createLinearGradient(0,.6*-x,0,.6*x);w.addColorStop("0",c("#FFFFFF",0)),w.addColorStop("0.5",c(e[0].color,1)),w.addColorStop("1.0",c("#FFFFFF",0)),n.setStrokeStyle(w),n.arc(0,0,x,.85*Math.PI,1.15*Math.PI,!1),n.stroke(),n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(e[0].color),n.setFillStyle(e[0].color),n.moveTo(-x-s.width/3/2,-4),n.lineTo(-x-s.width/3/2-4,0),n.lineTo(-x-s.width/3/2,4),n.lineTo(-x-s.width/3/2,-4),n.stroke(),n.fill(),n.restore()}else{n.setLineWidth(s.width),n.setLineCap("butt");for(var C=0;C<t.length;C++){var $=t[C];n.beginPath(),n.setStrokeStyle($.color),n.arc(u.x,u.y,l,$._startAngle_*Math.PI,$._endAngle_*Math.PI,!1),n.stroke()}n.save(),f=s.endAngle<s.startAngle?2+s.endAngle-s.startAngle:s.startAngle-s.endAngle;var k=f/s.splitLine.splitNumber,D=f/s.splitLine.splitNumber/s.splitLine.childNumber,S=-l-.5*s.width-s.splitLine.fixRadius,T=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.width,O=-l-.5*s.width-s.splitLine.fixRadius+s.splitLine.childWidth;n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var P=0;P<s.splitLine.splitNumber+1;P++)n.beginPath(),n.setStrokeStyle(s.splitLine.color),n.setLineWidth(2*i.pix),n.moveTo(S,0),n.lineTo(T,0),n.stroke(),n.rotate(k*Math.PI);n.restore(),n.save(),n.translate(u.x,u.y),n.rotate((s.startAngle-1)*Math.PI);for(var M=0;M<s.splitLine.splitNumber*s.splitLine.childNumber+1;M++)n.beginPath(),n.setStrokeStyle(s.splitLine.color),n.setLineWidth(1*i.pix),n.moveTo(S,0),n.lineTo(O,0),n.stroke(),n.rotate(D*Math.PI);n.restore(),e=z(e,t,s,r);for(var A=0;A<e.length;A++){var I=e[A];n.save(),n.translate(u.x,u.y),n.rotate((I._proportion_-1)*Math.PI),n.beginPath(),n.setFillStyle(I.color),n.moveTo(s.pointer.width,0),n.lineTo(0,-s.pointer.width/2),n.lineTo(-d,0),n.lineTo(0,s.pointer.width/2),n.lineTo(s.pointer.width,0),n.closePath(),n.fill(),n.beginPath(),n.setFillStyle("#FFFFFF"),n.arc(0,0,s.pointer.width/6,0,2*Math.PI,!1),n.fill(),n.restore()}!1!==i.dataLabel&&ht(s,l,u,i,a,n)}return ut(i,a,n,u),1===r&&"gauge"===i.type&&(i.extra.gauge.oldAngle=e[0]._proportion_,i.extra.gauge.oldData=e[0].data),{center:u,radius:l,innerRadius:d,categories:t,totalAngle:f}}(d,l,e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new qt({timing:e.timing,duration:m,onProcess:function(t){a.clearRect(0,0,e.width,e.height),e.rotate&&rt(a,e),Ct(0,e,0,a),wt(d,e,i,a);var n=function(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=o({},{color:{},average:{}},i.extra.candle);s.color=o({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},s.color),s.average=o({},{show:!1,name:[],day:[],color:a.color},s.average),i.extra.candle=s;var u=i.chartData.xAxisData,c=u.xAxisPoints,l=u.eachSpacing,d=[];n.save();var f=-2,p=c.length+2,m=0,g=i.width+l;return i._scrollDistance_&&0!==i._scrollDistance_&&!0===i.enableScroll&&(n.translate(i._scrollDistance_,0),f=Math.floor(-i._scrollDistance_/l)-2,p=f+i.xAxis.itemCount+4,m=-i._scrollDistance_-2*l+i.area[3],g=m+(i.xAxis.itemCount+4)*l),(s.average.show||e)&&e.forEach((function(t,e){var s,o,u;s=[].concat(i.chartData.yAxisData.ranges[t.index]),o=s.pop(),u=s.shift();for(var d=t.data,f=Y(d,o,u,c,l,i,a,r),p=A(f,t),_=0;_<p.length;_++){var v=p[_];if(n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(1),1===v.length)n.moveTo(v[0].x,v[0].y),n.arc(v[0].x,v[0].y,1,0,2*Math.PI);else{n.moveTo(v[0].x,v[0].y);for(var b=0,y=0;y<v.length;y++){var x=v[y];if(0==b&&x.x>m&&(n.moveTo(x.x,x.y),b=1),y>0&&x.x>m&&x.x<g){var w=h(v,y-1);n.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,x.x,x.y)}}n.moveTo(v[0].x,v[0].y)}n.closePath(),n.stroke()}})),t.forEach((function(t,e){var o,u,h;o=[].concat(i.chartData.yAxisData.ranges[t.index]),u=o.pop(),h=o.shift();var m=t.data,g=J(m,u,h,c,l,i,a,r);d.push(g);for(var _=A(g,t),v=0;v<_[0].length;v++)if(v>f&&v<p){var b=_[0][v];n.beginPath(),m[v][1]-m[v][0]>0?(n.setStrokeStyle(s.color.upLine),n.setFillStyle(s.color.upFill),n.setLineWidth(1*i.pix),n.moveTo(b[3].x,b[3].y),n.lineTo(b[1].x,b[1].y),n.lineTo(b[1].x-l/4,b[1].y),n.lineTo(b[0].x-l/4,b[0].y),n.lineTo(b[0].x,b[0].y),n.lineTo(b[2].x,b[2].y),n.lineTo(b[0].x,b[0].y),n.lineTo(b[0].x+l/4,b[0].y),n.lineTo(b[1].x+l/4,b[1].y),n.lineTo(b[1].x,b[1].y),n.moveTo(b[3].x,b[3].y)):(n.setStrokeStyle(s.color.downLine),n.setFillStyle(s.color.downFill),n.setLineWidth(1*i.pix),n.moveTo(b[3].x,b[3].y),n.lineTo(b[0].x,b[0].y),n.lineTo(b[0].x-l/4,b[0].y),n.lineTo(b[1].x-l/4,b[1].y),n.lineTo(b[1].x,b[1].y),n.lineTo(b[2].x,b[2].y),n.lineTo(b[1].x,b[1].y),n.lineTo(b[1].x+l/4,b[1].y),n.lineTo(b[0].x+l/4,b[0].y),n.lineTo(b[0].x,b[0].y),n.moveTo(b[3].x,b[3].y)),n.closePath(),n.fill(),n.stroke()}})),n.restore(),{xAxisPoints:c,calPoints:d,eachSpacing:l}}(l,v,e,i,a,t),r=n.xAxisPoints,s=n.calPoints,u=n.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=s,e.chartData.eachSpacing=u,$t(0,e,i,a),!1!==e.enableMarkLine&&1===t&&gt(e,0,a),kt(v?0:e.series,e,i,a,e.chartData),xt(e,i,a,t),Lt(0,a)},onAnimationFinish:function(){s.uevent.trigger("renderComplete")}});break}}function Bt(){this.events={}}qt.prototype.stop=function(){this.isStop=!0},Bt.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},Bt.prototype.delEventListener=function(t){this.events[t]=[]},Bt.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=e[0],n=e.slice(1);this.events[a]&&this.events[a].forEach((function(t){try{t.apply(null,n)}catch(e){}}))};var Nt=function(t){t.pix=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize:13,t.fontColor=t.fontColor?t.fontColor:s.fontColor,""!=t.background&&"none"!=t.background||(t.background="#FFFFFF"),t.title=o({},t.title),t.subtitle=o({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=o({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*t.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.xAxis=o({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},t.xAxis),t.xAxis.scrollPosition=t.xAxis.scrollAlign,t.legend=o({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:t.fontColor,formatter:{},hiddenColor:"#CECECE"},t.legend),t.extra=o({tooltip:{legendShape:"auto"}},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate,t.canvas2d=!!t.canvas2d;var e=o({},s);if(e.color=t.color?t.color:e.color,"pie"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.pie.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"ring"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.ring.labelWidth*t.pix||e.pieChartLinePadding*t.pix),"rose"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.rose.labelWidth*t.pix||e.pieChartLinePadding*t.pix),e.pieChartTextPadding=!1===t.dataLabel?0:e.pieChartTextPadding*t.pix,e.rotate=t.rotate,t.rotate){var i=t.width,a=t.height;t.width=a,t.height=i}if(t.padding=t.padding?t.padding:e.padding,e.yAxisWidth=s.yAxisWidth*t.pix,e.fontSize=t.fontSize*t.pix,e.titleFontSize=s.titleFontSize*t.pix,e.subtitleFontSize=s.subtitleFontSize*t.pix,!t.context)throw new Error("[uCharts] \u672a\u83b7\u53d6\u5230context\uff01\u6ce8\u610f\uff1av2.0\u7248\u672c\u540e\uff0c\u9700\u8981\u81ea\u884c\u83b7\u53d6canvas\u7684\u7ed8\u56fe\u4e0a\u4e0b\u6587\u5e76\u4f20\u5165opts.context\uff01");this.context=t.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(t){return this.strokeStyle=t},this.context.setLineWidth=function(t){return this.lineWidth=t},this.context.setLineCap=function(t){return this.lineCap=t},this.context.setFontSize=function(t){return this.font=t+"px sans-serif"},this.context.setFillStyle=function(t){return this.fillStyle=t},this.context.setTextAlign=function(t){return this.textAlign=t},this.context.setTextBaseline=function(t){return this.textBaseline=t},this.context.setShadow=function(t,e,i,a){this.shadowColor=a,this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowBlur=i},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(t){}),t.chartData={},this.uevent=new Bt,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=e,Rt.call(this,t.type,t,e,this.context)};Nt.prototype.updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=o({},this.opts,t),this.opts.updateData=!0;var e=t.scrollPosition||"current";switch(e){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var i=nt(this.opts.series,this.opts,this.config,this.context),a=i.yAxisWidth;this.config.yAxisWidth=a;var n=0,r=Q(this.opts.categories,this.opts,this.config),s=r.xAxisPoints,u=r.startX,c=r.endX,l=r.eachSpacing,d=l*(s.length-1),f=c-u;n=f-d,this.scrollOption={currentOffset:n,startTouchX:n,distance:0,lastMoveTime:0},this.opts._scrollDistance_=n;break}Rt.call(this,this.opts.type,this.opts,this.config,this.context)},Nt.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var e=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var i=nt(this.opts.series,this.opts,this.config,this.context),a=i.yAxisWidth;this.config.yAxisWidth=a;var n=0,r=Q(this.opts.categories,this.opts,this.config),s=r.xAxisPoints,o=r.startX,u=r.endX,c=r.eachSpacing,l=c*e,f=u-o,h=f-c*(s.length-1);n=f/2-l,n>0&&(n=0),n<h&&(n=h),this.scrollOption={currentOffset:n,startTouchX:0,distance:0,lastMoveTime:0},d(this,n,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=n,Rt.call(this,this.opts.type,this.opts,this.config,this.context)}},Nt.prototype.dobuleZoom=function(t){if(!0===this.opts.enableScroll){var e=t.changedTouches;if(!(e.length<2)){for(var i=0;i<e.length;i++)e[i].x=e[i].x?e[i].x:e[i].clientX,e[i].y=e[i].y?e[i].y:e[i].clientY;var a=[w(e[0],this.opts,t),w(e[1],this.opts,t)],n=Math.abs(a[0].x-a[1].x);if(!this.scrollOption.moveCount){var r={changedTouches:[{x:e[0].x,y:this.opts.area[0]/this.opts.pix+2}]},s={changedTouches:[{x:e[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(r={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[0].y}]},s={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[1].y}]});var o=this.getCurrentDataIndex(r).index,u=this.getCurrentDataIndex(s).index,c=Math.abs(o-u);return this.scrollOption.moveCount=c,this.scrollOption.moveCurrent1=Math.min(o,u),void(this.scrollOption.moveCurrent2=Math.max(o,u))}var l=n/this.scrollOption.moveCount,f=(this.opts.width-this.opts.area[1]-this.opts.area[3])/l;f=f<=2?2:f,f=f>=this.opts.categories.length?this.opts.categories.length:f,this.opts.animation=!1,this.opts.xAxis.itemCount=f;var h=0,p=Q(this.opts.categories,this.opts,this.config),m=p.xAxisPoints,g=p.startX,_=p.endX,v=p.eachSpacing,b=v*this.scrollOption.moveCurrent1,y=_-g,x=y-v*(m.length-1);h=-b+Math.min(a[0].x,a[1].x)-this.opts.area[3]-v,h>0&&(h=0),h<x&&(h=x),this.scrollOption.currentOffset=h,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,d(this,h,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=h,Rt.call(this,this.opts.type,this.opts,this.config,this.context)}}},Nt.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},Nt.prototype.addEventListener=function(t,e){this.uevent.addEventListener(t,e)},Nt.prototype.delEventListener=function(t){this.uevent.delEventListener(t)},Nt.prototype.getCurrentDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var i=w(e,this.opts,t);return"pie"===this.opts.type||"ring"===this.opts.type?function(t,e,i){var a=-1,n=L(e.series);if(e&&e.center&&M(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,i.extra.pie&&i.extra.pie.offsetAngle&&(r-=i.extra.pie.offsetAngle*Math.PI/180),i.extra.ring&&i.extra.ring.offsetAngle&&(r-=i.extra.ring.offsetAngle*Math.PI/180);for(var s=0,o=n.length;s<o;s++)if(f(r,n[s]._start_,n[s]._start_+2*n[s]._proportion_*Math.PI)){a=s;break}}return a}({x:i.x,y:i.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?function(t,e,i){var a=-1,n=q(i._series_,i.extra.rose.type,e.radius,e.radius);if(e&&e.center&&M(t,e.center,e.radius)){var r=Math.atan2(e.center.y-t.y,t.x-e.center.x);r=-r,i.extra.rose&&i.extra.rose.offsetAngle&&(r-=i.extra.rose.offsetAngle*Math.PI/180);for(var s=0,o=n.length;s<o;s++)if(f(r,n[s]._start_,n[s]._start_+2*n[s]._rose_proportion_*Math.PI)){a=s;break}}return a}({x:i.x,y:i.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?function(t,e,i){var a=2*Math.PI/i,n=-1;if(M(t,e.center,e.radius)){var r=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},s=Math.atan2(e.center.y-t.y,t.x-e.center.x);s*=-1,s<0&&(s+=2*Math.PI);var o=e.angleList.map((function(t){return t=r(-1*t),t}));o.forEach((function(t,e){var i=r(t-a/2),o=r(t+a/2);o<i&&(o+=2*Math.PI),(s>=i&&s<=o||s+2*Math.PI>=i&&s+2*Math.PI<=o)&&(n=e)}))}return n}({x:i.x,y:i.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?function(t,e){for(var i=-1,a=0,n=e.series.length;a<n;a++){var r=e.series[a];if(t.x>r.funnelArea[0]&&t.x<r.funnelArea[2]&&t.y>r.funnelArea[1]&&t.y<r.funnelArea[3]){i=a;break}}return i}({x:i.x,y:i.y},this.opts.chartData.funnelData):"map"===this.opts.type?function(t,e){for(var i=-1,a=e.chartData.mapData,n=e.series,r=function(t,e,i,a,n,r){return{x:(e-n)/a+i.xMin,y:i.yMax-(t-r)/a}}(t.y,t.x,a.bounds,a.scale,a.xoffset,a.yoffset),s=[r.x,r.y],o=0,u=n.length;o<u;o++){var c=n[o].geometry.coordinates;if(Pt(s,c,e.chartData.mapData.mercator)){i=o;break}}return i}({x:i.x,y:i.y},this.opts):"word"===this.opts.type?function(t,e){for(var i=-1,a=0,n=e.length;a<n;a++){var r=e[a];if(t.x>r.area[0]&&t.x<r.area[2]&&t.y>r.area[1]&&t.y<r.area[3]){i=a;break}}return i}({x:i.x,y:i.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},s=i.chartData.eachSpacing/2,o=i.chartData.yAxisPoints;return e&&e.length>0&&P(t,i,a)&&o.forEach((function(e,i){t.y+n+s>e&&(r.index=i)})),r}({x:i.x,y:i.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r={index:-1,group:[]},s=i.chartData.eachSpacing/2,o=[];if(e&&e.length>0){if(i.categories){for(var u=1;u<i.chartData.xAxisPoints.length;u++)o.push(i.chartData.xAxisPoints[u]-s);"line"!=i.type&&"area"!=i.type||"justify"!=i.xAxis.boundaryGap||(o=i.chartData.xAxisPoints)}else s=0;if(P(t,i,a))if(i.categories)o.forEach((function(e,i){t.x+n+s>e&&(r.index=i)}));else{for(var c=Array(e.length),l=0;l<e.length;l++){c[l]=Array(e[l].length);for(var d=0;d<e[l].length;d++)c[l][d]=Math.abs(e[l][d].x-t.x)}for(var f=Array(c.length),h=Array(c.length),p=0;p<c.length;p++)f[p]=Math.min.apply(null,c[p]),h[p]=c[p].indexOf(f[p]);var m=Math.min.apply(null,f);r.index=[];for(var g=0;g<f.length;g++)f[g]==m&&(r.group.push(g),r.index.push(h[g]))}}return r}({x:i.x,y:i.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},Nt.prototype.getLegendDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var i=w(e,this.opts,t);return function(t,e,i){var a=-1;if(function(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}(t,e.area)){for(var n=e.points,r=-1,s=0,o=n.length;s<o;s++)for(var u=n[s],c=0;c<u.length;c++){r+=1;var l=u[c]["area"];if(l&&t.x>l[0]-0&&t.x<l[2]+0&&t.y>l[1]-0&&t.y<l[3]+0){a=r;break}}return a}return a}({x:i.x,y:i.y},this.opts.chartData.legendData)}return-1},Nt.prototype.touchLegend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;if(i=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],i){w(i,this.opts,t);var a=this.getLegendDataIndex(t);a>=0&&("candle"==this.opts.type?this.opts.seriesMA[a].show=!this.opts.seriesMA[a].show:this.opts.series[a].show=!this.opts.series[a].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,Rt.call(this,this.opts.type,this.opts,this.config,this.context))}},Nt.prototype.showToolTip=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null;a=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var n=w(a,this.opts,t),r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var u=this.getCurrentDataIndex(t),c=void 0==i.index?u.index:i.index;if(c>-1||c.length>0){var l=C(this.opts.series,c,u.group);if(0!==l.length){var d=D(l,this.opts,c,u.group,this.opts.categories,i),f=d.textList,h=d.offset;h.y=n.y,s.tooltip={textList:void 0!==i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c,group:u.group}}}Rt.call(this,s.type,s,this.config,this.context)}if("mount"===this.opts.type){c=void 0==i.index?this.getCurrentDataIndex(t).index:i.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},s._series_[c]),f=[{text:i.formatter?i.formatter(l,void 0,c,s):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],h={x:s.chartData.calPoints[c].x,y:n.y};s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}Rt.call(this,s.type,s,this.config,this.context)}if("bar"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==i.index?u.index:i.index;if(c>-1||c.length>0){l=C(this.opts.series,c,u.group);if(0!==l.length){d=D(l,this.opts,c,u.group,this.opts.categories,i),f=d.textList,h=d.offset;h.x=n.x,s.tooltip={textList:void 0!==i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("mix"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==i.index?u.index:i.index;if(c>-1){r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1}),l=C(this.opts.series,c);if(0!==l.length){var p=S(l,this.opts,c,this.opts.categories,i);f=p.textList,h=p.offset;h.y=n.y,s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("candle"===this.opts.type){u=this.getCurrentDataIndex(t),c=void 0==i.index?u.index:i.index;if(c>-1){r=this.scrollOption.currentOffset,s=o({},this.opts,{_scrollDistance_:r,animation:!1}),l=C(this.opts.series,c);if(0!==l.length){d=T(this.opts.series[0].data,l,this.opts,c,this.opts.categories,this.opts.extra.candle,i),f=d.textList,h=d.offset;h.y=n.y,s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){c=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},s._series_[c]),f=[{text:i.formatter?i.formatter(l,void 0,c,s):l.name+": "+l.data,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],h={x:n.x,y:n.y};s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}Rt.call(this,s.type,s,this.config,this.context)}if("map"===this.opts.type){c=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},this.opts.series[c]);l.name=l.properties.name;f=[{text:i.formatter?i.formatter(l,void 0,c,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],h={x:n.x,y:n.y};s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}s.updateData=!1,Rt.call(this,s.type,s,this.config,this.context)}if("word"===this.opts.type){c=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=o({},this.opts.series[c]),f=[{text:i.formatter?i.formatter(l,void 0,c,this.opts):l.name,color:l.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?l.legendShape:this.opts.extra.tooltip.legendShape}],h={x:n.x,y:n.y};s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}s.updateData=!1,Rt.call(this,s.type,s,this.config,this.context)}if("radar"===this.opts.type){c=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(c>-1){s=o({},this.opts,{animation:!1}),l=C(this.opts.series,c);if(0!==l.length){f=l.map((function(t){return{text:i.formatter?i.formatter(t,e.opts.categories[c],c,e.opts):t.name+": "+t.data,color:t.color,legendShape:"auto"==e.opts.extra.tooltip.legendShape?t.legendShape:e.opts.extra.tooltip.legendShape}})),h={x:n.x,y:n.y};s.tooltip={textList:i.textList?i.textList:f,offset:void 0!==i.offset?i.offset:h,option:i,index:c}}}Rt.call(this,s.type,s,this.config,this.context)}},Nt.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};var e=o({},this.opts,{_scrollDistance_:t,animation:!1});Rt.call(this,this.opts.type,e,this.config,this.context)},Nt.prototype.scrollStart=function(t){var e=null;e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var i=w(e,this.opts,t);e&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=i.x)},Nt.prototype.scroll=function(t){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var e=this.opts.touchMoveLimit||60,i=Date.now(),a=i-this.scrollOption.lastMoveTime;if(!(a<Math.floor(1e3/e))&&0!=this.scrollOption.startTouchX){this.scrollOption.lastMoveTime=i;var n=null;if(n=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],n&&!0===this.opts.enableScroll){var r,s=w(n,this.opts,t);r=s.x-this.scrollOption.startTouchX;var u=this.scrollOption.currentOffset,c=d(this,u+r,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=r=c-u;var l=o({},this.opts,{_scrollDistance_:u+r,animation:!1});return this.opts=l,Rt.call(this,l.type,l,this.config,this.context),u+r}}},Nt.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,i=e.currentOffset,a=e.distance;this.scrollOption.currentOffset=i+a,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};var zt=Nt;e.default=zt}).call(this,i("0de9")["default"])},"0b7d":function(t,e,i){"use strict";i.r(e);var a=i("598c"),n=i("ded2");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"97eaf214",null,!1,a["a"],void 0);e["default"]=o.exports},"0b9e":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list uni-border-top-bottom"),attrs:{_i:0}},[t._$s(1,"i",t.border)?i("view",{staticClass:t._$s(1,"sc","uni-list--border-top"),attrs:{_i:1}}):t._e(),t._t("default",null,{_i:2}),t._$s(3,"i",t.border)?i("view",{staticClass:t._$s(3,"sc","uni-list--border-bottom"),attrs:{_i:3}}):t._e()],2)},n=[]},"0c02":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.fields=e.default=void 0;var n=a(i("a34a")),r=a(i("278c")),s=a(i("c973")),o=a(i("9523")),u=i("b1f9");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t){var e={};for(var i in u.validator)t.includes(i)&&(e[i]=u.validator[i]);return e}e.fields="appid,name,title,contents,platform,type,version,min_uni_version,url,stable_publish,is_silently,is_mandatory,create_date";var f={data:function(){return{labelWidth:"80px",enableiOSWgt:!0,silentlyContent:"\u9759\u9ed8\u66f4\u65b0\uff1aApp\u5347\u7ea7\u65f6\u4f1a\u5728\u540e\u53f0\u4e0b\u8f7dwgt\u5305\u5e76\u81ea\u884c\u5b89\u88c5\u3002\u65b0\u529f\u80fd\u5728\u4e0b\u6b21\u542f\u52a8App\u65f6\u751f\u6548",mandatoryContent:"\u5f3a\u5236\u66f4\u65b0\uff1aApp\u5347\u7ea7\u5f39\u51fa\u6846\u4e0d\u53ef\u53d6\u6d88",stablePublishContent:"\u540c\u65f6\u53ea\u53ef\u6709\u4e00\u4e2a\u7ebf\u4e0a\u53d1\u884c\u7248\uff0c\u7ebf\u4e0a\u53d1\u884c\u4e0d\u53ef\u66f4\u8bbe\u4e3a\u4e0b\u7ebf\u3002\n\u672a\u4e0a\u7ebf\u53ef\u4ee5\u8bbe\u4e3a\u4e0a\u7ebf\u53d1\u884c\u5e76\u81ea\u52a8\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",stablePublishContent2:"\u4f7f\u7528\u672c\u5305\u66ff\u6362\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248",uploadFileContent:"\u53ef\u4e0b\u8f7d\u5b89\u88c5\u5305\u5730\u5740\u3002\u4e0a\u4f20\u6587\u4ef6\u5230\u4e91\u5b58\u50a8\u81ea\u52a8\u586b\u5199\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u586b\u5199",minUniVersionContent:"\u4e0a\u6b21\u4f7f\u7528\u65b0Api\u6216\u6253\u5305\u65b0\u6a21\u5757\u7684App\u7248\u672c",priorityContent:"\u68c0\u67e5\u66f4\u65b0\u65f6\uff0c\u6309\u7167\u4f18\u5148\u7ea7\u4ece\u5927\u5230\u5c0f\u4f9d\u6b21\u5c1d\u8bd5\u8df3\u8f6c\u5546\u5e97\u3002\u5982\u679c\u90fd\u8df3\u8f6c\u5931\u8d25\uff0c\u5219\u4f1a\u6253\u5f00\u6d4f\u89c8\u5668\u4f7f\u7528\u4e0b\u8f7d\u94fe\u63a5\u4e0b\u8f7dapk\u5b89\u88c5\u5305",latestStableData:[],appFileList:null,type_valuetotext:u.enumConverter.type_valuetotext,preUrl:"",formData:{appid:"",name:"",title:"",contents:"",platform:[],type:"",version:"",min_uni_version:"",url:"",stable_publish:!1,create_date:null},formOptions:{platform_localdata:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_localdata:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"App\u8d44\u6e90\u5305"}]},rules:l({},d(["appid","contents","platform","type","version","min_uni_version","url","stable_publish","title","name","is_silently","is_mandatory"]))}},onReady:function(){this.$refs.form.setRules(this.rules)},computed:{isWGT:function(){return"wgt"===this.formData.type},isiOS:function(){return!this.isWGT&&this.formData.platform.includes("iOS")},hasPackage:function(){return this.appFileList&&!!Object.keys(this.appFileList).length},fileExtname:function(){return this.isWGT?["wgt"]:["apk"]},platformLocaldata:function(){return this.isWGT?this.enableiOSWgt?this.formOptions.platform_localdata:[this.formOptions.platform_localdata[0]]:this.formOptions.platform_localdata},uni_platform:function(){return(this.isiOS?"iOS":"Android").toLocaleLowerCase()}},methods:{packageUploadSuccess:function(t){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:800}),this.preUrl=this.formData.url,this.formData.url=t.tempFilePaths[0]},deleteFile:function(t){return this.$request("deleteFile",{fileList:t},{functionName:"uni-upgrade-center"})},packageDelete:function(t){var e=this;return(0,s.default)(n.default.mark((function i(){var a,s,o;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.hasPackage){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.deleteFile([t.tempFilePath]);case 4:a=i.sent,s=(0,r.default)(a,1),o=s[0],o.success&&(uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e.formData.url=e.preUrl,e.$refs.form.clearValidate("url"));case 8:case"end":return i.stop()}}),i)})))()},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})},createCenterRecord:function(t){return l(l({},t),{},{uni_platform:this.uni_platform,create_env:"upgrade-center"})},createCenterQuery:function(t){var e=t.appid;return{appid:e,create_env:"upgrade-center"}},createStatQuery:function(t){var e=t.appid,i=t.type,a=t.version,n=t.uni_platform;return{appid:e,type:i,version:a,uni_platform:n||this.uni_platform,create_env:"uni-stat",stable_publish:!1}}}};e.default=f},"0c0b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:function(){return{}}},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"",color:"#000000",size:20}}},border:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{padding:"",backgroundColor:"#FFFFFF"}}},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler:function(t){"number"==typeof t&&(t+="");var e=t.split(" ");1===e.length?this.padding={top:t,right:t,bottom:t,left:t}:2===e.length?this.padding={top:t[0],right:t[1],bottom:t[0],left:t[1]}:4===e.length&&(this.padding={top:t[0],right:t[1],bottom:t[2],left:t[3]})},immediate:!0}},data:function(){return{isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}},mounted:function(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange:function(t){this.$emit("switchChange",t.detail)},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(t){var e=this,i={url:this.to,success:function(t){e.$emit("click",{data:t})},fail:function(t){e.$emit("click",{data:t})}};switch(t){case"navigateTo":uni.navigateTo(i);break;case"redirectTo":uni.redirectTo(i);break;case"reLaunch":uni.reLaunch(i);break;case"switchTab":uni.switchTab(i);break;default:uni.navigateTo(i)}}}};e.default=a},"0c17":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("bb27"),n=i("a586").default||i("a586"),r={namespaced:!0,state:{inited:!1,navMenu:[],routes:[],theme:uni.getStorageSync(a.UNI_ADMIN_THEME)||"default",appName:"uni-base-admin",appid:n&&n.appid||""},mutations:{SET_APP_NAME:function(t,e){t.appName=e},SET_NAV_MENU:function(t,e){t.inited=!0,t.navMenu=e},SET_ROUTES:function(t,e){t.routes=e},SET_THEME:function(t,e){uni.setStorageSync(a.UNI_ADMIN_THEME,e),t.theme=e}},actions:{init:function(t){t.commit;var e=t.dispatch;e("user/getUserInfo",null,{root:!0})},setAppName:function(t,e){var i=t.commit;i("SET_APP_NAME",e)},setRoutes:function(t,e){var i=t.commit;i("SET_ROUTES",e)}}};e.default=r},"0cdb":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.get_files_and_is_max=e.get_file_info=e.get_file_ext=e.get_file_data=e.get_extname=void 0;var n=a(i("a34a")),r=a(i("c973")),s=function(t){var e=t.lastIndexOf("."),i=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,i)}};e.get_file_ext=s;e.get_extname=function(t){if(Array.isArray(t))return t;var e=t.replace(/(\[|\])/g,"");return e.split(",")};e.get_files_and_is_max=function(t,e){var i=[],a=[];return e&&0!==e.length?(t.tempFiles.forEach((function(t){var n=s(t.name),r=n.ext.toLowerCase();-1!==e.indexOf(r)&&(a.push(t),i.push(t.path))})),a.length!==t.tempFiles.length&&uni.showToast({title:"\u5f53\u524d\u9009\u62e9\u4e86".concat(t.tempFiles.length,"\u4e2a\u6587\u4ef6 \uff0c").concat(t.tempFiles.length-a.length," \u4e2a\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e"),icon:"none",duration:5e3}),{filePaths:i,files:a}):{filePaths:i,files:a}};var o=function(t){return new Promise((function(e,i){uni.getImageInfo({src:t,success:function(t){e(t)},fail:function(t){i(t)}})}))};e.get_file_info=o;var u=function(){var t=(0,r.default)(n.default.mark((function t(e){var i,a,r,u,c,l=arguments;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=l.length>1&&void 0!==l[1]?l[1]:"image",a=s(e.name),r=a.ext.toLowerCase(),u={name:e.name,uuid:e.uuid,extname:r||"",cloudPath:e.cloudPath,fileType:e.fileType,url:e.path||e.path,size:e.size,image:{},path:e.path,video:{}},"image"!==i){t.next=14;break}return t.next=7,o(e.path);case 7:c=t.sent,delete u.video,u.image.width=c.width,u.image.height=c.height,u.image.location=c.path,t.next=15;break;case 14:delete u.image;case 15:return t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.get_file_data=u},"0d25":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={qiunLoading:i("aa65").default,qiunError:i("3ba0").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{id:t._$s(0,"a-id","ChartBoxId"+t.cid),_i:0}},[t._$s(1,"i",t.mixinDatacomLoading)?i("view",[i("qiun-loading",{attrs:{loadingType:t.loadingType,_i:2}})],1):t._e(),t._$s(3,"i",t.mixinDatacomErrorMessage&&t.errorShow)?i("view",{attrs:{_i:3},on:{click:t.reloading}},[i("qiun-error",{attrs:{errorMessage:t.errorMessage,_i:4}})],1):t._e(),t._$s(5,"i",t.echarts)?[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(6,"v-show",t.showchart),expression:"_$s(6,'v-show',showchart)"}],wxsProps:{"change:resize":"echartsResize","change:prop":"echartsOpts"},style:t._$s(6,"s",{background:t.background}),attrs:{"data-directory":t._$s(6,"a-data-directory",t.directory),id:t._$s(6,"a-id","EC"+t.cid),prop:t._$s(6,"change:echartsOpts",t.echartsOpts),resize:t._$s(6,"change:echartsResize",t.echartsResize),_i:6}})]:[i("view",{wxsProps:{"change:prop":"uchartsOpts"},attrs:{id:t._$s(8,"a-id","UC"+t.cid),prop:t._$s(8,"change:uchartsOpts",t.uchartsOpts),_i:8},on:{}},[i("canvas",{directives:[{name:"show",rawName:"v-show",value:t._$s(9,"v-show",t.showchart),expression:"_$s(9,'v-show',showchart)"}],style:t._$s(9,"s",{width:t.cWidth+"px",height:t.cHeight+"px",background:t.background}),attrs:{id:t._$s(9,"a-id",t.cid),canvasId:t._$s(9,"a-canvasId",t.cid),"disable-scroll":t._$s(9,"a-disable-scroll",t.disableScroll),_i:9},on:{error:t._error}})])]],2)},r=[]},"0dd6":function(t,e,i){"use strict";i.r(e);var a=i("8f1f"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0de9":function(t,e,i){"use strict";function a(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function n(){return"string"===typeof __channelId__&&__channelId__}function r(t,e){switch(a(e)){case"Function":return"function() { [native code] }";default:return e}}function s(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a]}function o(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.shift();if(n())e.push(e.pop().replace("at ","uni-app:///"));else{var s=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(n){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var i=a(t).toUpperCase();t="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+t+"---END:"+i+"---":String(t)}return t}));if(s.length>1){var o=s.pop();s.join("---COMMA---"),0===o.indexOf(" at ")?o:"---COMMA---"+o}else s[0]}}i.r(e),i.d(e,"log",(function(){return s})),i.d(e,"default",(function(){return o}))},"0e3b":function(t,e,i){"use strict";i.r(e);var a=i("5b36"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0f2d":function(t,e,i){"use strict";i.r(e);var a=i("6a31"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"0f75":function(t,e,i){"use strict";i.r(e);var a=i("5c1d"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},1096:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniFilePicker:i("cb7f").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniLink:i("e120").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default,uqrcode:i("f0d5").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("uni-file-picker",{ref:"filePicker",attrs:{"file-mediatype":"all",limit:"1",_i:3},on:{select:function(e){t.btLoading=!0},fail:function(e){t.btLoading=!1},progress:t.uploadProgress,success:t.uploadSuccess},model:{value:t._$s(3,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[i("button",{attrs:{loading:t._$s(4,"a-loading",t.btLoading),_i:4},on:{click:t.selectFile}}),t._$s(5,"i",t.progress)?i("span",{staticClass:t._$s(5,"sc","progress"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.progress)))]):t._e()])],1)]),i("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[i("unicloud-db",{ref:"udb",attrs:{collection:"upload-files",field:t.field,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:7},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading;e.error,e.options;return[i("uni-table",{attrs:{loading:o,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:"8-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"9-"+n}},[i("uni-th",{attrs:{align:"center",_i:"10-"+n}},[t._v("\u5e8f\u53f7")]),i("uni-th",{attrs:{width:"150",align:"center",_i:"11-"+n}},[t._v("\u4e0a\u4f20\u65f6\u95f4")]),i("uni-th",{attrs:{width:"150",align:"center",_i:"12-"+n}},[t._v("\u6587\u4ef6\u540d\u79f0")]),i("uni-th",{attrs:{align:"center",_i:"13-"+n}},[t._v("\u6587\u4ef6\u5927\u5c0f")]),i("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("\u8def\u5f84")]),i("uni-th",{attrs:{width:"204",align:"center",_i:"15-"+n}},[t._v("\u8bbe\u7f6e")])],1),t._l(a._$s("16-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("16-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"16-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"17-"+n+o}},[t._v(a._$s("17-"+n+o,"t0-0",t._s(r+1)))]),i("uni-td",{attrs:{align:"center",_i:"18-"+n+o}},[t._v(a._$s("18-"+n+o,"t0-0",t._s(e.time)))]),i("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(a._$s("19-"+n+o,"t0-0",t._s(e.name)))]),i("uni-td",{attrs:{align:"center",_i:"20-"+n+o}},[t._v(a._$s("20-"+n+o,"t0-0",t._s(e.size)))]),i("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[i("uni-link",{attrs:{href:e.url,color:"#007BFF",text:"\u4e0b\u8f7d",_i:"22-"+n+o}})],1),i("uni-td",{attrs:{_i:"23-"+n+o}},[i("view",{staticClass:a._$s("24-"+n+o,"sc","uni-group"),attrs:{_i:"24-"+n+o}},[i("button",{staticClass:a._$s("25-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"25-"+n+o},on:{click:function(i){return t.openDialog(e,r)}}},[t._v("\u67e5\u770b\u4e8c\u7ef4\u7801")]),i("button",{staticClass:a._$s("26-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"26-"+n+o},on:{click:function(i){return t.onDelete(e,r)}}},[t._v(a._$s("26-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),i("view",{staticClass:a._$s("27-"+n,"sc","uni-pagination-box"),attrs:{_i:"27-"+n}},[i("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"28-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("28-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("uni-popup",{ref:"alertDialog",attrs:{type:"dialog",_i:29}},[i("uni-popup-dialog",{attrs:{type:"info",cancelText:"\u5173\u95ed",confirmText:"\u540c\u610f",title:"\u4e8c\u7ef4\u7801",_i:30}},[i("uqrcode",{ref:"uqrcode",attrs:{"canvas-id":"qrcode",value:t.qrCodeValue,options:{margin:10},_i:31}})],1)],1)],1)},r=[]},"10b5":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initError=function(t){var e=r.default.navBar.debug;if(e&&!0===e.enable){var i=t.config.errorHandler;t.config.errorHandler=function(t,e,a){var r=e.$page&&e.$page.route;return n.default.dispatch("error/add",{err:t.toString(),info:a,route:r,time:(new Date).toLocaleTimeString()}),i(t,e,a)}}};var n=a(i("b9fb")),r=a(i("097a"))}).call(this,i("0de9")["default"])},"10c0":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-content"),attrs:{_i:0}},[e("text",{staticClass:this._$s(1,"sc","words"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","button-group"),attrs:{_i:2}},[e("button",{staticClass:this._$s(3,"sc","next"),attrs:{_i:3},on:{click:this.nextStep}}),e("button",{attrs:{_i:4},on:{click:this.cancel}})])])},n=[]},"10ff":function(t,e,i){"use strict";i.r(e);var a=i("0b9e"),n=i("a1c1");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"11b0":function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"11d2":function(t,e,i){"use strict";i.r(e);var a=i("9b17"),n=i("9a4a"),r=i("52fd"),s=i("e0e4"),o=i("68f3");e["default"]={en:a,es:n,fr:r,"zh-Hans":s,"zh-Hant":o}},1233:function(t,e,i){"use strict";(function(t){var a=i("4ea4"),n=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("a34a")),s=a(i("c973")),o=(i("b1f9"),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var i=l(e);if(i&&i.has(t))return i.get(t);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=t[s]}a.default=t,i&&i.set(t,a);return a}(i("0c02"))),u=i("bb25"),c=a(i("2581"));function l(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(l=function(t){return t?i:e})(t)}var d=t.database(),f=(d.command,u.appVersionListDbName);var h={components:{showInfo:c.default},mixins:[o.default],data:function(){return{showStableInfo:!1,isStable:!0,originalData:{},detailsState:!0}},onLoad:function(t){var e=this;return(0,s.default)(r.default.mark((function i(){var a;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.id,e.formDataId=a,i.next=4,e.getDetail(a);case 4:return e.isStable=e.formData.stable_publish,i.next=7,e.getLatestVersion();case 7:e.latestStableData=i.sent,e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 9:case"end":return i.stop()}}),i)})))()},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){e.store_list=t.formData.store_list,e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))},submitForm:function(t){var e=this;return(0,s.default)(r.default.mark((function i(){var a;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=d.collection(f),a.doc(e.formDataId).update(t).then(function(){var i=(0,s.default)(r.default.mark((function i(n){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.isStable||!0!==t.stable_publish||!e.latestStableData){i.next=3;break}return i.next=3,a.doc(e.latestStableData._id).update({stable_publish:!1});case 3:uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}));case 2:case"end":return i.stop()}}),i)})))()},getDetail:function(t){var e=this;return uni.showLoading({mask:!0}),d.collection(f).doc(t).field(o.fields).get().then((function(t){var i=t.result.data[0];i&&(e.formData=i,e.originalData=(0,u.deepClone)(e.formData))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},deletePackage:function(){var t=this;uni.showModal({title:"\u63d0\u793a",content:"\u662f\u5426\u5220\u9664\u8be5\u7248\u672c",success:function(e){e.confirm&&(uni.showLoading({mask:!0}),d.collection(f).doc(t.formDataId).remove().then((function(){uni.showToast({title:"\u5220\u9664\u6210\u529f"}),t.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))}})},getLatestVersion:function(){var t=this;return(0,s.default)(r.default.mark((function e(){var i,a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={appid:t.formData.appid,type:t.formData.type,stable_publish:!0},t.isWGT||(i.platform=t.formData.platform[0]),e.next=4,d.collection(f).where(i).get();case 4:return a=e.sent,e.abrupt("return",a.result.data.find((function(e){return e.platform.toString()===t.formData.platform.toString()})));case 6:case"end":return e.stop()}}),e)})))()},cancelEdit:function(){var t=this,e="";!this.isiOS&&this.hasPackage&&(e+="\n\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305"),uni.showModal({title:"\u53d6\u6d88\u4fee\u6539",content:e,success:function(e){e.confirm&&(t.formData=(0,u.deepClone)(t.originalData),t.detailsState=!0,t.hasPackage&&t.deleteFile([t.appFileList.url]))}})}}};e.default=h}).call(this,i("a9ff")["default"])},"128c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading5"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},"12f2":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniIdPagesSmsForm:i("c460").default,uniPopupCaptcha:i("073c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"phone",_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusPhone,disabled:t.lock,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:7},on:{blur:function(e){t.focusPhone=!1}},model:{value:t._$s(7,"v-model",t.formData.phone),callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),i("uni-forms-item",{attrs:{name:"code",_i:8}},[i("uni-id-pages-sms-form",{ref:"shortCode",attrs:{phone:t.formData.phone,type:"reset-pwd-by-sms",_i:9},model:{value:t._$s(9,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),i("uni-forms-item",{attrs:{name:"password",_i:10}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{attrs:{name:"password2",_i:12}},[i("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{focus:t.focusPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),i("button",{staticClass:t._$s(14,"sc","uni-btn send-btn-box"),attrs:{_i:14},on:{click:t.submit}}),i("uni-match-media",{attrs:{"min-width":690,_i:15}},[i("view",{staticClass:t._$s(16,"sc","link-box"),attrs:{_i:16}},[i("text",{staticClass:t._$s(17,"sc","link"),attrs:{_i:17},on:{click:t.retrieveByEmail}}),i("view"),i("text",{staticClass:t._$s(19,"sc","link"),attrs:{_i:19},on:{click:t.backLogin}})])])],1),i("uni-popup-captcha",{ref:"popup",attrs:{scene:"reset-pwd-by-sms",_i:20},on:{confirm:t.submit},model:{value:t._$s(20,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},"12f2a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniLink:i("e120").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[i("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/36304",text:"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8bf4\u660e>>",_i:5}})],1)])],1),i("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","uni-stat--x flex p-1015"),attrs:{_i:7}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(9,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-stat--x flex"),attrs:{_i:10}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:11},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.create_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.create_time),callback:function(e){t.$set(t.query,"create_time",e)},expression:"query.create_time"}})],1),i("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[i("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("20-"+r,"i",e.title)?i("uni-th",{key:t._$s(19,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(21,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(21,"f",{forIndex:n,key:a}),attrs:{_i:"21-"+r}},t._l(t._$s("22-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return i("uni-td",{key:t._$s("22-"+r,"f",{forIndex:s,key:n}),attrs:{align:"center",_i:"22-"+r+"-"+o}},[t._v(t._$s("22-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])})),1)}))],2),i("view",{staticClass:t._$s(23,"sc","uni-pagination-box"),attrs:{_i:23}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:24},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:25}},[i("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:26},on:{confirm:t.editName},model:{value:t._$s(26,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),i("fix-window",{attrs:{_i:27}})],1)},r=[]},1316:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading6",data:function(){return{}}}},"146f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var t=this.inverted,e=this.type,i=this.size,a=this.absolute;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,a?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var t=this.width/2,e=10;this.isDot&&(t=5,e=5);var i="".concat(-t+this.offset[0],"px"),a="".concat(-e+this.offset[1],"px"),n={rightTop:{right:i,top:a},rightBottom:{right:i,bottom:a},leftBottom:{left:i,bottom:a},leftTop:{left:i,top:a}},r=n[this.absolute];return r||n["rightTop"]},dotStyle:function(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue:function(){var t=this.isDot,e=this.text,i=this.maxNum;return t?"":Number(e)>i?"".concat(i,"+"):e}},methods:{onClick:function(){this.$emit("click")}}};e.default=a},1506:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("821b");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-permissions").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,i("a9ff")["default"])},1523:function(t,e,i){"use strict";i.r(e);var a=i("a4c5"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},1578:function(t,e,i){"use strict";i.r(e);var a=i("2b04"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"15fd":function(t,e,i){"use strict";i.r(e);var a=i("a0c2"),n=i("7956");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"34293f2f",null,!1,a["a"],void 0);e["default"]=o.exports},"166a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=["pulldown","refreshempty","back","forward","more","more-filled","scan","qq","weibo","weixin","pengyouquan","loop","refresh","refresh-filled","arrowthindown","arrowthinleft","arrowthinright","arrowthinup","undo-filled","undo","redo","redo-filled","bars","chatboxes","camera","chatboxes-filled","camera-filled","cart-filled","cart","checkbox-filled","checkbox","arrowleft","arrowdown","arrowright","smallcircle-filled","arrowup","circle","eye-filled","eye-slash-filled","eye-slash","eye","flag-filled","flag","gear-filled","reload","gear","hand-thumbsdown-filled","hand-thumbsdown","hand-thumbsup-filled","heart-filled","hand-thumbsup","heart","home","info","home-filled","info-filled","circle-filled","chat-filled","chat","mail-open-filled","email-filled","mail-open","email","checkmarkempty","list","locked-filled","locked","map-filled","map-pin","map-pin-ellipse","map","minus-filled","mic-filled","minus","micoff","mic","clear","smallcircle","close","closeempty","paperclip","paperplane","paperplane-filled","person-filled","contact-filled","person","contact","images-filled","phone","images","image","image-filled","location-filled","location","plus-filled","plus","plusempty","help-filled","help","navigate-filled","navigate","mic-slash-filled","search","settings","sound","sound-filled","spinner-cycle","download-filled","personadd-filled","videocam-filled","personadd","upload","upload-filled","starhalf","star-filled","star","trash","phone-filled","compose","videocam","trash-filled","download","chatbubble-filled","chatbubble","cloud-download","cloud-upload-filled","cloud-upload","cloud-download-filled","headphones","shop"]},"169b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:0}},[i("uni-tr",{attrs:{_i:1}},[t._l(t._$s(2,"f",{forItems:t.filedsMap}),(function(e,a,n,r){return[t._$s("3-"+r,"i",e.title)?i("uni-th",{key:t._$s(2,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"3-"+r}},[i("uni-tooltip",{attrs:{_i:"4-"+r},scopedSlots:t._u([t._$s("6-"+r,"i",t.tooltip&&e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("7-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"7-"+r+"-"+s}},[t._v(n._$s("7-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("4-"+r,"t0-0",t._s(e.title))),t._$s("5-"+r,"i",t.tooltip&&e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"5-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(8,"f",{forItems:t.data}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(8,"f",{forIndex:n,key:a}),attrs:{_i:"8-"+r}},[t._l(t._$s("9-"+r,"f",{forItems:t.filedsMap}),(function(a,n,s,o){return[t._$s("10-"+r+"-"+o,"i",a.title)?i("uni-td",{key:t._$s("9-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:"center",_i:"10-"+r+"-"+o}},[t._v(t._$s("10-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))]):t._e()]}))],2)}))],2)},r=[]},"17cf":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-date"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-date-editor"),attrs:{_i:1},on:{click:t.show}},[t._t("default",[i("view",{staticClass:t._$s(3,"sc","uni-date-editor--x"),class:t._$s(3,"c",{"uni-date-editor--x__disabled":t.disabled,"uni-date-x--border":t.border}),attrs:{_i:3}},[t._$s(4,"i",!t.isRange)?i("view",{staticClass:t._$s(4,"sc","uni-date-x uni-date-single"),attrs:{_i:4}},[i("uni-icons",{attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:5}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.singleVal,expression:"singleVal"}],staticClass:t._$s(6,"sc","uni-date__x-input"),attrs:{placeholder:t._$s(6,"a-placeholder",t.singlePlaceholderText),_i:6},domProps:{value:t._$s(6,"v-model",t.singleVal)},on:{input:function(e){e.target.composing||(t.singleVal=e.target.value)}}})],1):i("view",{staticClass:t._$s(7,"sc","uni-date-x uni-date-range"),attrs:{_i:7}},[i("uni-icons",{attrs:{type:"calendar",color:"#c0c4cc",size:"22",_i:8}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.range.startDate,expression:"range.startDate"}],staticClass:t._$s(9,"sc","uni-date__x-input t-c"),attrs:{placeholder:t._$s(9,"a-placeholder",t.startPlaceholderText),_i:9},domProps:{value:t._$s(9,"v-model",t.range.startDate)},on:{input:function(e){e.target.composing||t.$set(t.range,"startDate",e.target.value)}}}),t._t("default",[i("view",[t._v(t._$s(11,"t0-0",t._s(t.rangeSeparator)))])],{_i:10}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.range.endDate,expression:"range.endDate"}],staticClass:t._$s(12,"sc","uni-date__x-input t-c"),attrs:{placeholder:t._$s(12,"a-placeholder",t.endPlaceholderText),_i:12},domProps:{value:t._$s(12,"v-model",t.range.endDate)},on:{input:function(e){e.target.composing||t.$set(t.range,"endDate",e.target.value)}}})],2),t._$s(13,"i",t.showClearIcon)?i("view",{staticClass:t._$s(13,"sc","uni-date__icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[i("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:14}})],1):t._e()])],{_i:2})],2),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",t.popup),expression:"_$s(15,'v-show',popup)"}],staticClass:t._$s(15,"sc","uni-date-mask"),attrs:{_i:15},on:{click:t.close}}),t._$s(16,"i",!t.isPhone&&t.popup)?i("view",{ref:"datePicker",staticClass:t._$s(16,"sc","uni-date-picker__container"),attrs:{_i:16}},[t._$s(17,"i",!t.isRange)?i("view",{staticClass:t._$s(17,"sc","uni-date-single--x"),style:t._$s(17,"s",t.popover),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","uni-popper__arrow"),attrs:{_i:18}}),t._$s(19,"i",t.hasTime)?i("view",{staticClass:t._$s(19,"sc","uni-date-changed popup-x-header"),attrs:{_i:19}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempSingleDate,expression:"tempSingleDate"}],staticClass:t._$s(20,"sc","uni-date__input t-c"),attrs:{placeholder:t._$s(20,"a-placeholder",t.selectDateText),_i:20},domProps:{value:t._$s(20,"v-model",t.tempSingleDate)},on:{input:function(e){e.target.composing||(t.tempSingleDate=e.target.value)}}}),i("time-picker",{attrs:{type:"time",border:!1,disabled:!t.tempSingleDate,start:t.reactStartTime,end:t.reactEndTime,hideSecond:t.hideSecond,_i:21},model:{value:t._$s(21,"v-model",t.time),callback:function(e){t.time=e},expression:"time"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:t._$s(22,"sc","uni-date__input t-c"),attrs:{placeholder:t._$s(22,"a-placeholder",t.selectTimeText),disabled:t._$s(22,"a-disabled",!t.tempSingleDate),_i:22},domProps:{value:t._$s(22,"v-model",t.time)},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})])],1):t._e(),i("calendar",{ref:"pcSingle",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,date:t.defSingleDate,_i:23},on:{change:t.singleChange}}),t._$s(24,"i",t.hasTime)?i("view",{staticClass:t._$s(24,"sc","popup-x-footer"),attrs:{_i:24}},[i("text",{staticClass:t._$s(25,"sc","confirm"),attrs:{_i:25},on:{click:t.confirmSingleChange}},[t._v(t._$s(25,"t0-0",t._s(t.okText)))])]):t._e(),i("view",{staticClass:t._$s(26,"sc","uni-date-popper__arrow"),attrs:{_i:26}})],1):i("view",{staticClass:t._$s(27,"sc","uni-date-range--x"),style:t._$s(27,"s",t.popover),attrs:{_i:27}},[i("view",{staticClass:t._$s(28,"sc","uni-popper__arrow"),attrs:{_i:28}}),t._$s(29,"i",t.hasTime)?i("view",{staticClass:t._$s(29,"sc","popup-x-header uni-date-changed"),attrs:{_i:29}},[i("view",{staticClass:t._$s(30,"sc","popup-x-header--datetime"),attrs:{_i:30}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startDate,expression:"tempRange.startDate"}],staticClass:t._$s(31,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(31,"a-placeholder",t.startDateText),_i:31},domProps:{value:t._$s(31,"v-model",t.tempRange.startDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startDate",e.target.value)}}}),i("time-picker",{attrs:{type:"time",start:t.reactStartTime,border:!1,disabled:!t.tempRange.startDate,hideSecond:t.hideSecond,_i:32},model:{value:t._$s(32,"v-model",t.tempRange.startTime),callback:function(e){t.$set(t.tempRange,"startTime",e)},expression:"tempRange.startTime"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.startTime,expression:"tempRange.startTime"}],staticClass:t._$s(33,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(33,"a-placeholder",t.startTimeText),disabled:t._$s(33,"a-disabled",!t.tempRange.startDate),_i:33},domProps:{value:t._$s(33,"v-model",t.tempRange.startTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"startTime",e.target.value)}}})])],1),i("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:34}}),i("view",{staticClass:t._$s(35,"sc","popup-x-header--datetime"),attrs:{_i:35}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endDate,expression:"tempRange.endDate"}],staticClass:t._$s(36,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(36,"a-placeholder",t.endDateText),_i:36},domProps:{value:t._$s(36,"v-model",t.tempRange.endDate)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endDate",e.target.value)}}}),i("time-picker",{attrs:{type:"time",end:t.reactEndTime,border:!1,disabled:!t.tempRange.endDate,hideSecond:t.hideSecond,_i:37},model:{value:t._$s(37,"v-model",t.tempRange.endTime),callback:function(e){t.$set(t.tempRange,"endTime",e)},expression:"tempRange.endTime"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempRange.endTime,expression:"tempRange.endTime"}],staticClass:t._$s(38,"sc","uni-date__input uni-date-range__input"),attrs:{placeholder:t._$s(38,"a-placeholder",t.endTimeText),disabled:t._$s(38,"a-disabled",!t.tempRange.endDate),_i:38},domProps:{value:t._$s(38,"v-model",t.tempRange.endTime)},on:{input:function(e){e.target.composing||t.$set(t.tempRange,"endTime",e.target.value)}}})])],1)],1):t._e(),i("view",{staticClass:t._$s(39,"sc","popup-x-body"),attrs:{_i:39}},[i("calendar",{ref:"left",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,range:!0,pleStatus:t.endMultipleStatus,_i:40},on:{change:t.leftChange,firstEnterCale:t.updateRightCale,monthSwitch:t.leftMonthSwitch}}),i("calendar",{ref:"right",attrs:{showMonth:!1,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,range:!0,pleStatus:t.startMultipleStatus,_i:41},on:{change:t.rightChange,firstEnterCale:t.updateLeftCale,monthSwitch:t.rightMonthSwitch}})],1),t._$s(42,"i",t.hasTime)?i("view",{staticClass:t._$s(42,"sc","popup-x-footer"),attrs:{_i:42}},[i("text",{attrs:{_i:43},on:{click:t.clear}},[t._v(t._$s(43,"t0-0",t._s(t.clearText)))]),i("text",{staticClass:t._$s(44,"sc","confirm"),attrs:{_i:44},on:{click:t.confirmRangeChange}},[t._v(t._$s(44,"t0-0",t._s(t.okText)))])]):t._e()])]):t._e(),t._$s(45,"i",t.isPhone)?i("calendar",{ref:"mobile",attrs:{clearDate:!1,date:t.defSingleDate,defTime:t.reactMobDefTime,"start-date":t.caleRange.startDate,"end-date":t.caleRange.endDate,selectableTimes:t.mobSelectableTime,pleStatus:t.endMultipleStatus,showMonth:!1,range:t.isRange,typeHasTime:t.hasTime,insert:!1,hideSecond:t.hideSecond,_i:45},on:{confirm:t.mobileChange,maskClose:t.close}}):t._e()],1)},r=[]},1870:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("d2f6")),s={mixins:[r.default],data:function(){return{code:"",phone:"",captcha:"",logo:"/static/logo.png"}},computed:{tipText:function(){return"\u9a8c\u8bc1\u7801\u5df2\u901a\u8fc7\u77ed\u4fe1\u53d1\u9001\u81f3"+this.phone}},onLoad:function(t){var e=t.phoneNumber;this.phone=e},onShow:function(){},methods:{submit:function(){var e=this,i=t.importObject("uni-id-co",{errorOptions:{type:"toast"}});if(6!=this.code.length)return this.$refs.smsCode.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a",icon:"none",duration:3e3});i.loginBySms({mobile:this.phone,code:this.code,captcha:this.captcha}).then((function(t){e.loginSuccess(t)})).catch((function(t){"uni-id-captcha-required"==t.errCode?e.$refs.popup.open():t.errMsg})).finally((function(t){e.captcha=""}))}}};e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},1909:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[i("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),i("uni-forms-item",{attrs:{name:"nickname",label:"\u7528\u6237\u6635\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),i("uni-forms-item",{attrs:{name:"password",label:"\u521d\u59cb\u5bc6\u7801",required:!0,_i:6}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u521d\u59cb\u5bc6\u7801",_i:7},model:{value:t._$s(7,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{staticClass:t._$s(8,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:8}},[i("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:9},model:{value:t._$s(9,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),i("uni-forms-item",{staticClass:t._$s(10,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:10}},[i("uni-data-checkbox",{ref:"checkbox",attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:11},model:{value:t._$s(11,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),i("span",{staticClass:t._$s(12,"sc","link-btn"),attrs:{_i:12},on:{click:t.gotoTagAdd}}),i("span",{staticClass:t._$s(13,"sc","link-btn"),attrs:{_i:13},on:{click:t.gotoTagList}})],1),i("uni-forms-item",{staticClass:t._$s(14,"sc","flex-center-x"),attrs:{name:"authorizedApp",label:"\u53ef\u767b\u5f55\u5e94\u7528",labelWidth:"100",_i:14}},[i("uni-data-checkbox",{attrs:{multiple:!0,collection:"opendb-app-list",field:"appid as value, name as text",_i:15},model:{value:t._$s(15,"v-model",t.formData.authorizedApp),callback:function(e){t.$set(t.formData,"authorizedApp",e)},expression:"formData.authorizedApp"}}),i("span",{staticClass:t._$s(16,"sc","link-btn"),attrs:{_i:16},on:{click:t.gotoAppList}})],1),i("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:17}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:18},model:{value:t._$s(18,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:19}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:20},model:{value:t._$s(20,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),i("uni-forms-item",{attrs:{name:"status",label:"\u662f\u5426\u542f\u7528",_i:21}},[i("switch",{attrs:{checked:t._$s(22,"a-checked",t.formData.status),_i:22},on:{change:function(e){return t.binddata("status",e.detail.value)}}})]),i("view",{staticClass:t._$s(23,"sc","uni-button-group"),attrs:{_i:23}},[i("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24},on:{click:t.submitForm}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(26,"sc","uni-button"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},1942:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("83c8");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-roles").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,i("a9ff")["default"])},"19c2":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("f904");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){return{formData:{username:"",nickname:"",password:"",role:[],authorizedApp:[],tags:[],mobile:void 0,email:void 0,status:!0},rules:o(o({},c(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[]}},onLoad:function(){this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkbox.loadData()}}})},submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,i=t.detail,a=i.value,n=i.errors;n||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),"boolean"===typeof a.status&&(a.status=Number(!a.status)),this.$request("addUser",a).then((function(){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},loadroles:function(){var t=this;u.collection("uni-id-roles").limit(500).get().then((function(e){var i=[];t.roles=e.result.data.map((function(t){return i.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===i.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))}}};e.default=l}).call(this,i("a9ff")["default"])},"1a28":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_devices",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_devices/total_visit_devices",computed:"visit_devices/total_visit_devices",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}]},"1a96":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("26cb"),s=a(i("097a"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={data:function(){return u(u({},s.default.sideBar),{},{field:"url as value, name as text, menu_id, parent_id, sort, icon, permission",currentMenu:"/"})},computed:u(u({},(0,r.mapState)("app",["inited","navMenu","active"])),{},{userInfo:function(){return this.$uniIdPagesStore.store.userInfo}}),watch:{userInfo:{handler:function(t,e){t&&this.$nextTick((function(){this.$refs.menu.load()}))}}},methods:u(u({},(0,r.mapActions)({setRoutes:"app/setRoutes"})),{},{select:function(t,e){var i=t.value;i||(i=this.active),this.clickMenuItem(i),this.setRoutes(e)},clickMenuItem:function(t){"/"!==t[0]&&0!==t.indexOf("http")&&(t="/"+t),"/"===t&&(t=s.default.index.url),uni.redirectTo({url:t,fail:function(){uni.showModal({title:"\u63d0\u793a",content:"\u9875\u9762 "+t+" \u8df3\u8f6c\u5931\u8d25",showCancel:!1})}})},splitFullPath:function(t){return t||(t="/"),t.split("?")[0]}})};e.default=c},"1a9d":function(t,e,i){"use strict";i.r(e);var a=i("9ed2"),n=i("ccd1");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"1aae":function(t,e,i){"use strict";i.r(e);var a=i("fe83"),n=i("003f");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"1b03":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2543")),r=n.default.passwordStrength,s={super:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,strong:/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,medium:/^(?![0-9]+$)(?![a-zA-Z]+$)(?![~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]+$)[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{8,16}$/,weak:/^(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z~!@#$%^&*_\-+=`|\\(){}[\]:;"'<>,.?/]{6,16}$/},o={normal:{noPwd:"\u8bf7\u8f93\u5165\u5bc6\u7801",noRePwd:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",rePwdErr:"\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"},passwordStrengthError:{super:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",strong:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",medium:"\u5bc6\u7801\u5fc5\u987b\u4e3a\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7279\u6b8a\u7b26\u53f7\u4efb\u610f\u4e24\u79cd\u7684\u7ec4\u5408\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57288-16\u4f4d\u4e4b\u95f4",weak:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\uff0c\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u57286-16\u4f4d\u4e4b\u95f4"}};function u(t){return!(r&&s[r]&&!new RegExp(s[r]).test(t))||o.passwordStrengthError[r]}var c={ERROR:o,validPwd:u,getPwdRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password2",i={};return i[t]={rules:[{required:!0,errorMessage:o.normal.noPwd},{validateFunction:function(t,e,i,a){var n=u(e);return!0!==n&&a(n),!0}}]},e&&(i[e]={rules:[{required:!0,errorMessage:o.normal.noRePwd},{validateFunction:function(e,i,a,n){return i!=a[t]&&n(o.normal.rePwdErr),!0}}]}),i}};e.default=c},"1b26":function(t,e,i){"use strict";i.r(e);var a=i("5420"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"1b7a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")},scroll:function(t){this.$emit("scroll",t)}}};e.default=a},"1bb3":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("821b");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={permission_id:"",permission_name:"",comment:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-permissions").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-permissions").doc(t).field("permission_id,permission_name,comment").get().then((function(t){var i=t.result.data[0];i&&(e.formData=i)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,i("a9ff")["default"])},"1c12":function(t,e,i){"use strict";i.r(e);var a=i("8521"),n=i("a1d9");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"1d97":function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u986f\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f09...","uni-load-more.contentnomore":"\u6c92\u6709\u66f4\u591a\u6578\u64da\u4e86"}')},"1e64":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default,showInfo:i("b029").default,uniFilePicker:i("cb7f").default,uniDateformat:i("fda7").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])]),t._$s(5,"i",!t.isStable)?i("view",{staticClass:t._$s(5,"sc","uni-group"),attrs:{_i:5}},[i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:t.deletePackage}})]):t._e()]),i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:7}},[i("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:8}},[i("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:10}},[i("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:11},model:{value:t._$s(11,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:12}},[i("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u66f4\u65b0\u6807\u9898",_i:13},model:{value:t._$s(13,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),i("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:14}},[i("textarea",{staticClass:t._$s(15,"sc","uni-textarea-border"),attrs:{disabled:t._$s(15,"a-disabled",t.detailsState),value:t._$s(15,"a-value",t.formData.contents),_i:15},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),i("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:16}},[i("uni-data-checkbox",{attrs:{disabled:!0,multiple:!0,localdata:t.platformLocaldata,_i:17},model:{value:t._$s(17,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),i("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:18}},[i("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\u53f7",_i:19},model:{value:t._$s(19,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(20,"i",t.isWGT)?i("uni-forms-item",{attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:20}},[i("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:21},model:{value:t._$s(21,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),i("show-info",{attrs:{content:t.minUniVersionContent,_i:22}})],1):t._e(),t._$s(23,"i",!t.isiOS&&!t.detailsState)?i("uni-forms-item",{attrs:{label:"\u4e0a\u4f20apk\u5305",_i:23}},[i("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:24},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(24,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[i("button",{attrs:{_i:25},on:{click:t.selectFile}})]),t._$s(26,"i",t.hasPackage)?i("text",[t._v(t._$s(26,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),i("uni-forms-item",{attrs:{name:"url",label:t.isiOS?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",required:!0,_i:27}},[i("uni-easyinput",{attrs:{disabled:t.detailsState,placeholder:"\u4e0b\u8f7d\u94fe\u63a5",maxlength:-1,_i:28},model:{value:t._$s(28,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),t._$s(29,"i",t.isWGT)?i("uni-forms-item",{attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:29}},[i("switch",{attrs:{disabled:t._$s(30,"a-disabled",t.detailsState),checked:t._$s(30,"a-checked",t.formData.is_silently),_i:30},on:{change:function(e){t.binddata("is_silently",e.detail.value),t.formData.is_silently=e.detail.value}}}),i("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:31}})],1):t._e(),t._$s(32,"i",!t.isiOS)?i("uni-forms-item",{attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:32}},[i("switch",{attrs:{disabled:t._$s(33,"a-disabled",t.detailsState),checked:t._$s(33,"a-checked",t.formData.is_mandatory),_i:33},on:{change:function(e){t.binddata("is_mandatory",e.detail.value),t.formData.is_mandatory=e.detail.value}}}),i("show-info",{attrs:{width:"230",top:-30,content:t.mandatoryContent,_i:34}})],1):t._e(),i("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:35}},[i("switch",{attrs:{disabled:t._$s(36,"a-disabled",t.detailsState||t.isStable),checked:t._$s(36,"a-checked",t.formData.stable_publish),_i:36},on:{change:function(e){t.binddata("stable_publish",e.detail.value),t.formData.stable_publish=e.detail.value}}}),t._$s(37,"i",t.isStable)?i("show-info",{attrs:{top:-50,width:"350",content:t.stablePublishContent,_i:37}}):i("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:38}})],1),i("uni-forms-item",{attrs:{name:"create_date",label:"\u4e0a\u4f20\u65f6\u95f4",_i:39}},[i("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:t.formData.create_date,threshold:[0,0],_i:40}})],1),i("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(41,"v-show",!1),expression:"_$s(41,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:41}},[i("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:42},model:{value:t._$s(42,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),i("view",{staticClass:t._$s(43,"sc","uni-button-group"),attrs:{_i:43}},[t._$s(44,"i",t.detailsState)?i("button",{staticClass:t._$s(44,"sc","uni-button"),attrs:{_i:44},on:{click:function(e){t.detailsState=!1}}}):t._e(),t._$s(45,"i",!t.detailsState)?i("button",{staticClass:t._$s(45,"sc","uni-button"),attrs:{_i:45},on:{click:t.submit}}):t._e(),t._$s(46,"i",!t.detailsState)?i("button",{staticClass:t._$s(46,"sc","uni-button"),attrs:{_i:46},on:{click:t.cancelEdit}}):t._e(),i("navigator",{},[i("button",{staticClass:t._$s(48,"sc","uni-button"),attrs:{_i:48}})])])],1)],1)},r=[]},"1e7d":function(t,e,i){"use strict";i.r(e);var a=i("1506"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"1e95":function(t,e,i){"use strict";i.r(e);var a=i("8812"),n=i("6dda");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},2039:function(t,e,i){"use strict";i.r(e);var a=i("5d78"),n=i("3c36");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},2164:function(t,e,i){"use strict";i.r(e);var a=i("2bb8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"21aa":function(t,e,i){"use strict";i.r(e);var a=i("e02e"),n=i("8168");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},2206:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("c973")),o=n(i("448a")),u=i("06ce"),c=i("5446");function l(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var f={data:function(){return{query:{platform_id:"",start_time:[(0,u.getTimeOfSomeDayAgo)(1),(new Date).getTime()]},deviceTableData:[],userTableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1,complete:!1,statSetting:{mode:"",day:7},statModeList:[{value:"open",text:"\u5f00\u542f"},{value:"close",text:"\u5173\u95ed"},{value:"auto",text:"\u8282\u80fd"}],showAddAppId:!1}},onReady:function(){var t=this;this.debounceGet=(0,u.debounce)((function(){t.getAllData(t.queryStr)}),300),this.debounceGet(),this.checkAppId()},watch:{query:{deep:!0,handler:function(t){this.debounceGet(this.queryStr)}}},computed:{queryStr:function(){return(0,u.stringifyQuery)(this.query)+' && (dimension == "hour" || dimension == "day")'},deviceTableFields:function(){return this.tableFieldsMap(c.deviceFeildsMap)},userTableFields:function(){return this.tableFieldsMap(c.userFeildsMap)}},methods:{getAllData:function(t){this.getApps(this.queryStr,c.deviceFeildsMap,"device"),this.getApps(this.queryStr,c.userFeildsMap,"user")},tableFieldsMap:function(t){var e,i=[],a=[],n=[],r=[],s=l(t);try{for(s.s();!(e=s.n()).done;){var u=e.value;if(u.field)if(u.hasOwnProperty("value")){var c=JSON.parse(JSON.stringify(u)),d=JSON.parse(JSON.stringify(u));"total_users"!==u.field&&"total_devices"!==u.field?(c.title="\u4eca\u65e5"+u.title,c.field=u.field+"_value",d.title="\u6628\u65e5"+u.title,d.field=u.field+"_contrast",a.push(c),n.push(d)):(c.field=u.field+"_value",r.push(c))}else i.push(u)}}catch(f){s.e(f)}finally{s.f()}return i=[].concat((0,o.default)(i),a,n,r),i},getApps:function(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"device";this.loading=!0;var r=t.database(),s=r.collection("uni-stat-result").where(e).getTemp(),o=r.collection("opendb-app-list").getTemp();r.collection(s,o).field("".concat((0,u.stringifyField)(i,"","value"),",stat_date,appid,dimension")).groupBy("appid,dimension,stat_date").groupField((0,u.stringifyGroupField)(i,"","value")).orderBy("appid","desc").get().then((function(t){var e=t.result.data;if(a["".concat(n,"TableData")]=[],e.length){var r,s=[],o=[],c=[],d=(0,u.parseDateTime)((0,u.getTimeOfSomeDayAgo)(0),"",""),f=(0,u.parseDateTime)((0,u.getTimeOfSomeDayAgo)(1),"",""),h=l(e);try{for(h.s();!(r=h.n()).done;){var p=r.value,m=p.appid&&p.appid[0]||{},g=m.appid,_=m.name;p.appid=g,p.name=_,s.indexOf(p.appid)<0&&s.push(p.appid),"hour"===p.dimension&&p.stat_date===d&&o.push(p),"day"===p.dimension&&p.stat_date===f&&c.push(p)}}catch(w){h.e(w)}finally{h.f()}for(var v=i.map((function(t){return t.field})).filter(Boolean),b=function(){var t,e=x[y],i={},r=o.find((function(t){return t.appid===e})),s=c.find((function(t){return t.appid===e})),d=l(v);try{for(d.s();!(t=d.n()).done;){var f=t.value;if("appid"===f||"name"===f)i[f]=r&&r[f];else{var h=r&&r[f],p=s&&s[f];i[f+"_value"]=(0,u.format)(h),i[f+"_contrast"]=(0,u.format)(p)}}}catch(w){d.e(w)}finally{d.f()}if(e&&(i["total_".concat(n,"s_value")]="\u83b7\u53d6\u4e2d..."),a["".concat(n,"TableData")].push(i),e){r["total_".concat(n,"s")]=0;var m=JSON.parse(JSON.stringify(a.query));m.start_time=[(0,u.getTimeOfSomeDayAgo)(0),(new Date).getTime()],m.appid=e,u.getFieldTotal.call(a,m,"total_".concat(n,"s")).then((function(t){a["".concat(n,"TableData")].find((function(t){return t.appid===e}))["total_".concat(n,"s_value")]=t}))}},y=0,x=s;y<x.length;y++)b()}})).catch((function(t){})).finally((function(){a.loading=!1,a.complete=!0}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?appid=").concat(e)),uni.navigateTo({url:t}))},toUrl:function(t){},toAddAppId:function(){var t=this;this.showAddAppId=!1,uni.navigateTo({url:"/pages/system/app/list",events:{refreshData:function(){t.checkAppId()}}})},checkAppId:function(){var e=this;return(0,s.default)(r.default.mark((function i(){var a,n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.database(),i.next=3,a.collection("opendb-app-list").count();case 3:n=i.sent,e.showAddAppId=!n.result||0===n.result.total;case 5:case"end":return i.stop()}}),i)})))()}}};e.default=f}).call(this,i("a9ff")["default"],i("0de9")["default"])},2236:function(t,e,i){var a=i("5a43");t.exports=function(t){if(Array.isArray(t))return a(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"223f":function(t,e,i){"use strict";i.r(e);var a=i("dad7"),n=i("d746");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"22a4":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniLoadMore:i("5673").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-data-tree"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-data-tree-input"),attrs:{_i:1},on:{click:t.handleInput}},[t._t("default",[i("view",{staticClass:t._$s(3,"sc","input-value"),class:t._$s(3,"c",{"input-value-border":t.border}),attrs:{_i:3}},[t._$s(4,"i",t.errorMessage)?i("text",{staticClass:t._$s(4,"sc","selected-area error-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.errorMessage)))]):t._$s(5,"e",t.loading&&!t.isOpened)?i("view",{staticClass:t._$s(5,"sc","selected-area"),attrs:{_i:5}},[i("uni-load-more",{staticClass:t._$s(6,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:6}})],1):t._$s(7,"e",t.inputSelected.length)?i("scroll-view",{staticClass:t._$s(7,"sc","selected-area"),attrs:{_i:7}},[i("view",{staticClass:t._$s(8,"sc","selected-list"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.inputSelected}),(function(e,a,n,r){return i("view",{key:t._$s(9,"f",{forIndex:n,key:a}),staticClass:t._$s("9-"+r,"sc","selected-item"),attrs:{_i:"9-"+r}},[i("text",{staticClass:t._$s("10-"+r,"sc","text-color"),attrs:{_i:"10-"+r}},[t._v(t._$s("10-"+r,"t0-0",t._s(e.text)))]),t._$s("11-"+r,"i",a<t.inputSelected.length-1)?i("text",{staticClass:t._$s("11-"+r,"sc","input-split-line"),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(t.split)))]):t._e()])})),0)]):i("text",{staticClass:t._$s(12,"sc","selected-area placeholder"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.placeholder)))]),t._$s(13,"i",t.clearIcon&&!t.readonly&&t.inputSelected.length)?i("view",{staticClass:t._$s(13,"sc","icon-clear"),attrs:{_i:13},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}},[i("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:14}})],1):t._e(),t._$s(15,"i",(!t.clearIcon||!t.inputSelected.length)&&!t.readonly)?i("view",{staticClass:t._$s(15,"sc","arrow-area"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","input-arrow"),attrs:{_i:16}})]):t._e()])],{options:t.options,data:t.inputSelected,error:t.errorMessage,_i:2})],2),t._$s(17,"i",t.isOpened)?i("view",{staticClass:t._$s(17,"sc","uni-data-tree-cover"),attrs:{_i:17},on:{click:t.handleClose}}):t._e(),t._$s(18,"i",t.isOpened)?i("view",{staticClass:t._$s(18,"sc","uni-data-tree-dialog"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","uni-popper__arrow"),attrs:{_i:19}}),i("view",{staticClass:t._$s(20,"sc","dialog-caption"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","title-area"),attrs:{_i:21}},[i("text",{staticClass:t._$s(22,"sc","dialog-title"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.popupTitle)))])]),i("view",{staticClass:t._$s(23,"sc","dialog-close"),attrs:{_i:23},on:{click:t.handleClose}},[i("view",{staticClass:t._$s(24,"sc","dialog-close-plus"),attrs:{_i:24}}),i("view",{staticClass:t._$s(25,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:25}})])]),i("data-picker-view",{ref:"pickerView",staticClass:t._$s(26,"sc","picker-view"),attrs:{localdata:t.localdata,preload:t.preload,collection:t.collection,field:t.field,orderby:t.orderby,where:t.where,"step-searh":t.stepSearh,"self-field":t.selfField,"parent-field":t.parentField,"managed-mode":!0,map:t.map,ellipsis:t.ellipsis,_i:26},on:{change:t.onchange,datachange:t.ondatachange,nodeclick:t.onnodeclick},model:{value:t._$s(26,"v-model",t.dataValue),callback:function(e){t.dataValue=e},expression:"dataValue"}})],1):t._e()])},r=[]},2318:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("06ce"),s=(a(i("a3e1")),i("0a0a"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",panelData:s.fieldsGroupMap,loading:!1}},created:function(){var t=this;this.getCloudDataDebounce=(0,r.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,i=this.query;if(i.appid){this.loading=!0;var a=(0,r.stringifyQuery)(u(u({},i),{},{start_time:[(0,r.getTimeOfSomeDayAgo)(0),Date.now()]}),!0,["uni_platform"]),n=t.database();n.collection(this.tableName).where(a).field("".concat((0,r.stringifyField)(s.fieldsMap),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("stat_time, dimension").groupField((0,r.stringifyGroupField)(s.fieldsMap)).orderBy("stat_time","desc").get().then((function(t){var i=t.result.data;i=(0,r.formatterData)({fieldsMap:s.fieldsMap,data:i});var a=i.find((function(t){return"day"===t.dimension&&t.stat_time===(0,r.parseDateTime)((0,r.getTimeOfSomeDayAgo)(0),"")}));a||(a=i.find((function(t){return"hour"===t.dimension&&t.stat_time===(0,r.parseDateTime)((0,r.getTimeOfSomeDayAgo)(0),"")}))||{}),e.loading=!1,e.panelData=e.setPanelData(a)}))}},setPanelData:function(t){var e=this.panelData;return e.map((function(e,i){e.list.map((function(e,i){e.value=t[e.field]||0}))})),e}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}}};e.default=c}).call(this,i("a9ff")["default"])},"235a":function(t,e,i){"use strict";i.r(e);var a=i("24b8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"23f4":function(t,e,i){"use strict";i.r(e);var a=i("f1fb"),n=i("b213");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},2487:function(t,e,i){"use strict";i.r(e);var a=i("bc59"),n=i("9e09");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7376d5da",null,!1,a["a"],void 0);e["default"]=o.exports},"24b8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading5",data:function(){return{}}}},"24cc":function(t,e,i){"use strict";i.r(e);var a=i("3f4f"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},2538:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-menu-item"),class:t._$s(0,"c",{"is-active":t.active,"is-disabled":t.disabled}),style:t._$s(0,"s",{paddingLeft:t.paddingLeft,"background-color":t.active?t.activeBackgroundColor:""}),attrs:{_i:0},on:{click:t.onClickItem}},[t._t("default",null,{_i:1})],2)},n=[]},2543:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={debug:!1,isAdmin:!0,loginTypes:["univerify","username","apple"],appid:{weixin:{h5:"xxxxxx",web:"xxxxxx"}},passwordStrength:"medium"}},2577:function(t,e,i){"use strict";i.r(e);var a=i("1870"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},2581:function(t,e,i){"use strict";i.r(e);var a=i("aa53"),n=i("b966");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"29fcc421",null,!1,a["a"],void 0);e["default"]=o.exports},"25d0":function(t,e,i){"use strict";i.r(e);var a=i("6ccd"),n=i("8f26");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"26cb":function(t,e,i){"use strict";(function(e){var i="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},a=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=function(t,e){return t.filter(e)[0]}(e,(function(e){return e.original===t}));if(i)return i.copy;var a=Array.isArray(t)?[]:{};return e.push({original:t,copy:a}),Object.keys(t).forEach((function(i){a[i]=n(t[i],e)})),a}function r(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function s(t){return null!==t&&"object"===typeof t}var o=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},u={namespaced:{configurable:!0}};u.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(t,e){this._children[t]=e},o.prototype.removeChild=function(t){delete this._children[t]},o.prototype.getChild=function(t){return this._children[t]},o.prototype.hasChild=function(t){return t in this._children},o.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},o.prototype.forEachChild=function(t){r(this._children,t)},o.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},o.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},o.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(o.prototype,u);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},c.prototype.update=function(t){(function t(e,i,a){0;if(i.update(a),a.modules)for(var n in a.modules){if(!i.getChild(n))return void 0;t(e.concat(n),i.getChild(n),a.modules[n])}})([],this.root,t)},c.prototype.register=function(t,e,i){var a=this;void 0===i&&(i=!0);var n=new o(e,i);if(0===t.length)this.root=n;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],n)}e.modules&&r(e.modules,(function(e,n){a.register(t.concat(n),e,i)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],a=e.getChild(i);a&&a.runtime&&e.removeChild(i)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var l;var d=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!==typeof window&&window.Vue&&b(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var r=this,s=this.dispatch,o=this.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,i){return o.call(r,t,e,i)},this.strict=n;var u=this._modules.root.state;g(this,u,[],this._modules.root),m(this,u),i.forEach((function(t){return t(e)}));var d=void 0!==t.devtools?t.devtools:l.config.devtools;d&&function(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){a.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){a.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;g(t,i,[],t._modules.root,!0),m(t,i,e)}function m(t,e,i){var a=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var n=t._wrappedGetters,s={};r(n,(function(e,i){s[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var o=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:s}),l.config.silent=o,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),a&&(i&&t._withCommit((function(){a._data.$$state=null})),l.nextTick((function(){return a.$destroy()})))}function g(t,e,i,a,n){var r=!i.length,s=t._modules.getNamespace(i);if(a.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=a),!r&&!n){var o=_(e,i.slice(0,-1)),u=i[i.length-1];t._withCommit((function(){l.set(o,u,a.state)}))}var c=a.context=function(t,e,i){var a=""===e,n={dispatch:a?t.dispatch:function(i,a,n){var r=v(i,a,n),s=r.payload,o=r.options,u=r.type;return o&&o.root||(u=e+u),t.dispatch(u,s)},commit:a?t.commit:function(i,a,n){var r=v(i,a,n),s=r.payload,o=r.options,u=r.type;o&&o.root||(u=e+u),t.commit(u,s,o)}};return Object.defineProperties(n,{getters:{get:a?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},a=e.length;Object.keys(t.getters).forEach((function(n){if(n.slice(0,a)===e){var r=n.slice(a);Object.defineProperty(i,r,{get:function(){return t.getters[n]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return _(t.state,i)}}}),n}(t,s,i);a.forEachMutation((function(e,i){var a=s+i;(function(t,e,i,a){var n=t._mutations[e]||(t._mutations[e]=[]);n.push((function(e){i.call(t,a.state,e)}))})(t,a,e,c)})),a.forEachAction((function(e,i){var a=e.root?i:s+i,n=e.handler||e;(function(t,e,i,a){var n=t._actions[e]||(t._actions[e]=[]);n.push((function(e){var n=i.call(t,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:t.getters,rootState:t.state},e);return function(t){return t&&"function"===typeof t.then}(n)||(n=Promise.resolve(n)),t._devtoolHook?n.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):n}))})(t,a,n,c)})),a.forEachGetter((function(e,i){var a=s+i;(function(t,e,i,a){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(a.state,a.getters,t.state,t.getters)}})(t,a,e,c)})),a.forEachChild((function(a,r){g(t,e,i.concat(r),a,n)}))}function _(t,e){return e.reduce((function(t,e){return t[e]}),t)}function v(t,e,i){return s(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function b(t){l&&t===l||(l=t,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:a});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[a].concat(t.init):a,i.call(this,t)}}function a(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(l))}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},d.prototype.commit=function(t,e,i){var a=this,n=v(t,e,i),r=n.type,s=n.payload,o=(n.options,{type:r,payload:s}),u=this._mutations[r];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(o,a.state)})))},d.prototype.dispatch=function(t,e){var i=this,a=v(t,e),n=a.type,r=a.payload,s={type:n,payload:r},o=this._actions[n];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,i.state)}))}catch(c){0}var u=o.length>1?Promise.all(o.map((function(t){return t(r)}))):o[0](r);return new Promise((function(t,e){u.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,i.state)}))}catch(c){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,i.state,t)}))}catch(c){0}e(t)}))}))}},d.prototype.subscribe=function(t,e){return h(t,this._subscribers,e)},d.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return h(i,this._actionSubscribers,e)},d.prototype.watch=function(t,e,i){var a=this;return this._watcherVM.$watch((function(){return t(a.state,a.getters)}),e,i)},d.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},d.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),i.preserveState),m(this,this.state)},d.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=_(e.state,t.slice(0,-1));l.delete(i,t[t.length-1])})),p(this)},d.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},d.prototype[[104,111,116,85,112,100,97,116,101].map((function(t){return String.fromCharCode(t)})).join("")]=function(t){this._modules.update(t),p(this,!0)},d.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(d.prototype,f);var y=k((function(t,e){var i={};return $(e).forEach((function(e){var a=e.key,n=e.val;i[a]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var a=D(this.$store,"mapState",t);if(!a)return;e=a.context.state,i=a.context.getters}return"function"===typeof n?n.call(this,e,i):e[n]},i[a].vuex=!0})),i})),x=k((function(t,e){var i={};return $(e).forEach((function(e){var a=e.key,n=e.val;i[a]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var a=this.$store.commit;if(t){var r=D(this.$store,"mapMutations",t);if(!r)return;a=r.context.commit}return"function"===typeof n?n.apply(this,[a].concat(e)):a.apply(this.$store,[n].concat(e))}})),i})),w=k((function(t,e){var i={};return $(e).forEach((function(e){var a=e.key,n=e.val;n=t+n,i[a]=function(){if(!t||D(this.$store,"mapGetters",t))return this.$store.getters[n]},i[a].vuex=!0})),i})),C=k((function(t,e){var i={};return $(e).forEach((function(e){var a=e.key,n=e.val;i[a]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var a=this.$store.dispatch;if(t){var r=D(this.$store,"mapActions",t);if(!r)return;a=r.context.dispatch}return"function"===typeof n?n.apply(this,[a].concat(e)):a.apply(this.$store,[n].concat(e))}})),i}));function $(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function k(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function D(t,e,i){var a=t._modulesNamespaceMap[i];return a}function S(t,e,i){var a=i?t.groupCollapsed:t.group;try{a.call(t,e)}catch(n){t.log(e)}}function T(t){try{t.groupEnd()}catch(e){t.log("\u2014\u2014 log end \u2014\u2014")}}function O(){var t=new Date;return" @ "+P(t.getHours(),2)+":"+P(t.getMinutes(),2)+":"+P(t.getSeconds(),2)+"."+P(t.getMilliseconds(),3)}function P(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t}var M={Store:d,install:b,version:"3.6.2",mapState:y,mapMutations:x,mapGetters:w,mapActions:C,createNamespacedHelpers:function(t){return{mapState:y.bind(null,t),mapGetters:w.bind(null,t),mapMutations:x.bind(null,t),mapActions:C.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var a=t.transformer;void 0===a&&(a=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var o=t.actionTransformer;void 0===o&&(o=function(t){return t});var u=t.logMutations;void 0===u&&(u=!0);var c=t.logActions;void 0===c&&(c=!0);var l=t.logger;return void 0===l&&(l=console),function(t){var d=n(t.state);"undefined"!==typeof l&&(u&&t.subscribe((function(t,s){var o=n(s);if(i(t,d,o)){var u=O(),c=r(t),f="mutation "+t.type+u;S(l,f,e),l.log("%c prev state","color: #9E9E9E; font-weight: bold",a(d)),l.log("%c mutation","color: #03A9F4; font-weight: bold",c),l.log("%c next state","color: #4CAF50; font-weight: bold",a(o)),T(l)}d=o})),c&&t.subscribeAction((function(t,i){if(s(t,i)){var a=O(),n=o(t),r="action "+t.type+a;S(l,r,e),l.log("%c action","color: #03A9F4; font-weight: bold",n),T(l)}})))}}};t.exports=M}).call(this,i("c8ba"))},2707:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=u,e.friendlyDate=function(t,e){var i=e.locale,a=void 0===i?"zh":i,n=e.threshold,r=void 0===n?[6e4,36e5]:n,s=e.format,c=void 0===s?"yyyy/MM/dd hh:mm:ss":s;if("-"===t)return t;if(!t&&0!==t)return"";var l,d,f={zh:{year:"\u5e74",month:"\u6708",day:"\u5929",hour:"\u5c0f\u65f6",minute:"\u5206\u949f",second:"\u79d2",ago:"\u524d",later:"\u540e",justNow:"\u521a\u521a",soon:"\u9a6c\u4e0a",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},h=f[a]||f.zh,p=o(t),m=p.getTime()-Date.now(),g=Math.abs(m);if(g<r[0])return m<0?h.justNow:h.soon;if(g>=r[1])return u(p,c);var _=h.later;m<0&&(_=h.ago,m=-m);var v=Math.floor(m/1e3),b=Math.floor(v/60),y=Math.floor(b/60),x=Math.floor(y/24),w=Math.floor(x/30),C=Math.floor(w/12);switch(!0){case C>0:l=C,d=h.year;break;case w>0:l=w,d=h.month;break;case x>0:l=x,d=h.day;break;case y>0:l=y,d=h.hour;break;case b>0:l=b,d=h.minute;break;default:l=v,d=h.second;break}"en"===a&&(1===l?l="a":d+="s");return h.template.replace(/{\s*num\s*}/g,l+"").replace(/{\s*unit\s*}/g,d).replace(/{\s*suffix\s*}/g,_)};var n=a(i("7037"));function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}var s={yyyy:function(t){return r(t.year,4)},yy:function(t){return r(t.year)},MM:function(t){return r(t.month)},M:function(t){return t.month},dd:function(t){return r(t.day)},d:function(t){return t.day},hh:function(t){return r(t.hour)},h:function(t){return t.hour},mm:function(t){return r(t.minute)},m:function(t){return t.minute},ss:function(t){return r(t.second)},s:function(t){return t.second},SSS:function(t){return r(t.millisecond,3)},S:function(t){return t.millisecond}};function o(t){if(t instanceof Date)return t;switch((0,n.default)(t)){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=o(t);var i={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},a=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,n=!0,r=e;while(n)n=!1,r=r.replace(a,(function(t){return n=!0,s[t](i)}));return r}},"278c":function(t,e,i){var a=i("c135"),n=i("9b42"),r=i("6613"),s=i("c240");t.exports=function(t,e){return a(t)||n(t,e)||r(t,e)||s()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"27ad":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=i("06ce");function s(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var u={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,r.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[],errorMessage:""}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat((0,n.default)(this.dayChartsData),(0,n.default)(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,r.stringifyQuery)({appid:t});return e}},methods:{getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t),this.getRangeCountData(t,"month")):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var n=(0,r.getTimeOfSomeDayAgo)(0);if(e.start_time>=n){var s=(new Date).getTime();e.start_time=[n,s],e=(0,r.stringifyQuery)(e,!0)}else e=(0,r.stringifyQuery)(e);var o=t.database();o.collection("uni-stat-result").where(e).field("active_device_count,new_device_count,total_devices,platform_id").groupBy("platform_id").groupField("sum(active_device_count) as ".concat(a,"_active_device_count, sum(new_device_count) as ").concat(a,"_new_device_count, max(total_devices) as ").concat(a,"_total_devices")).get().then((function(t){var e=t.result.data;i.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,i){var a=this;e=(0,r.stringifyQuery)(e);var n=t.database();n.collection("uni-stat-result").where(e).field("active_device_count, new_device_count, platform_id, ".concat(i,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(i,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(i?i+",":"","platform_id")).groupField("sum(active_device_count) as ".concat(i,"_active_device_count, sum(new_device_count) as ").concat(i,"_new_device_count")).orderBy("year asc, ".concat(i," asc")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=t.database();r.collection("uni-stat-app-platforms").get().then((function(t){var r=[{field:"".concat(n,"_new_device_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u65b0\u589e\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(n,"_active_device_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u6d3b\u8dc3\u8bbe\u5907\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===n&&r.unshift({field:"day_total_devices",title:"\u603b\u8bbe\u5907\u6570\u5bf9\u6bd4",series:[{data:[]}]}),a[i]=r;var o=t.result.data,u={};o.forEach((function(t){u[t._id]=t.name}));var c,l=s(a[i]);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,h=f.series[0].data,p=JSON.parse(JSON.stringify(u)),m=s(e);try{for(m.s();!(d=m.n()).done;){var g=d.value;for(var _ in g)if(f.field===_){var v=g.platform_id,b={name:p[v],value:g[_]};h.push(b),delete p[v]}}}catch(w){m.e(w)}finally{m.f()}for(var y in p){var x={name:p[y],value:0};h.push(x)}}}catch(w){l.e(w)}finally{l.f()}}))}}};e.default=u}).call(this,i("a9ff")["default"])},2832:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}},[e("limeClipper",{attrs:{width:this.options.width,"scale-ratio":2,"is-lock-width":!1,"is-lock-height":!1,height:this.options.height,"image-url":this.path,_i:1},on:{success:this.successFn,cancel:this.cancel}})],1)},n=[]},"289a":function(t,e,i){"use strict";i.r(e);var a=i("cc6f"),n=i("82f6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"213c5e10",null,!1,a["a"],void 0);e["default"]=o.exports},"29cf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={menu_id:{rules:[{required:!0},{format:"string"}]},name:{rules:[{required:!0},{format:"string"}]},icon:{rules:[{format:"string"}]},url:{rules:[{format:"string"}]},sort:{rules:[{format:"int"}]},parent_id:{rules:[{format:"string"}]},permission:{rules:[{format:"array"}]},enable:{rules:[{format:"bool"}]}}},"2a84":function(t,e,i){"use strict";i.r(e);var a=i("be2d"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2b04":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=i("37dc"),s=a(i("6b22"));setTimeout((function(){n=uni.getSystemInfoSync().platform}),16);var o=(0,r.initVueI18n)(s.default),u=o.t,c={name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"",contentrefresh:"",contentnomore:""}}},showText:{type:Boolean,default:!0}},data:function(){return{webviewHide:!1,platform:n,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}},computed:{iconSnowWidth:function(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText:function(){return this.contentText.contentdown||u("uni-load-more.contentdown")},contentrefreshText:function(){return this.contentText.contentrefresh||u("uni-load-more.contentrefresh")},contentnomoreText:function(){return this.contentText.contentnomore||u("uni-load-more.contentnomore")}},mounted:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],a=i.$getAppWebview();a.addEventListener("hide",(function(){t.webviewHide=!0})),a.addEventListener("show",(function(){t.webviewHide=!1}))},methods:{onClick:function(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}};e.default=c},"2bb8":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("7037")),s=a(i("9523")),o=a(i("c973")),u={name:"uniFormsItem",options:{virtualHost:!0},provide:function(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default:function(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data:function(){return{errMsg:"",isRequired:!1,userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg:function(){return this.errorMessage||this.errMsg}},watch:{"form.formRules":function(t){this.init()},"form.labelWidth":function(t){this.localLabelWidth=this._labelWidthUnit(t)},"form.labelPosition":function(t){this.localLabelPos=this._labelPosition()},"form.labelAlign":function(t){}},created:function(){var t=this;this.init(!0),this.name&&this.form&&this.$watch((function(){var e=t.form._getDataValue(t.name,t.form.localData);return e}),(function(e,i){var a=t.form._isEqual(e,i);if(!a){var n=t.itemSetValue(e);t.onFieldChange(n,!1)}}),{immediate:!1})},destroyed:function(){this.__isUnmounted||this.unInit()},methods:{setRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.userRules=t,this.init(!1)},setValue:function(){},onFieldChange:function(t){var e=arguments,i=this;return(0,o.default)(n.default.mark((function a(){var r,o,u,c,l,d,f,h,p,m,g,_;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=!(e.length>1&&void 0!==e[1])||e[1],o=i.form,u=o.formData,o.localData,c=o.errShowType,l=o.validateCheck,d=o.validateTrigger,f=o._isRequiredField,h=o._realName,p=h(i.name),t||(t=i.form.formData[p]),m=i.itemRules.rules&&i.itemRules.rules.length,i.validator&&m&&0!==m){a.next=7;break}return a.abrupt("return");case 7:if(g=f(i.itemRules.rules||[]),_=null,"bind"!==d&&!r){a.next=18;break}return a.next=12,i.validator.validateUpdate((0,s.default)({},p,t),u);case 12:_=a.sent,g||void 0!==t&&""!==t||(_=null),_&&_.errorMessage?("undertext"===c&&(i.errMsg=_?_.errorMessage:""),"toast"===c&&uni.showToast({title:_.errorMessage||"\u6821\u9a8c\u9519\u8bef",icon:"none"}),"modal"===c&&uni.showModal({title:"\u63d0\u793a",content:_.errorMessage||"\u6821\u9a8c\u9519\u8bef"})):i.errMsg="",l(_||null),a.next=19;break;case 18:i.errMsg="";case 19:return a.abrupt("return",_||null);case 20:case"end":return a.stop()}}),a)})))()},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.form||{},i=e.validator,a=e.formRules,n=e.childrens,s=(e.formData,e.localData),o=e._realName,u=e.labelWidth,c=e._getDataValue;e._setDataValue;if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(u),this.localLabelPos=this._labelPosition(),this.isRequired=this.required,this.form&&t&&n.push(this),i&&a){this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;var l=o(this.name),d=this.userRules||this.rules;"object"===(0,r.default)(a)&&d&&(a[l]={rules:d},i.updateSchema(a));var f=a[l]||{};this.itemRules=f,this.validator=i,this.itemSetValue(c(this.name,s)),this.isRequired=this._isRequired()}},unInit:function(){var t=this;if(this.form){var e=this.form,i=e.childrens,a=e.formData,n=e._realName;i.forEach((function(e,i){e===t&&(t.form.childrens.splice(i,1),delete a[n(e.name)])}))}},itemSetValue:function(t){var e=this.form._realName(this.name),i=this.itemRules.rules||[],a=this.form._getValue(e,t,i);return this.form._setDataValue(e,this.form.formData,a),a},clearValidate:function(){this.errMsg=""},_isRequired:function(){return this.required},_justifyContent:function(){if(this.form){var t=this.form.labelAlign,e=this.labelAlign?this.labelAlign:t;if("left"===e)return"flex-start";if("center"===e)return"center";if("right"===e)return"flex-end"}return"flex-start"},_labelWidthUnit:function(t){return this.num2px(this.labelWidth?this.labelWidth:t||(this.label?65:"auto"))},_labelPosition:function(){return this.form&&this.form.labelPosition||"left"},isTrigger:function(t,e,i){return"submit"!==t&&t?"bind":void 0===t?"bind"!==e?e?"submit":""===i?"bind":"submit":"bind":"submit"},num2px:function(t){return"number"===typeof t?"".concat(t,"px"):t}}};e.default=u},"2bf5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=a},"2c3e":function(t,e,i){"use strict";i.r(e);var a=i("9dc2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2d3d":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("06ce"),r=(a(i("a3e1")),a(i("c64d"))),s=a(i("15fd")),o={components:{funnelChart:r.default,trendChart:s.default},data:function(){return{tableName:"uni-stat-pay-result",query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},loading:!1}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},created:function(){},methods:{platformChange:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code}},watch:{},computed:{versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,n.stringifyQuery)({appid:e,uni_platform:i});return a},channelQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=(0,n.stringifyQuery)({appid:e,platform_id:i});return a}}};e.default=o},"2d46":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),i("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-permissions",field:"permission_id,permission_name,comment,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[i("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"11-"+n}},[i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"permission_id")},"sort-change":function(e){return t.sortChange(e,"permission_id")}}},[t._v("\u6743\u9650\u6807\u8bc6")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"permission_name")},"sort-change":function(e){return t.sortChange(e,"permission_name")}}},[t._v("\u6743\u9650\u540d\u79f0")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",_i:"16-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("17-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("17-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"17-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"18-"+n+o}},[t._v(a._$s("18-"+n+o,"t0-0",t._s(e.permission_id)))]),i("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(a._$s("19-"+n+o,"t0-0",t._s(e.permission_name)))]),i("uni-td",{attrs:{align:"center",_i:"20-"+n+o}},[t._v(a._$s("20-"+n+o,"t0-0",t._s(e.comment)))]),i("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[i("view",{staticClass:a._$s("24-"+n+o,"sc","uni-group"),attrs:{_i:"24-"+n+o}},[i("button",{staticClass:a._$s("25-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"25-"+n+o},on:{click:function(i){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(a._$s("25-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),i("button",{staticClass:a._$s("26-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"26-"+n+o},on:{click:function(i){return t.confirmDelete(e._id)}}},[t._v(a._$s("26-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),i("view",{staticClass:a._$s("27-"+n,"sc","uni-pagination-box"),attrs:{_i:"27-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"28-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("28-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("fix-window",{attrs:{_i:29}})],1)},r=[]},"2dc6":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[i("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),i("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"daterange",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}})],1),i("uni-stat-tabs",{attrs:{type:"box",current:t.statTabs.index,tabs:t.statTabs.list,_i:5},on:{change:t.statTabsChange}}),i("view",{staticClass:t._$s(6,"sc","uni-charts-box"),attrs:{_i:6}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:7}})],1)],1)},r=[]},"2e56":function(t,e,i){"use strict";i.r(e);var a=i("470a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2e61":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._l(t._$s(1,"f",{forItems:t.uploadTasks}),(function(e,a,n,r){return[i("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:0,key:t.index+"_0"}),staticClass:t._$s("2-"+r,"sc","upload-task-body"),attrs:{_i:"2-"+r}},[i("view",{staticClass:t._$s("3-"+r,"sc","upload-task-item"),attrs:{_i:"3-"+r}},[i("text",{staticClass:t._$s("4-"+r,"sc","upload-task-item-name"),attrs:{_i:"4-"+r}},[t._v(t._$s("4-"+r,"t0-0",t._s(e.name)))]),t._$s("5-"+r,"i",t.showProgress)?i("progress",{staticClass:t._$s("5-"+r,"sc","upload-task-item-progress"),attrs:{activeColor:t._$s("5-"+r,"a-activeColor",-1!==e.state?"#42b983":"#ff5a5f"),percent:t._$s("5-"+r,"a-percent",100*e.progress),_i:"5-"+r}}):t._e(),i("view",{staticClass:t._$s("6-"+r,"sc","flex"),attrs:{_i:"6-"+r}},[i("text",{staticClass:t._$s("7-"+r,"sc","upload-task-item-size"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.size)))]),i("text",{staticClass:t._$s("8-"+r,"sc","upload-task-item-size"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(-1!==e.state?"":"\u5931\u8d25")))])])])])]}))],2)},n=[]},"2ed4":function(t,e,i){"use strict";i.r(e);var a=i("64da"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2ed5":function(t,e,i){"use strict";i.r(e);var a=i("c477"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2ef6":function(t,e,i){"use strict";i.r(e);var a=i("039e");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);var r=i("f0c5"),s=Object(r["a"])(a["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);e["default"]=s.exports},"2efd":function(t,e,i){"use strict";i.r(e);var a=i("a16b"),n=i("54fb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"2f9c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{currentPage:""}},options:{virtualHost:!0},props:{to:{type:String,default:""},replace:{type:Boolean,default:!1}},inject:{uniBreadcrumb:{from:"uniBreadcrumb",default:null}},created:function(){var t=getCurrentPages(),e=t[t.length-1];e&&(this.currentPage="/".concat(e.route))},computed:{separator:function(){return this.uniBreadcrumb.separator},separatorClass:function(){return this.uniBreadcrumb.separatorClass}},methods:{navTo:function(){var t=this.to;t&&this.currentPage!==t&&(this.replace?uni.redirectTo({url:t}):uni.navigateTo({url:t}))}}};e.default=a},"2fc1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniTag",emits:["click"],props:{type:{type:String,default:"default"},size:{type:String,default:"normal"},text:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},inverted:{type:[Boolean,String],default:!1},circle:{type:[Boolean,String],default:!1},mark:{type:[Boolean,String],default:!1},customStyle:{type:String,default:""}},computed:{classes:function(){var t=this.type,e=this.disabled,i=this.inverted,a=this.circle,n=this.mark,r=this.size,s=this.isTrue,o=["uni-tag--"+t,"uni-tag--"+r,s(e)?"uni-tag--disabled":"",s(i)?"uni-tag--"+t+"--inverted":"",s(a)?"uni-tag--circle":"",s(n)?"uni-tag--mark":"",s(i)?"uni-tag--inverted uni-tag-text--"+t:"","small"===r?"uni-tag-text--small":""];return o.join(" ")}},methods:{isTrue:function(t){return!0===t||"true"===t},onClick:function(){this.isTrue(this.disabled)||this.$emit("click")}}};e.default=a},"2fe6":function(t,e,i){"use strict";i.r(e);var a=i("b14b"),n=i("4a10");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"302a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniBreadcrumb:i("faed").default,uniBreadcrumbItem:i("e054").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-x"),attrs:{_i:0}},[i("uni-breadcrumb",{attrs:{separator:"/",_i:1}},t._l(t._$s(2,"f",{forItems:t.routes}),(function(e,a,n,r){return i("uni-breadcrumb-item",{key:t._$s(2,"f",{forIndex:n,key:a}),attrs:{to:e.to&&e.to.path||"",_i:"2-"+r}},[t._v(t._$s("2-"+r,"t0-0",t._s(e.name)))])})),1)],1)},r=[]},3099:function(t,e,i){"use strict";i.r(e);var a=i("85aa"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"30dc":function(t,e,i){"use strict";i.r(e);var a=i("1233"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},3257:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}}),i("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),i("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),i("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),i("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:21}})],1)],1),i("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),i("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),i("fix-window",{attrs:{_i:26}})],1)},r=[]},"33ac":function(t,e,i){"use strict";i.r(e);var a=i("ff7a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"33bc":function(t,e,i){"use strict";i.r(e);var a=i("10c0"),n=i("24cc");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"340d":function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7edf\u767b\u5f55","prompt":"\u5982\u65e0\u7ba1\u7406\u5458\u8d26\u53f7\uff0c\u8bf7\u5148\u521b\u5efa\u7ba1\u7406\u5458"},"field":{"username":"\u8d26\u53f7","password":"\u5bc6\u7801","captcha":"\u9a8c\u8bc1\u7801"},"button":{"login":"\u767b\u5f55"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6863","plugin":"\u6d4f\u89c8\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u7801","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5185\u5bb9\u4e3b\u4f53\uff0c\u53ef\u81ea\u5b9a\u4e49\u5185\u5bb9\u53ca\u6837\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u5f53\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u7801"},"field":{"oldPassword":"\u65e7\u5bc6\u7801","newPassword":"\u65b0\u5bc6\u7801","passwordConfirmation":"\u786e\u8ba4\u65b0\u5bc6\u7801"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},"button":{"search":"\u641c\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u5220\u9664","batchDelete":"\u6279\u91cf\u5220\u9664","exportExcel":"\u5bfc\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6807\u7b7e\u7ba1\u7406","publish":"\u53d1\u5e03\u9875\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406"},"empty":"\u6ca1\u6709\u66f4\u591a\u6570\u636e","piecePerPage":"\u6761/\u9875"},"user":{"text":{"userManager":"\u7528\u6237\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6743\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u5e94\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6237\u53ef\u767b\u5f55\u7684\u5e94\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u5355\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u5355"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7ea7\u83dc\u5355","addChildMenu":"\u5b50\u83dc\u5355"}},"demo":{"icons":{"title":"\u56fe\u6807","describle":"\u70b9\u51fb\u56fe\u6807\u5373\u53ef\u590d\u5236\u56fe\u6807\u4ee3\u7801"},"table":{"title":"\u8868\u683c"}}}')},"345c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[i("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),i("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[i("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:20}})],1)])]),i("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),i("fix-window",{attrs:{_i:23}})],1)},r=[]},3465:function(t,e,i){"use strict";i.r(e);var a=i("7cdf"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"34bf":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-easyinput"),class:t._$s(0,"c",{"uni-easyinput-error":t.msg}),style:t._$s(0,"s",t.boxStyle),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-easyinput__content"),class:t._$s(1,"c",t.inputContentClass),style:t._$s(1,"s",t.inputContentStyle),attrs:{_i:1}},[t._$s(2,"i",t.prefixIcon)?i("uni-icons",{staticClass:t._$s(2,"sc","content-clear-icon"),attrs:{type:t.prefixIcon,color:"#c0c4cc",size:"22",_i:2},on:{click:function(e){return t.onClickIcon("prefix")}}}):t._e(),t._$s(3,"i","textarea"===t.type)?i("textarea",{staticClass:t._$s(3,"sc","uni-easyinput__content-textarea"),class:t._$s(3,"c",{"input-padding":t.inputBorder}),attrs:{name:t._$s(3,"a-name",t.name),value:t._$s(3,"a-value",t.val),placeholder:t._$s(3,"a-placeholder",t.placeholder),placeholderStyle:t._$s(3,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(3,"a-disabled",t.disabled),maxlength:t._$s(3,"a-maxlength",t.inputMaxlength),focus:t._$s(3,"a-focus",t.focused),autoHeight:t._$s(3,"a-autoHeight",t.autoHeight),_i:3},on:{input:t.onInput,blur:t._Blur,focus:t._Focus,confirm:t.onConfirm}}):i("input",{staticClass:t._$s(4,"sc","uni-easyinput__content-input"),style:t._$s(4,"s",t.inputStyle),attrs:{type:t._$s(4,"a-type","password"===t.type?"text":t.type),name:t._$s(4,"a-name",t.name),value:t._$s(4,"a-value",t.val),password:t._$s(4,"a-password",!t.showPassword&&"password"===t.type),placeholder:t._$s(4,"a-placeholder",t.placeholder),placeholderStyle:t._$s(4,"a-placeholderStyle",t.placeholderStyle),disabled:t._$s(4,"a-disabled",t.disabled),maxlength:t._$s(4,"a-maxlength",t.inputMaxlength),focus:t._$s(4,"a-focus",t.focused),confirmType:t._$s(4,"a-confirmType",t.confirmType),_i:4},on:{focus:t._Focus,blur:t._Blur,input:t.onInput,confirm:t.onConfirm}}),t._$s(5,"i","password"===t.type&&t.passwordIcon)?[t._$s(6,"i",t.isVal)?i("uni-icons",{staticClass:t._$s(6,"sc","content-clear-icon"),class:t._$s(6,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:t.showPassword?"eye-slash-filled":"eye-filled",size:22,color:t.focusShow?t.primaryColor:"#c0c4cc",_i:6},on:{click:t.onEyes}}):t._e()]:t._$s(7,"e",t.suffixIcon)?[t._$s(8,"i",t.suffixIcon)?i("uni-icons",{staticClass:t._$s(8,"sc","content-clear-icon"),attrs:{type:t.suffixIcon,color:"#c0c4cc",size:"22",_i:8},on:{click:function(e){return t.onClickIcon("suffix")}}}):t._e()]:[t._$s(10,"i",t.clearable&&t.isVal&&!t.disabled&&"textarea"!==t.type)?i("uni-icons",{staticClass:t._$s(10,"sc","content-clear-icon"),class:t._$s(10,"c",{"is-textarea-icon":"textarea"===t.type}),attrs:{type:"clear",size:t.clearSize,color:t.msg?"#dd524d":t.focusShow?t.primaryColor:"#c0c4cc",_i:10},on:{click:t.onClear}}):t._e()],t._t("right",null,{_i:11})],2)])},r=[]},3588:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-scene",all:!1,_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),i("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[i("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),i("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),i("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap.slice(0,t.fieldsMap.length-1),loading:t.loading,_i:20}}),i("view",{staticClass:t._$s(21,"sc","uni-pagination-box"),attrs:{_i:21}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:22},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("fix-window",{attrs:{_i:23}})],1)},r=[]},3598:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initInterceptor=function(){uni.addInterceptor("navigateTo",{fail:function(t){var e=t.errMsg;-1!==e.indexOf("is not found")&&uni.navigateTo({url:n.default.error.url+"?errMsg="+e})}})};var n=a(i("097a"))},"36b2":function(t,e,i){"use strict";i.r(e);var a=i("ceff7"),n=i("2577");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"dad5fb08",null,!1,a["a"],void 0);e["default"]=o.exports},"36c6":function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},3726:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-breadcrumb-item"),attrs:{_i:0}},[i("view",{class:t._$s(1,"c",{"uni-breadcrumb-item--slot":!0,"uni-breadcrumb-item--slot-link":t.to&&t.currentPage!==t.to}),attrs:{_i:1},on:{click:t.navTo}},[t._t("default",null,{_i:2})],2),t._$s(3,"i",t.separatorClass)?i("i",{staticClass:t._$s(3,"sc","uni-breadcrumb-item--separator"),class:t._$s(3,"c",t.separatorClass),attrs:{_i:3}}):i("text",{staticClass:t._$s(4,"sc","uni-breadcrumb-item--separator"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.separator)))])])},n=[]},"37bd":function(t,e,i){"use strict";i.r(e);var a=i("ee11"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"37dc":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.LOCALE_ZH_HANT=e.LOCALE_ZH_HANS=e.LOCALE_FR=e.LOCALE_ES=e.LOCALE_EN=e.I18n=e.Formatter=void 0,e.compileI18nJsonStr=function(t,e){var i=e.locale,a=e.locales,n=e.delimiters;if(!k(t,n))return t;C||(C=new d);var r=[];Object.keys(a).forEach((function(t){t!==i&&r.push({locale:t,values:a[t]})})),r.unshift({locale:i,values:a[i]});try{return JSON.stringify(S(JSON.parse(t),r,n),null,2)}catch(s){}return t},e.hasI18nJson=function t(e,i){C||(C=new d);return T(e,(function(e,a){var n=e[a];return $(n)?!!k(n,i)||void 0:t(n,i)}))},e.initVueI18n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if("string"!==typeof t){var n=[e,t];t=n[0],e=n[1]}"string"!==typeof t&&(t=w());"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var r=new y({locale:t,fallbackLocale:i,messages:e,watcher:a}),s=function(t,e){if("function"!==typeof getApp)s=function(t,e){return r.t(t,e)};else{var i=!1;s=function(t,e){var a=getApp().$vm;return a&&(a.$locale,i||(i=!0,x(a,r))),r.t(t,e)}}return s(t,e)};return{i18n:r,f:function(t,e,i){return r.f(t,e,i)},t:function(t,e){return s(t,e)},add:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.add(t,e,i)},watch:function(t){return r.watchLocale(t)},getLocale:function(){return r.getLocale()},setLocale:function(t){return r.setLocale(t)}}},e.isI18nStr=k,e.isString=void 0,e.normalizeLocale=b,e.parseI18nJson=function t(e,i,a){C||(C=new d);return T(e,(function(e,n){var r=e[n];$(r)?k(r,a)&&(e[n]=D(r,i,a)):t(r,i,a)})),e},e.resolveLocale=function(t){return function(e){return e?(e=b(e)||e,function(t){var e=[],i=t.split("-");while(i.length)e.push(i.join("-")),i.pop();return e}(e).find((function(e){return t.indexOf(e)>-1}))):e}};var n=a(i("278c")),r=a(i("970b")),s=a(i("5bc3")),o=a(i("7037")),u=Array.isArray,c=function(t){return null!==t&&"object"===(0,o.default)(t)},l=["{","}"],d=function(){function t(){(0,r.default)(this,t),this._caches=Object.create(null)}return(0,s.default)(t,[{key:"interpolate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if(!e)return[t];var a=this._caches[t];return a||(a=p(t,i),this._caches[t]=a),m(a,e)}}]),t}();e.Formatter=d;var f=/^(?:\d)+/,h=/^(?:\w)+/;function p(t,e){var i=(0,n.default)(e,2),a=i[0],r=i[1],s=[],o=0,u="";while(o<t.length){var c=t[o++];if(c===a){u&&s.push({type:"text",value:u}),u="";var l="";c=t[o++];while(void 0!==c&&c!==r)l+=c,c=t[o++];var d=c===r,p=f.test(l)?"list":d&&h.test(l)?"named":"unknown";s.push({value:l,type:p})}else u+=c}return u&&s.push({type:"text",value:u}),s}function m(t,e){var i=[],a=0,n=u(e)?"list":c(e)?"named":"unknown";if("unknown"===n)return i;while(a<t.length){var r=t[a];switch(r.type){case"text":i.push(r.value);break;case"list":i.push(e[parseInt(r.value,10)]);break;case"named":"named"===n&&i.push(e[r.value]);break;case"unknown":0;break}a++}return i}e.LOCALE_ZH_HANS="zh-Hans";e.LOCALE_ZH_HANT="zh-Hant";e.LOCALE_EN="en";e.LOCALE_FR="fr";e.LOCALE_ES="es";var g=Object.prototype.hasOwnProperty,_=function(t,e){return g.call(t,e)},v=new d;function b(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),0===t.indexOf("zh"))return t.indexOf("-hans")>-1?"zh-Hans":t.indexOf("-hant")>-1||function(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}(t,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var i=function(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}(t,["en","fr","es"]);return i||void 0}}var y=function(){function t(e){var i=e.locale,a=e.fallbackLocale,n=e.messages,s=e.watcher,o=e.formater;(0,r.default)(this,t),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],a&&(this.fallbackLocale=a),this.formater=o||v,this.messages=n||{},this.setLocale(i||"en"),s&&this.watchLocale(s)}return(0,s.default)(t,[{key:"setLocale",value:function(t){var e=this,i=this.locale;this.locale=b(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(t){t(e.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,i=this.watchers.push(t)-1;return function(){e.watchers.splice(i,1)}}},{key:"add",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.messages[t];a?i?Object.assign(a,e):Object.keys(e).forEach((function(t){_(a,t)||(a[t]=e[t])})):this.messages[t]=e}},{key:"f",value:function(t,e,i){return this.formater.interpolate(t,e,i).join("")}},{key:"t",value:function(t,e,i){var a=this.message;return"string"===typeof e?(e=b(e,this.messages),e&&(a=this.messages[e])):i=e,_(a,t)?this.formater.interpolate(a[t],i).join(""):t}}]),t}();function x(t,e){t.$watchLocale?t.$watchLocale((function(t){e.setLocale(t)})):t.$watch((function(){return t.$locale}),(function(t){e.setLocale(t)}))}function w(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof t&&t.getLocale?t.getLocale():"en"}e.I18n=y;var C,$=function(t){return"string"===typeof t};function k(t,e){return t.indexOf(e[0])>-1}function D(t,e,i){return C.interpolate(t,e,i).join("")}function S(t,e,i){return T(t,(function(t,a){(function(t,e,i,a){var n=t[e];if($(n)){if(k(n,a)&&(t[e]=D(n,i[0].values,a),i.length>1)){var r=t[e+"Locales"]={};i.forEach((function(t){r[t.locale]=D(n,t.values,a)}))}}else S(n,i,a)})(t,a,e,i)})),t}function T(t,e){if(u(t)){for(var i=0;i<t.length;i++)if(e(t,i))return!0}else if(c(t))for(var a in t)if(e(t,a))return!0;return!1}e.isString=$}).call(this,i("c8ba"))},3801:function(t,e,i){"use strict";i.r(e);var a=i("d3fc"),n=i("48cc");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},3942:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-select",mixins:[t.mixinDatacom||{}],data:function(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[]}},props:{localdata:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},emptyTips:{type:String,default:"\u65e0\u9009\u9879"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0},disabled:{type:Boolean,default:!1},format:{type:String,default:""}},created:function(){this.last="".concat(this.collection,"_last_selected_option_value"),this.collection&&!this.localdata.length&&this.query()},computed:{typePlaceholder:function(){var t=this.placeholder,e={"opendb-stat-app-versions":"\u7248\u672c","opendb-app-channels":"\u6e20\u9053","opendb-app-list":"\u5e94\u7528"}[this.collection];return e?t+e:t}},watch:{localdata:{immediate:!0,handler:function(t,e){Array.isArray(t)&&e!==t&&(this.mixinDatacomResData=t)}},value:function(){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler:function(t){t.length&&this.initDefVal()}}},methods:{query:function(){this.mixinDatacomEasyGet()},onMixinDatacomPropsChange:function(){this.query()},initDefVal:function(){var t="";if(!this.value&&0!==this.value||this.isDisabled(this.value))if(!this.modelValue&&0!==this.modelValue||this.isDisabled(this.modelValue)){var e;if(this.collection&&(e=uni.getStorageSync(this.last)),e||0===e)t=e;else{var i="";this.defItem>0&&this.defItem<=this.mixinDatacomResData.length&&(i=this.mixinDatacomResData[this.defItem-1].value),t=i}(t||0===t)&&this.emit(t)}else t=this.modelValue;else t=this.value;var a=this.mixinDatacomResData.find((function(e){return e.value===t}));this.current=a?this.formatItemName(a):""},isDisabled:function(t){var e=!1;return this.mixinDatacomResData.forEach((function(i){i.value===t&&(e=i.disable)})),e},clearVal:function(){this.emit(""),this.collection&&uni.removeStorageSync(this.last)},change:function(t){t.disable||(this.showSelector=!1,this.current=this.formatItemName(t),this.emit(t.value))},emit:function(t){this.$emit("change",t),this.$emit("input",t),this.$emit("update:modelValue",t),this.collection&&uni.setStorageSync(this.last,t)},toggleSelector:function(){this.disabled||(this.showSelector=!this.showSelector)},formatItemName:function(t){var e=t.text,i=t.value,a=t.channel_code;if(a=a?"(".concat(a,")"):"",this.format){var n="";for(var r in n=this.format,t)n=n.replace(new RegExp("{".concat(r,"}"),"g"),t[r]);return n}return this.collection.indexOf("app-list")>0?"".concat(e,"(").concat(i,")"):e||"\u672a\u547d\u540d".concat(a)}}};e.default=i}).call(this,i("a9ff")["default"])},3962:function(t,e,i){"use strict";i.r(e);var a=i("adb2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3a47":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-window"),attrs:{_i:0}},[i("top-window",{staticClass:t._$s(1,"sc","fix-window-top"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","fix-window-button"),attrs:{_i:2},on:{click:t.tiggerWindow}}),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(3,"v-show",t.visible),expression:"_$s(3,'v-show',visible)"}],staticClass:t._$s(3,"sc","fix-window--mask"),attrs:{_i:3},on:{click:t.tiggerWindow}}),i("left-window",{directives:[{name:"show",rawName:"v-show",value:t._$s(4,"v-show",t.visible),expression:"_$s(4,'v-show',visible)"}],staticClass:t._$s(4,"sc","fix-window--popup"),attrs:{_i:4}})],1)},n=[]},"3a9b":function(t,e,i){"use strict";i.r(e);var a=i("3a47"),n=i("5ebd");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3aea":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-forms"),attrs:{_i:0}},[e("form",[this._t("default",null,{_i:2})],2)])},n=[]},"3b1a":function(t,e,i){"use strict";var a=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.initUniIdPageStore=function(t){t.prototype.$uniIdPagesStore=n};var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!==typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=s?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}n.default=t,i&&i.set(t,n);return n}(i("f7f2"));function r(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}},"3b6e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},"3ba0":function(t,e,i){"use strict";i.r(e);var a=i("4788"),n=i("6887");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3bcb":function(t,e,i){"use strict";i.r(e);var a=i("7f05"),n=i("5a50");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3bcd":function(t,e,i){"use strict";i.r(e);var a=i("e0b0"),n=i("ef40");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3c36":function(t,e,i){"use strict";i.r(e);var a=i("1bb3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3c69":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIdPagesAvatar:i("23f4").default,uniList:i("10ff").default,uniListItem:i("8f28").default,uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default,uniIdPagesBindMobile:i("ba0e").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","avatar"),attrs:{_i:1}},[i("uni-id-pages-avatar",{attrs:{width:"260rpx",height:"260rpx",_i:2}})],1),i("uni-list",{attrs:{_i:3}},[i("uni-list-item",{staticClass:t._$s(4,"sc","item"),attrs:{title:"\u6635\u79f0",rightText:t.userInfo.nickname||"\u672a\u8bbe\u7f6e",link:!0,_i:4},on:{click:function(e){return t.setNickname("")}}}),i("uni-list-item",{staticClass:t._$s(5,"sc","item"),attrs:{title:"\u624b\u673a\u53f7",rightText:t.userInfo.mobile||"\u672a\u7ed1\u5b9a",link:!0,_i:5},on:{click:t.bindMobile}}),t._$s(6,"i",t.userInfo.email)?i("uni-list-item",{staticClass:t._$s(6,"sc","item"),attrs:{title:"\u7535\u5b50\u90ae\u7bb1",rightText:t.userInfo.email,_i:6}}):t._e(),t._$s(7,"i",t.hasPwd)?i("uni-list-item",{staticClass:t._$s(7,"sc","item"),attrs:{title:"\u4fee\u6539\u5bc6\u7801",link:!0,_i:7},on:{click:t.changePassword}}):t._e()],1),i("uni-list",{staticClass:t._$s(8,"sc","mt10"),attrs:{_i:8}},[i("uni-list-item",{attrs:{title:"\u6ce8\u9500\u8d26\u53f7",link:"navigateTo",_i:9},on:{click:t.deactivate}})],1),i("uni-popup",{ref:"dialog",attrs:{type:"dialog",_i:10}},[i("uni-popup-dialog",{attrs:{mode:"input",value:t.userInfo.nickname,title:"\u8bbe\u7f6e\u6635\u79f0",placeholder:"\u8bf7\u8f93\u5165\u8981\u8bbe\u7f6e\u7684\u6635\u79f0",_i:11},on:{confirm:t.setNickname}})],1),i("uni-id-pages-bind-mobile",{ref:"bind-mobile-by-sms",attrs:{_i:12},on:{success:t.bindMobileSuccess}}),t._$s(13,"i",t.showLoginManage)?[t._$s(14,"i",t.userInfo._id)?i("button",{attrs:{_i:14},on:{click:t.logout}}):i("button",{attrs:{_i:15},on:{click:t.login}})]:t._e()],2)},r=[]},"3c8a":function(t,e,i){"use strict";i.r(e);var a=i("4d00"),n=i("8384");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3c96":function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"3ca6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={methods:{getParentAll:function(t,e){e=this.getParent("uni".concat(t),e),e&&(this.rootMenu[t].push(e),this.getParentAll(t,e))},getParent:function(t,e,i){e=e.$parent;var a=e.$options.name;while(a!==t){if(e=e.$parent,!e)return!1;a=e.$options.name}return e}}}},"3d28":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTooltip:i("902a").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--tab-x"),attrs:{_i:0}},[t._$s(1,"i",t.label)?i("view",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),i("view",{staticClass:t._$s(2,"sc","uni-stat--tab"),attrs:{_i:2}},[t._$s(3,"i",!t.renderTabs.length)?i("view",{staticClass:t._$s(3,"sc","uni-stat--tab-item uni-stat--tab-item-disabled"),class:t._$s(3,"c",["uni-stat--tab-item-"+t.type]),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.placeholder)))]):t._l(t._$s(4,"f",{forItems:t.renderTabs}),(function(e,a,n,r){return i("view",{key:t._$s(4,"f",{forIndex:n,key:a}),staticClass:t._$s("4-"+r,"sc","uni-stat--tab-item"),class:t._$s("4-"+r,"c",[a===t.currentTab?"uni-stat--tab-item-"+t.type+"-active":"","uni-stat--tab-item-"+t.type,e.disabled?"uni-stat--tab-item-disabled":""]),attrs:{_i:"4-"+r},on:{click:function(i){return t.change(e,a)}}},[i("uni-tooltip",{attrs:{_i:"5-"+r},scopedSlots:t._u([t._$s("7-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("8-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"8-"+r+"-"+s}},[t._v(n._$s("8-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("5-"+r,"t0-0",t._s(e.name))),t._$s("6-"+r,"i",e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"6-"+r}}):t._e()],1)],1)}))],2)])},r=[]},"3d72":function(t,e,i){"use strict";i.r(e);var a=i("53b8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3d9b":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[this._$s(1,"i",this.url)?e("web-view",{attrs:{src:this._$s(1,"a-src",this.url),_i:1}}):this._e()])},n=[]},"3e75":function(t,e,i){"use strict";i.r(e);var a=i("146f"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3e8f":function(t,e){},"3ebc":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("a431"),n=i("10b5"),r=i("4ff3"),s=i("bba3"),o=i("8afa"),u=i("3598"),c=i("3b1a"),l={install:function(t){(0,a.initUtil)(t),(0,n.initError)(t),(0,c.initUniIdPageStore)(t),(0,r.initRequest)(t),(0,s.initFetch)(t),(0,o.initPermission)(t),(0,u.initInterceptor)()}};e.default=l},"3ee3":function(t,e,i){"use strict";i.r(e);var a=i("e248"),n=i("86d4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3eef":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniNoticeBar:i("b44d").default,uniStatTabs:i("e98e").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[t._$s(6,"i",t.showAddAppId)?i("uni-notice-bar",{staticClass:t._$s(6,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u68c0\u6d4b\u5230\u60a8\u8fd8\u672a\u6dfb\u52a0\u5e94\u7528\uff0c\u70b9\u51fb\u524d\u5f80\u5e94\u7528\u7ba1\u7406\u6dfb\u52a0",_i:6},on:{click:t.toAddAppId}}):t._e(),t._$s(7,"i",!t.deviceTableData.length&&!t.userTableData.length&&!t.query.platform_id&&t.complete)?i("uni-notice-bar",{staticClass:t._$s(7,"sc","mb-m pointer"),attrs:{showGetMore:!0,showIcon:!0,text:"\u6682\u65e0\u6570\u636e, \u7edf\u8ba1\u76f8\u5173\u529f\u80fd\u9700\u5f00\u901a uni \u7edf\u8ba1\u540e\u624d\u80fd\u4f7f\u7528, \u5982\u672a\u5f00\u901a, \u70b9\u51fb\u67e5\u770b\u5177\u4f53\u6d41\u7a0b",_i:7},on:{click:function(e){return t.navTo("https://uniapp.dcloud.io/uni-stat-v2.html")}}}):t._e(),i("view",{staticClass:t._$s(8,"sc","uni-stat--x mb-m"),attrs:{_i:8}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:9},model:{value:t._$s(9,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-stat--x p-m"),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","uni-stat-card-header"),attrs:{_i:11}}),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:12}},[i("uni-tr",{attrs:{_i:13}},[t._l(t._$s(14,"f",{forItems:t.deviceTableFields}),(function(e,a,n,r){return[t._$s("15-"+r,"i",e.title)?i("uni-th",{key:t._$s(14,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(16,"f",{forItems:t.deviceTableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(16,"f",{forIndex:n,key:a}),attrs:{_i:"16-"+r}},[t._l(t._$s("17-"+r,"f",{forItems:t.deviceTableFields}),(function(a,n,s,o){return[t._$s("18-"+r+"-"+o,"i","appid"===a.field)?i("uni-td",{key:t._$s("17-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_0"}),attrs:{align:"center",_i:"18-"+r+"-"+o}},[t._$s("19-"+r+"-"+o,"i",e.appid)?i("view",{staticClass:t._$s("19-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"19-"+r+"-"+o},on:{click:function(i){return t.navTo("/pages/uni-stat/device/overview/overview",e.appid)}}},[t._v(t._$s("19-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))]):i("view",{staticClass:t._$s("20-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"20-"+r+"-"+o},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):i("uni-td",{key:t._$s("17-"+r,"f",{forIndex:s,keyIndex:-1,key:n}),attrs:{align:"center",_i:"21-"+r+"-"+o}},[t._v(t._$s("21-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]}))],2)}))],2)],1),i("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[i("view",{staticClass:t._$s(23,"sc","uni-stat-card-header"),attrs:{_i:23}}),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:24}},[i("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.userTableFields}),(function(e,a,n,r){return[t._$s("27-"+r,"i",e.title)?i("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"27-"+r}},[t._v(t._$s("27-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(28,"f",{forItems:t.userTableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(28,"f",{forIndex:n,key:a}),attrs:{_i:"28-"+r}},[t._l(t._$s("29-"+r,"f",{forItems:t.userTableFields}),(function(a,n,s,o){return[t._$s("30-"+r+"-"+o,"i","appid"===a.field)?i("uni-td",{key:t._$s("29-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_0"}),attrs:{align:"center",_i:"30-"+r+"-"+o}},[t._$s("31-"+r+"-"+o,"i",e.appid)?i("view",{staticClass:t._$s("31-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"31-"+r+"-"+o},on:{click:function(i){return t.navTo("/pages/uni-stat/user/overview/overview",e.appid)}}},[t._v(t._$s("31-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))]):i("view",{staticClass:t._$s("32-"+r+"-"+o,"sc","link-btn-color"),attrs:{_i:"32-"+r+"-"+o},on:{click:function(e){return t.navTo("/pages/system/app/add")}}})]):i("uni-td",{key:t._$s("29-"+r,"f",{forIndex:s,keyIndex:-1,key:n}),attrs:{align:"center",_i:"33-"+r+"-"+o}},[t._v(t._$s("33-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]}))],2)}))],2)],1)],1),i("fix-window",{attrs:{_i:34}})],1)},r=[]},"3f09":function(t,e,i){"use strict";i.r(e);var a=i("8b13"),n=i("77eb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"3f4f":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},onLoad:function(){},methods:{cancel:function(){uni.navigateBack()},nextStep:function(){uni.showModal({content:"\u5df2\u7ecf\u4ed4\u7ec6\u9605\u8bfb\u6ce8\u9500\u63d0\u793a\uff0c\u77e5\u6653\u53ef\u80fd\u5e26\u6765\u7684\u540e\u679c\uff0c\u5e76\u786e\u8ba4\u8981\u6ce8\u9500",complete:function(e){if(e.confirm){t.database();var i=t.importObject("uni-id-co");i.closeAccount().then((function(t){uni.showToast({title:"\u6ce8\u9500\u6210\u529f",duration:3e3}),uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"})}))}else uni.navigateBack()}})}}};e.default=i}).call(this,i("a9ff")["default"])},"3f6b":function(t,e,i){"use strict";i.r(e);var a=i("a683"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3fc0":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),s=i("06ce"),o=n(i("e42e"));function u(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var l={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:o.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabIndex:0,errorMessage:""}},computed:{chartTabs:function(){var t=[];return o.default.forEach((function(e){var i=e.field,a=e.title,n=e.hasOwnProperty("value");i&&a&&n&&t.push({_id:i,name:a})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,s.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],i=t[1],a=i-e>=864e5;return a},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,s.getTimeOfSomeDayAgo)(t),a=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,i){this.tabIndex=e,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var r=this.query.dimension,c=t.database();c.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.default,a),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default,a)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,c=(e.count,e.data),l={categories:[],series:[{name:n,data:[]}]},d=o.default.filter((function(t){return t.field===a}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,h=u(c);try{for(h.s();!(f=h.n()).done;){var p=f.value;(0,s.mapfields)(d,p,p);var m=(0,s.formatDate)(p.start_time,r),g=p[a];l.series[0].data.push(g),l.categories.push(m)}}catch(_){h.e(_)}finally{h.f()}i.chartData=l})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this,a=this.options.pageCurrent;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var n=t.database();n.collection(this.tableName).where(e).field((0,s.stringifyField)(o.default)).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default)).orderBy("start_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,a=t.result,n=a.count,r=a.data,c=u(r);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=l.start_time;if(d){var f=i.query.dimension;l.start_time=(0,s.formatDate)(d,f)}(0,s.mapfields)(o.default,l,l)}}catch(h){c.e(h)}finally{c.f()}i.tableData=[],i.options.total=n,i.tableData=r})).catch((function(t){})).finally((function(){i.loading=!1}))},getPanelData:function(){var e=this,i=JSON.parse(JSON.stringify(this.query));i.dimension="day";var a=(0,s.stringifyQuery)(i,!1,["uni_platform"]),n=t.database();n.collection(this.tableName).where(a).field("".concat((0,s.stringifyField)(o.default),",stat_date")).groupBy("appid").groupField((0,s.stringifyGroupField)(o.default)).orderBy("stat_date","desc").get().then((function(t){var a=t.result.data[0];a&&(a.total_devices=0),s.getFieldTotal.call(e,i),e.panelData=[],e.panelData=(0,s.mapfields)(o.default,a)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=l}).call(this,i("a9ff")["default"],i("0de9")["default"])},4082:function(t,e,i){var a=i("f0e4");t.exports=function(t,e){if(null==t)return{};var i,n,r=a(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r},t.exports.__esModule=!0,t.exports["default"]=t.exports},"41a9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],n={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","mount","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997c\u72b6\u56fe","\u5706\u73af\u56fe","\u73ab\u7470\u56fe","\u8bcd\u4e91\u56fe","\u6f0f\u6597\u56fe","\u5730\u56fe","\u5706\u5f27\u8fdb\u5ea6\u6761","\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u5c71\u5cf0\u56fe","\u6761\u72b6\u56fe","\u533a\u57df\u56fe","\u96f7\u8fbe\u56fe","\u4eea\u8868\u76d8","K\u7ebf\u56fe","\u6df7\u5408\u56fe","\u65f6\u95f4\u8f74\u6298\u7ebf","\u65f6\u95f4\u8f74\u533a\u57df","\u6563\u70b9\u56fe","\u6c14\u6ce1\u56fe","\u81ea\u5b9a\u4e49\u7c7b\u578b"],categories:["line","column","mount","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(t,e,i){return t+"\u5143"},yAxisDemo2:function(t,e,i){return t.toFixed(2)},xAxisDemo1:function(t,e,i){return t+"\u5e74"},xAxisDemo2:function(t,e,i){return function(t,e){var i=new Date;i.setTime(1e3*t);var a=i.getFullYear(),n=i.getMonth()+1;n=n<10?"0"+n:n;var r=i.getDate();r=r<10?"0"+r:r;var s=i.getHours();s=s<10?"0"+s:s;var o=i.getMinutes(),u=i.getSeconds();return o=o<10?"0"+o:o,u=u<10?"0"+u:u,"full"==e?a+"-"+n+"-"+r+" "+s+":"+o+":"+u:"y-m-d"==e?a+"-"+n+"-"+r:"h:m"==e?s+":"+o:"h:m:s"==e?s+":"+o+":"+u:[a,n,r,s,o,u]}(t,"h:m")},seriesDemo1:function(t,e,i,a){return t+"\u5143"},tooltipDemo1:function(t,e,i,a){return 0==i?"\u968f\u4fbf\u7528"+t.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+t.data+"\u5929"},pieDemo:function(t,e,i,a){if(void 0!==e)return i[e].name+"\uff1a"+i[e].data+"\u5143"}},demotype:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:a,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:a,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76ca\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:a,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:a,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:a,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:a,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:a,title:{name:"\u767e\u5206\u6bd4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ed8\u8ba4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2,activeType:"hollow"}}},tline:{type:"line",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2,activeType:"hollow"}}},tarea:{type:"area",color:a,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0,activeType:"hollow"}}},column:{type:"column",color:a,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}},mount:{type:"mount",color:a,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{mount:{type:"mount",widthRatio:1.5}}},bar:{type:"bar",color:a,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1,activeType:"hollow"}}},radar:{type:"radar",color:a,padding:[5,5,5,5],dataLabel:!1,legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200,labelShow:!0}}},gauge:{type:"gauge",color:a,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5b9e\u65f6\u901f\u5ea6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:a,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:a,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:a,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}},r=n;e.default=r},"41e9":function(t,e,i){"use strict";i.r(e);var a=i("d9b8"),n=i("33ac");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,a="/";e.cwd=function(){return a},e.chdir=function(e){t||(t=i("df7c")),a=t.resolve(e,a)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43da":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-breadcrumb"),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},"43ea":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-tooltip"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.content||t.$slots.content)?i("view",{staticClass:t._$s(2,"sc","uni-tooltip-popup"),attrs:{_i:2}},[t._t("content",[t._v(t._$s(3,"t0-0",t._s(t.content)))],{_i:3})],2):t._e()],2)},n=[]},4458:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("f23c"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_users",fields:[{_id:"visit_users",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[],errorMessage:""}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",i=t.length,a=this.options[e].prefix,n=this.options[e].value,r=n.map((function(n){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(a+"_"+n,") as ").concat(i>1?t+"_"+a+"_"+n:a+"_"+n)}))})),s=r.join();return s},parseChars:function(t){t=t.split("_");var e=this.options[this.type],i=e.title;e.value.forEach((function(a,n){var r=e.value[n+1];a===Number(t[t.length-1])&&(i=r?a+1===r?a+i:a+"-"+(r-1)+i:a+"+"+i)}));return i},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===i.field})).name;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.createStr([a],this.type),s=t.database();s.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(n).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data);a=a[0];var n={series:[{data:[]}]};for(var r in a)if("appid"!==r){var s=i.parseChars(r),o=a[r];n.series[0].data.push({name:s,value:o})}i.chartData=n})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var a=this.createStr(["visit_users","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===i.type})).name,this.loading=!0;var n=t.database();n.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(a).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data),n=i.type,u=[],c=i.options[n].prefix;c="_".concat(c,"_");var l,d=o(a);try{for(d.s();!(l=d.n()).done;){var f=l.value;for(var h in f)if("appid"!==h){var p={},m=h.split(c);p.name=m[1],p[m[0]]=f[h],u.push(p)}}}catch($){d.e($)}finally{d.f()}var g=[],_={},v=function(t,e){return t+e},b=u.filter((function(t){return t.visit_users})).map((function(t){return t.visit_users}));b=b.length?b.reduce(v):0;var y=u.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));y=y.length?y.reduce(v):0,_.visit_times=y,_.visit_users=b,i.options[n].value.forEach((function(t){var e={};e.name=t+"p",u.forEach((function(i){if(Number(i.name)===t)for(var a in i)a!==name&&(e[a]=i[a],e["total_"+a]=_[a])})),e.name=i.parseChars(String(t)),g.push(e)}));for(var x=0,w=g;x<w.length;x++){var C=w[x];(0,r.mapfields)(s.default,C,C)}i.tableData=[],i.tableData=g})).catch((function(t){})).finally((function(){i.loading=!1}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"448a":function(t,e,i){var a=i("2236"),n=i("11b0"),r=i("6613"),s=i("0676");t.exports=function(t){return a(t)||n(t)||r(t)||s()},t.exports.__esModule=!0,t.exports["default"]=t.exports},4552:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsMap=void 0;e.fieldsMap=[{title:"\u62a5\u9519\u65f6\u95f4",field:"create_time",tooltip:"",formatter:"",filter:"timestamp"},{title:"\u9519\u8bef\u4fe1\u606f",field:"error_msg",formatter:"",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u5305\u540d",field:"package_name",formatter:"",filter:"search"},{title:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e94\u7528\u7248\u672c\u53f7",field:"version",formatter:"",tooltip:"manifest.json\u4e2d\u7684versionName\u7684\u503c",filter:"search"},{title:"\u5e73\u53f0",field:"platform",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u5e73\u53f0code",filter:"search"},{title:"\u6e20\u9053",field:"channel",formatter:"",tooltip:"\u7528\u6237\u7aef\u4e0a\u62a5\u7684\u6e20\u9053code\u573a\u666f\u503c",filter:"search"},{title:"\u57fa\u7840\u5e93\u7248\u672c\u53f7",field:"sdk_version",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",formatter:"",tooltip:"\u5ba2\u6237\u7aef\u643a\u5e26\u7684\u8bbe\u5907\u6807\u8bc6",filter:"search"},{title:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7",field:"device_net",formatter:"",tooltip:"\u8bbe\u5907\u7f51\u7edc\u578b\u53f7wifi/3G/4G/",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c",field:"device_os",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e3a\u7cfb\u7edf\u7248\u672c\u53f7\uff0c\u598215.1\uff1bAndroid\u5e73\u53f0\u4e3aAPI\u7b49\u7ea7\uff0c\u598230",filter:"search"},{title:"\u7cfb\u7edf\u7248\u672c\u540d\u79f0",field:"device_os_version",formatter:"",tooltip:"iOS\u5e73\u53f0\u4e0eos\u5b57\u6bb5\u4e00\u81f4\uff1bAndroid\u5e73\u53f0\u4e3a\u7248\u672c\u540d\u79f0\uff0c\u59825.1.1",filter:"search"},{title:"\u8bbe\u5907\u4f9b\u5e94\u5546",field:"device_vendor",formatter:"",tooltip:"",filter:"search"},{title:"\u8bbe\u5907\u578b\u53f7",field:"device_model",formatter:"",tooltip:"",filter:"search"},{title:"\u662f\u5426root",field:"device_is_root",formatter:"",tooltip:"1\u8868\u793aroot\uff1b0\u8868\u793a\u672aroot",filter:"range"},{title:"\u7cfb\u7edf\u540d\u79f0",field:"device_os_name",formatter:"",tooltip:"\u7528\u4e8e\u533a\u522bAndroid\u548c\u9e3f\u8499\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8bbe\u5907\u7535\u6c60\u7535\u91cf",field:"device_batt_level",formatter:"",tooltip:"\u53d6\u503c\u8303\u56f40-100\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7535\u6c60\u6e29\u5ea6",field:"device_batt_temp",formatter:"",tooltip:"\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u7cfb\u7edf\u5df2\u4f7f\u7528\u5185\u5b58",field:"device_memory_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u603b\u5185\u5b58",field:"device_memory_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u5df2\u4f7f\u7528\u5927\u5c0f",field:"device_disk_use_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u7cfb\u7edf\u78c1\u76d8\u603b\u5927\u5c0f",field:"device_disk_total_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte\uff0c\u4ec5Android\u652f\u6301",filter:"range"},{title:"\u8bbe\u5907\u652f\u6301\u7684CPU\u67b6\u6784",field:"device_abis",formatter:"",tooltip:"\u591a\u4e2a\u4f7f\u7528,\u5206\u5272\uff0c\u5982arm64-v8a,armeabi-v7a,armeabi\uff0c\u4ec5Android\u652f\u6301",filter:"search"},{title:"\u8fd0\u884c\u7684app\u4e2a\u6570",field:"app_count",formatter:"",tooltip:"\u5305\u62ec\u8fd0\u884c\u7684uni\u5c0f\u7a0b\u5e8f\u6570\u76ee\uff0c\u72ec\u7acbApp\u65f6\u503c\u4e3a1",filter:"range"},{title:"APP\u4f7f\u7528\u7684\u5185\u5b58\u91cf",field:"app_use_memory_size",formatter:"",tooltip:"\u5355\u4f4d\u4e3aByte",filter:"range"},{title:"\u8fd0\u884c\u5e94\u7528\u7684\u4e2a\u6570",field:"app_count",formatter:"",filter:"range"},{title:"\u6253\u5f00 Webview \u7684\u4e2a\u6570",field:"app_webview_count",formatter:"",filter:"range"},{title:"APP\u4f7f\u7528\u65f6\u957f",field:"app_use_duration",formatter:"",tooltip:"\u5355\u4f4d\u4e3as",filter:"range"},{title:"\u662f\u5426\u524d\u53f0\u8fd0\u884c",field:"app_run_fore",formatter:"",tooltip:"1\u8868\u793a\u524d\u53f0\u8fd0\u884c\uff0c0\u8868\u793a\u540e\u53f0\u8fd0\u884c",filter:"search"},{title:"\u539f\u751f\u5e94\u7528\u7248\u672c\u540d\u79f0",field:"package_version",formatter:"",tooltip:"Android\u7684apk\u7248\u672c\u540d\u79f0\uff1biOS\u7684ipa\u7248\u672c\u540d\u79f0",filter:"search"},{title:"\u9875\u9762url",field:"page_url",formatter:"",filter:"search"}]},"458c":function(t,e,i){"use strict";i.r(e);var a=i("c0f9"),n=i("2a84");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"464b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniCaptcha:i("d45f").default,uniIdPagesAgreements:i("047a").default,uniIdPagesFabLogin:i("8d3f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[i("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),i("text",{staticClass:t._$s(3,"sc","title title-box"),attrs:{_i:3}}),i("uni-forms",{attrs:{_i:4}},[i("uni-forms-item",{attrs:{name:"username",_i:5}},[i("uni-easyinput",{staticClass:t._$s(6,"sc","input-box"),attrs:{focus:t.focusUsername,inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u7528\u6237\u540d/\u90ae\u7bb1",_i:6},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(6,"v-model",t.username),callback:function(e){t.username=e},expression:"username"}})],1),i("uni-forms-item",{attrs:{name:"password",_i:7}},[i("uni-easyinput",{staticClass:t._$s(8,"sc","input-box"),attrs:{focus:t.focusPassword,clearable:!0,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",_i:8},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(8,"v-model",t.password),callback:function(e){t.password=e},expression:"password"}})],1)],1),t._$s(9,"i",t.needCaptcha)?i("uni-captcha",{ref:"captcha",attrs:{focus:!0,scene:"login-by-pwd",_i:9},model:{value:t._$s(9,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}):t._e(),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"login",_i:10}}),i("button",{staticClass:t._$s(11,"sc","uni-btn"),attrs:{_i:11},on:{click:t.pwdLogin}}),i("view",{staticClass:t._$s(12,"sc","link-box"),attrs:{_i:12}},[t._$s(13,"i",!t.config.isAdmin)?i("view",[i("text",{staticClass:t._$s(14,"sc","forget"),attrs:{_i:14}}),i("text",{staticClass:t._$s(15,"sc","link"),attrs:{_i:15},on:{click:t.toRetrievePwd}})]):t._e(),t._e()]),i("uni-id-pages-fab-login",{ref:"uniFabLogin",attrs:{_i:17}})],1)},r=[]},"46b7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniCaptcha:i("d45f").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-captcha",{ref:"captcha",attrs:{focus:t.focusCaptchaInput,scene:"send-email-code",_i:1},model:{value:t._$s(1,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}),i("view",{staticClass:t._$s(2,"sc","box"),attrs:{_i:2}},[i("uni-easyinput",{staticClass:t._$s(3,"sc","input-box"),attrs:{focus:t.focusEmailCodeInput,type:"number",inputBorder:!1,maxlength:"6",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801",_i:3},on:{blur:function(e){t.focusEmailCodeInput=!1}},model:{value:t._$s(3,"v-model",t.modelValue),callback:function(e){t.modelValue=e},expression:"modelValue"}}),i("view",{staticClass:t._$s(4,"sc","short-code-btn"),attrs:{_i:4},on:{click:t.start}},[i("text",{staticClass:t._$s(5,"sc","inner-text"),class:t._$s(5,"c",0==t.reverseNumber?"inner-text-active":""),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.innerText)))])])],1)],1)},r=[]},"46c2":function(t,e,i){"use strict";i.r(e);var a=i("710c"),n=i("3465");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"470a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{content:String,top:{type:[Number,String],default:-60},left:{type:[Number,String],default:-100},width:{type:[Number,String],default:200}},data:function(){return{showStableInfo:!1,arrowStyle:{}}},methods:{mouseenter:function(t){this.showStableInfo=!0}}};e.default=a},4723:function(t,e,i){"use strict";i.r(e);var a=i("0789"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},4788:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","chartsview"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","charts-error"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","charts-font"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(null==t.errorMessage?"\u8bf7\u70b9\u51fb\u91cd\u8bd5":t.errorMessage)))])])},n=[]},4875:function(t,e,i){"use strict";i.r(e);var a=i("9d54"),n=i("65be");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"48cc":function(t,e,i){"use strict";i.r(e);var a=i("df25"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},4915:function(t,e,i){"use strict";i.r(e);var a=i("b3ea"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"499b":function(t,e,i){"use strict";i.r(e);var a=i("bb6a"),n=i("874a");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"4a10":function(t,e,i){"use strict";i.r(e);var a=i("9bfb"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"4a1c":function(t,e,i){"use strict";i.r(e);var a=i("8869"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"4a22":function(t,e,i){"use strict";i.r(e);var a=i("985c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"4a4b":function(t,e){function i(e,a){return t.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e,a)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"4ac2":function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art\ufffd\ufffdculo/P\ufffd\ufffdgina"}')},"4b23":function(t,e,i){"use strict";i.r(e);var a=i("948b"),n=i("87d2");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"4b49":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=a(i("d2f6")),s=a(i("1b03"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),l={mixins:[r.default],data:function(){return{lock:!1,focusEmail:!0,focusPassword:!1,focusPassword2:!1,formData:{email:"",code:"",password:"",password2:"",captcha:""},rules:u({email:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{format:"email",errorMessage:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]},code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"}]}},s.default.getPwdRules()),logo:"/static/logo.png"}},computed:{isEmail:function(){var t=/@/.test(this.formData.email);return t},isPwd:function(){var t=/^.{6,20}$/.test(this.formData.password);return t},isCode:function(){var t=/^\d{6}$/.test(this.formData.code);return t}},onLoad:function(t){t&&t.emailNumber&&(this.formData.email=t.emailNumber,t.lock&&(this.lock=t.lock,this.focusEmail=!0))},onReady:function(){this.formData.email&&this.$refs.shortCode.start(),this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var i=t.formData,a=i.email,n=i.password,r=i.captcha,s=i.code;c.resetPwdByEmail({email:a,code:s,password:n,captcha:r}).then((function(t){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd",complete:function(t){}})})).catch((function(e){"uni-id-captcha-required"==e.errCode&&t.$refs.popup.open()})).finally((function(e){t.formData.captcha=""}))})).catch((function(e){var i=e[0].key;if("code"==i)return t.$refs.shortCode.focusSmsCodeInput=!0;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))},retrieveByPhone:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/retrieve/retrieve"})},backLogin:function(){uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})}}};e.default=l}).call(this,i("a9ff")["default"])},"4c01":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),i("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),i("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[i("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),i("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[i("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"4c4c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.popupFieldsMap=e.fieldsMap=void 0;e.fieldsMap=[{title:"\u6700\u8fd1\u53d1\u751f\u65f6\u95f4",field:"last_time",tooltip:"",formatter:""},{title:"\u9519\u8bef\u6b21\u6570",field:"count",tooltip:"\u76f8\u540c\u9519\u8bef\u5728\u67d0\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u7684\u6b21\u6570"},{title:"\u9519\u8bef\u5360\u6bd4",computed:"count/total_count",field:"count/total_count",formatter:"%",tooltip:"\u67d0\u4e2a\u9519\u8bef\u53d1\u751f\u7684\u6b21\u6570/\u603b\u9519\u8bef\u6570"},{title:"\u5e73\u53f0",field:"platform",formatter:""},{title:"\u5e73\u53f0\u7248\u672c\u53f7",field:"version",tooltip:"\u539f\u751f\u5e73\u53f0\u4e3a\u5ba2\u6237\u7aef SDK \u7248\u672c\u53f7\uff1b\u5c0f\u7a0b\u5e8f\u5e73\u53f0\u4e3a\u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u3001\u767e\u5ea6\u7b49\u5e94\u7528\u7684\u7248\u672c\u53f7",formatter:""},{title:"\u9519\u8bef\u4fe1\u606f",field:"msg",formatter:""}];e.popupFieldsMap=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",formatter:""},{title:"\u5ba2\u6237\u7aef\u64cd\u4f5c\u7cfb\u7edf",field:"os",formatter:""},{title:"\u5ba2\u6237\u7aef user-agent \u4fe1\u606f",field:"ua",formatter:""}]},"4d00":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default,uniPopup:i("46c2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","header"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","navbar"),class:t._$s(1,"c",{"navbar-mini":!t.matchLeftWindow,"popup-menu":t.popupMenuOpened}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","navbar-left"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","logo pointer"),attrs:{_i:3},on:{click:t.linkTo}},[i("image",{staticClass:t._$s(4,"sc","logo-image"),attrs:{src:t._$s(4,"a-src",t.logo),_i:4}}),i("text",{staticClass:t._$s(5,"sc","logo-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.appName)))])]),i("uni-icons",{staticClass:t._$s(6,"sc","menu-icon"),attrs:{type:"bars",size:"30",color:"#999",_i:6},on:{click:t.toggleSidebar}})],1),i("view",{staticClass:t._$s(7,"sc","navbar-middle"),attrs:{_i:7}},[i("text",{staticClass:t._$s(8,"sc","title-text"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.navigationBarTitleText)))])]),i("view",{staticClass:t._$s(9,"sc","navbar-right pointer"),attrs:{_i:9}},[i("picker",{staticClass:t._$s(10,"sc","navbar-right-item-gap"),attrs:{range:t._$s(10,"a-range",t.themes),value:t._$s(10,"a-value",t.themeIndex),_i:10},on:{change:t.changeTheme}},[i("uni-icons",{attrs:{type:"color-filled",size:"24",color:"#999",_i:11}})],1),i("picker",{staticClass:t._$s(12,"sc","navbar-right-item-gap"),attrs:{range:t._$s(12,"a-range",t.langs),_i:12},on:{change:t.changeLanguage}},[i("view",{staticClass:t._$s(13,"sc","admin-icons-lang"),attrs:{_i:13}})]),i("view",[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(15,"v-show",t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email),expression:"_$s(15,'v-show',userInfo.nickname || userInfo.username || userInfo.mobile || userInfo.email)"}],staticClass:t._$s(15,"sc","navbar-user"),attrs:{_i:15},on:{click:t.togglePopupMenu}},[i("view",{staticClass:t._$s(16,"sc","admin-icons-user user-icon"),attrs:{_i:16}}),i("view",{staticClass:t._$s(17,"sc","username ml-s"),attrs:{_i:17}},[i("text",[t._v(t._$s(18,"t0-0",t._s(t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email)))])]),i("uni-icons",{staticClass:t._$s(19,"sc","arrowdown"),attrs:{type:"arrowdown",color:"#666",size:"13",_i:19}})],1),i("view",{staticClass:t._$s(20,"sc","uni-mask"),attrs:{_i:20},on:{click:t.togglePopupMenu}}),i("view",{staticClass:t._$s(21,"sc","navbar-menu"),attrs:{_i:21}},[t._$s(22,"i",t.userInfo.nickname||t.userInfo.username||t.userInfo.mobile||t.userInfo.email)?[i("view",{staticClass:t._$s(23,"sc","menu-item hover-highlight"),attrs:{_i:23},on:{click:t.changePassword}},[i("text",[t._v(t._$s(24,"t0-0",t._s(t.$t("topwindow.text.changePwd"))))])]),i("view",{staticClass:t._$s(25,"sc","menu-item hover-highlight"),attrs:{_i:25}},[i("text",{staticClass:t._$s(26,"sc","logout pointer"),attrs:{_i:26},on:{click:t.logout}},[t._v(t._$s(26,"t0-0",t._s(t.$t("topwindow.text.signOut"))))])])]:t._e(),i("view",{staticClass:t._$s(27,"sc","popup-menu__arrow"),attrs:{_i:27}})],2)])])]),i("uni-popup",{ref:"errorLogsPopup",attrs:{type:"center",_i:28}},[i("view",{staticClass:t._$s(29,"sc","modal"),attrs:{_i:29}},[i("scroll-view",{staticClass:t._$s(30,"sc","modal-content"),attrs:{_i:30}},[i("error-log",{staticClass:t._$s(31,"sc","error-table"),attrs:{_i:31}})],1)])])],1)},r=[]},"4d46":function(t,e,i){"use strict";i.r(e);var a=i("5065"),n=i("0dd6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0f7e34c8",null,!1,a["a"],void 0);e["default"]=o.exports},"4d77":function(t,e,i){"use strict";i.r(e);var a=i("a4bf"),n=i("9819");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"4dd6":function(t,e,i){"use strict";i.r(e);var a=i("e5e4"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"4e96":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniIcons:i("3bcb").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[i("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),i("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),i("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:21}})],1)])],1),i("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[i("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[i("uni-icons",{attrs:{type:"info",_i:24}})],1),i("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[i("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("28-"+r,"i",e.title)?i("uni-th",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(29,"f",{forIndex:n,key:a}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return[t._$s("31-"+r+"-"+o,"i",a.title)?i("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),class:t._$s("31-"+r+"-"+o,"c",/[d|w|m]_\d/.test(a.field)&&[e[a.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+o}},[t._v(t._$s("31-"+r+"-"+o,"t0-0",t._s(e[a.field]?e[a.field]:"")))]):t._e()]}))],2)}))],2),i("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("fix-window",{attrs:{_i:34}})],1)},r=[]},"4ea4":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"4ff3":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.initRequest=function(t){t.prototype.$request=o},e.request=o;var n=a(i("4082")),r=(a(i("b9fb")),a(i("097a"))),s=["objectName","functionName","showModal"];r.default.navBar.debug,t.database();function o(e,i,a){var r,o=Object.assign({objectName:"uni-id-co",functionName:"",showModal:!1,customUI:!0,loadingOptions:{title:"xxx"}},a),u=o.objectName,c=o.functionName,l=o.showModal,d=(0,n.default)(o,s);if(c)r=t.callFunction({name:c,data:{action:e,params:i}});else{var f=t.importObject(u,d);r=f[e](i)}return r.then((function(t){return t=c?t.result:t,t&&t.errCode?Promise.reject(t):Promise.resolve(t)})).catch((function(t){return l&&uni.showModal({content:t.errMsg||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1}),Promise.reject(t)}))}}).call(this,i("a9ff")["default"])},"4ffc":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("3ca6")),r={name:"uniSubMenu",mixins:[n.default],props:{index:{type:[String,Object],default:function(){return""}},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#f5f5f5"}},data:function(){return{height:0,oldheight:0,isOpen:!1,textColor:"#303133"}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.subChildrens.findIndex((function(e){return e===t}));this.$menuParent.subChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.childrens=[],this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.textColor=this.$menuParent.textColor,this.$subMenu=this.rootMenu.SubMenu,this.$menuParent&&this.$menuParent.subChildrens.push(this)},select:function(){this.disabled||this.$menuParent.selectMenu(this)},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1}}};e.default=r},"500e":function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9078\u64c7\u65e5\u671f","uni-datetime-picker.selectTime":"\u9078\u64c7\u6642\u9593","uni-datetime-picker.selectDateTime":"\u9078\u64c7\u65e5\u671f\u6642\u9593","uni-datetime-picker.startDate":"\u958b\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7d50\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u958b\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7d50\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u78ba\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u78ba\u8a8d"}')},5065:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading2"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},5077:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,a,n,r){return i("view",{key:t._$s(7,"f",{forIndex:n,key:a}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[i("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(i){return t.setClipboardData("tag",e)}}}),i("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(i){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?i("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},"507c":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),s=i("06ce"),o=i("e527");function u(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var l=o.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),d={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.fieldsMap,resFieldsMap:o.resFieldsMap,entFieldsMap:o.entFieldsMap,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:l,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0,errorMessage:""}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,i=t.pageSizeIndex;return e[i]},chartTabs:function(){var t=[];return o.fieldsMap.forEach((function(e){var i=e.field,a=e.title;i&&a&&t.push({_id:i,name:a})})),t},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i});return a},channelQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=(0,s.stringifyQuery)({appid:e,platform_id:i});return a}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,s.getTimeOfSomeDayAgo)(t),a=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,i){this.tabIndex=e,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],i=t[1],a=i-e>=864e5;return a},getPanelData:function(){var e=this,i=this.query,a=i.appid,n=i.platform_id,r=i.version_id,u=(0,s.stringifyQuery)({appid:a,platform_id:n,version_id:r,start_time:[(0,s.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),c=t.database();c.collection(this.tableName).where(u).field("".concat((0,s.stringifyField)(o.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,s.stringifyGroupField)(o.fieldsMap)).orderBy("stat_date","desc").get().then((function(t){var i=t.result.data,a=i.find((function(t){return t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(0),"","")}))||{};a.total_users=0;var n=i.find((function(t){return"day"===t.dimension&&t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(1),"","")}));e.panelData=[],e.panelData=(0,s.mapfields)(o.fieldsMap,a),e.panelData.map((function(t){(0,s.mapfields)(o.fieldsMap,n,t,"","contrast")})),s.getFieldTotal.call(e,u,"total_users")}))},getChartData:function(e){var i,a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,l=(this.options.pageCurrent,this.currentDateTab),d=(0,s.getTimeOfSomeDayAgo)(l),f=864e5;if(!this.getDays()){var h=d-f,p=d+f-1;e=JSON.parse(JSON.stringify(e)),i=e.start_time=[h,p]}e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var m=t.database();m.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.fieldsMap,n),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.fieldsMap,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,l=(e.count,e.data),f={categories:[],series:[{name:c,data:[]}]},h=o.fieldsMap.filter((function(t){return t.field===n}));if(h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="",a.getDays()){var p,m=u(l);try{for(m.s();!(p=m.n()).done;){var g=p.value;(0,s.mapfields)(h,g,g);var _=(0,s.formatDate)(g.start_time,"day"),v=Number(g[n]);f.series[0].data.push(v),f.categories.push(_)}}catch(b){m.e(b)}finally{m.f()}}else(function(){for(var t=i,e=(0,r.default)(t,2),a=e[0],o=e[1],u=f.series[1]={name:(0,s.formatDate)(a),data:[]},c=f.series[0]={name:(0,s.formatDate)(o),data:[]},p=function(t){var e=t<10?"0"+t:t,i="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(i),u.data[t]=0,c.data[t]=0,l.forEach((function(e){(0,s.mapfields)(h,e,e);var i=Number(e[n]),a=new Date(e.start_time);e.start_time<d?a.getHours()===t&&(u.data[t]=i):a.getHours()===t&&(c.data[t]=i)}))},m=0;m<24;++m)p(m)})();a.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(e){var i=t.database();return i.collection(this.tableName).where(e).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=d}).call(this,i("a9ff")["default"],i("0de9")["default"])},5126:function(t,e,i){"use strict";i.r(e);var a=i("19c2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},5185:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"\u5df2\u81ea\u52a8\u590d\u5236\u7f51\u5740\uff0c\u8bf7\u5728\u624b\u673a\u6d4f\u89c8\u5668\u91cc\u7c98\u8d34\u8be5\u7f51\u5740"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA:function(){return!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created:function(){this._isH5=null},methods:{isMail:function(){return this.href.startsWith("mailto:")},isTel:function(){return this.href.startsWith("tel:")},openURL:function(){this.isTel()?this.makePhoneCall(this.href.replace("tel:","")):plus.runtime.openURL(this.href)},makePhoneCall:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=a},"518f":function(t,e,i){"use strict";i.r(e);var a=i("c360"),n=i("7264");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},5294:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldsMap=void 0;e.fieldsMap=[{title:"\u6d3b\u8dc3\u8bbe\u5907\u6570",field:"activity_device_count",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u8bbf\u95ee\u8bbe\u5907\u6570\uff0c\u4e00\u53f0\u8bbe\u5907\u591a\u6b21\u8bbf\u95ee\u88ab\u8ba1\u4e3a\u4e00\u53f0\uff08\u5305\u542b\u672a\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"},{title:"\u6d3b\u8dc3\u7528\u6237\u6570",field:"activity_user_count",tooltip:"\u6d3b\u8dc3\u7528\u6237\u6570\uff1a\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u8bbf\u95ee\u4eba\u6570\uff0c\u4e00\u4eba\u591a\u6b21\u8bbf\u95ee\u88ab\u8ba1\u4e3a\u4e00\u4eba\uff08\u53ea\u7edf\u8ba1\u5df2\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"},{title:"\u652f\u4ed8\u7528\u6237\u6570",field:"pay_user_count",tooltip:"\u7edf\u8ba1\u65f6\u95f4\u5185\uff0c\u6210\u529f\u652f\u4ed8\u7684\u4eba\u6570\uff08\u4e0d\u5254\u9664\u9000\u6b3e\u8ba2\u5355\uff09\uff08\u53ea\u7edf\u8ba1\u5df2\u767b\u5f55\u7684\u7528\u6237\uff09\u3002",formatter:",",value:0,contrast:0,stat:"sum"}]},"529a":function(t,e,i){"use strict";i.r(e);var a=i("3d9b"),n=i("9710");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"52e9":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a4e3")),r={components:{limeClipper:n.default},data:function(){return{path:"",options:{width:600,height:600}}},onLoad:function(t){var e=t.path,i=t.options;this.path=e,i&&(this.options=JSON.parse(i))},methods:{successFn:function(t){this.getOpenerEventChannel().emit("success",t.url),uni.navigateBack()},cancel:function(){uni.navigateBack()}}};e.default=r},"52fd":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"53b8":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("166a")),r={data:function(){return{icons:n.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var i="uni-icons-"+e;this.tag&&"tag"===t&&(i='<view class="'+i+'"></view>'),uni.setClipboardData({data:i,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+i+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+i+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},"53f4":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),i("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[i("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("20-"+r,"i",e.title)?i("uni-th",{key:t._$s(19,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"20-"+r}},[i("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===a&&e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("24-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+s}},[t._v(n._$s("24-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===a&&e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(25,"f",{forIndex:n,key:a}),attrs:{_i:"25-"+r}},[t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return[t._$s("27-"+r+"-"+o,"i",1===n)?i("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,keyIndex:0,key:a.field+"_"+n+"_0"}),staticClass:t._$s("27-"+r+"-"+o,"sc","uni-stat-edit--x"),attrs:{_i:"27-"+r+"-"+o}},[t._v(t._$s("27-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-"))),i("uni-icons",{staticClass:t._$s("28-"+r+"-"+o,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"28-"+r+"-"+o},on:{click:function(i){return t.inputDialogToggle(e.path,e.title)}}})],1):i("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,keyIndex:-1,key:a.field}),attrs:{align:0===n?"left":"center",_i:"29-"+r+"-"+o}},[t._v(t._$s("29-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]}))],2)}))],2),i("view",{staticClass:t._$s(30,"sc","uni-pagination-box"),attrs:{_i:30}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:31},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),i("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:32}},[i("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:33},on:{confirm:t.editName},model:{value:t._$s(33,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),i("fix-window",{attrs:{_i:34}})],1)},r=[]},5420:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("f904");a(i("074f")),a(i("6630")),a(i("fe49"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database(),c=["username","role.role_name","mobile","email"],l={ascending:"asc",descending:"desc"},d={data:function(){return{collectionList:[u.collection("uni-id-users").field("ali_openid,apple_openid,avatar,avatar_file,comment,dcloud_appid,department_id,email,email_confirmed,gender,invite_time,inviter_uid,last_login_date,last_login_ip,mobile,mobile_confirmed,my_invite_code,nickname,role,score,status,username,wx_unionid,qq_unionid,tags").getTemp(),u.collection("uni-id-roles").field("role_id, role_name").getTemp()],query:"",where:"",orderby:"last_login_date desc",orderByFieldName:"",selectedIndexs:[],pageSizeIndex:0,pageSizeOption:[20,50,100,500],tags:{},managerTags:[],queryTagid:"",queryUserId:"",options:o({pageSize:20,pageCurrent:1,filterData:{status_localdata:[{text:"\u6b63\u5e38",value:0,checked:!0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-users.xls",type:"xls",fields:{"\u7528\u6237\u540d":"username","\u624b\u673a\u53f7\u7801":"mobile","\u7528\u6237\u72b6\u6001":"status","\u90ae\u7bb1":"email","\u89d2\u8272":"role",last_login_date:"last_login_date"}},exportExcelData:[],noAppidWhatShouldIDoLink:"https://uniapp.dcloud.net.cn/uniCloud/uni-id?id=makeup-dcloud-appid"}},onLoad:function(t){this._filter={};var e=t.tagid,i=t.id;if(e){this.queryTagid=e;var a={filterType:"select",filter:[e]};this.filterChange(a,"tags")}if(i){this.queryUserId=i;var n={filterType:"select",filter:[i]};this.filterChange(n,"_id")}},onReady:function(){this.loadTags(),this.queryTagid||this.queryUserId||this.$refs.udb.loadData()},computed:{tagsData:function(){var t=[];for(var e in this.tags){var i={value:e,text:this.tags[e]};e===this.queryTagid&&(i.checked=!0),t.push(i)}return t},smsReceiver:function(){if(this.selectedIndexs.length){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))}}},methods:{onqueryload:function(t){for(var e=this,i=0;i<t.length;i++){var a=t[i],n=a.role.map((function(t){return t.role_name}));a.role=n.join("\u3001");var r=a.tags&&a.tags.map((function(t){return e.tags[t]}));a.tags=r,Array.isArray(a.dcloud_appid)&&(a.dcloud_appid=a.dcloud_appid.join("\u3001")),a.last_login_date=this.$formatDate(a.last_login_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},openTagsPopup:function(){this.$refs.tagsPopup.open()},closeTagsPopup:function(){this.$refs.tagsPopup.close()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadTags(),i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,r.filterToWhere)(this._filter,u.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))},loadTags:function(){var t=this;u.collection("uni-id-tag").limit(500).get().then((function(e){e.result.data.map((function(e){t.tags[e.tagid]=e.name}))})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},managerMultiTag:function(){var t=this,e=this.selectedItems();u.collection("uni-id-users").where({_id:u.command.in(e)}).update({tags:this.managerTags}).then((function(){uni.showToast({title:"\u4fee\u6539\u6807\u7b7e\u6210\u529f",duration:2e3}),t.$refs.table.clearSelection(),t.managerTags=[],t.loadData(),t.closeTagsPopup()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()}))}}};e.default=d}).call(this,i("a9ff")["default"])},5446:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.userFeildsMap=e.deviceFeildsMap=void 0;e.deviceFeildsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_devices",title:"\u603b\u8bbe\u5907\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_device_count",title:"\u65b0\u589e\u8bbe\u5907",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_device_count",title:"\u6d3b\u8dc3\u8bbe\u5907",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.userFeildsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{field:"appid",title:"APPID",tooltip:""},{field:"name",title:"\u5e94\u7528\u540d",tooltip:""},{field:"total_users",title:"\u603b\u7528\u6237\u6570",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0},{field:"new_user_count",title:"\u65b0\u589e\u7528\u6237",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{field:"active_user_count",title:"\u6d3b\u8dc3\u7528\u6237",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}]},"546f":function(t,e,i){"use strict";i.r(e);var a=i("2206"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"547e":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("0aa1");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database(),c=[],l={ascending:"asc",descending:"desc"},d={data:function(){return{query:"",where:"",orderby:"",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-tag.xls",type:"xls",fields:{"\u6807\u7b7e\u7684tagid":"tagid","\u6807\u7b7e\u540d\u79f0":"name","\u6807\u7b7e\u63cf\u8ff0":"description"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},computed:{smsReceiver:function(){if(this.selectedIndexs.length){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e].tagid}))}}},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,r.filterToWhere)(this._filter,u.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))}}};e.default=d}).call(this,i("a9ff")["default"])},"54d5":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u66f4\u591a\u6570\u636e",_i:2}},[i("uni-tr",{attrs:{_i:3}},[i("uni-th",{staticClass:t._$s(4,"sc","th"),attrs:{align:"center",_i:4}}),t._l(t._$s(5,"f",{forItems:t.panelData}),(function(e,a,n,r){return i("uni-th",{key:t._$s(5,"f",{forIndex:n,key:a}),staticClass:t._$s("5-"+r,"sc","th"),attrs:{align:"center",_i:"5-"+r}},[i("uni-tooltip",{attrs:{_i:"6-"+r},scopedSlots:t._u([{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("10-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"10-"+r+"-"+s}},t._l(n._$s("11-"+r+"-"+s,"f",{forItems:e.list}),(function(e,a,o,u){return i("view",{key:n._$s("11-"+r+"-"+s,"f",{forIndex:o,key:a}),attrs:{_i:"11-"+s+r+"-"+u}},[t._v(n._$s("11-"+s+r+"-"+u,"t0-0",t._s(e.tooltip)))])})),0)]}}],null,!0)},[i("view",{staticClass:t._$s("7-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.title))),i("uni-icons",{staticClass:t._$s("8-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"8-"+r}})],1)])],1)}))],2),i("uni-tr",{attrs:{_i:12}},[i("uni-td",{staticClass:t._$s(13,"sc","td"),attrs:{align:"center",_i:13}},[t._v("")]),t._l(t._$s(14,"f",{forItems:t.panelData}),(function(e,a,n,r){return i("uni-td",{key:t._$s(14,"f",{forIndex:n,key:a}),staticClass:t._$s("14-"+r,"sc","td"),attrs:{align:"center",_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(e.list[0].value)))])}))],2),i("uni-tr",{attrs:{_i:15}},[i("uni-td",{staticClass:t._$s(16,"sc","td"),attrs:{align:"center",_i:16}},[t._v("")]),t._l(t._$s(17,"f",{forItems:t.panelData}),(function(e,a,n,r){return i("uni-td",{key:t._$s(17,"f",{forIndex:n,key:a}),staticClass:t._$s("17-"+r,"sc","td"),attrs:{align:"center",_i:"17-"+r}},[t._v(t._$s("17-"+r,"t0-0",t._s(e.list[1].value)))])}))],2),i("uni-tr",{attrs:{_i:18}},[i("uni-td",{staticClass:t._$s(19,"sc","td"),attrs:{align:"center",_i:19}},[t._v("")]),t._l(t._$s(20,"f",{forItems:t.panelData}),(function(e,a,n,r){return i("uni-td",{key:t._$s(20,"f",{forIndex:n,key:a}),staticClass:t._$s("20-"+r,"sc","td"),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e.list[2].value)))])}))],2)],1)],1)},r=[]},"54fb":function(t,e,i){"use strict";i.r(e);var a=i("80e6"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"55b0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",stat:-1},{title:"\u9875\u9762\u540d\u79f0",field:"title",stat:-1},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee\uff1b",value:0},{title:"\u9000\u51fa\u9875\u6b21\u6570",field:"exit_times",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u6700\u540e\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762(\u5373\u79bb\u5f00\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u9000\u51fa\u7387",field:"exitRate",computed:"exit_times/visit_times",formatter:"%",tooltip:"\u5728\u6b64\u9875\u9762\uff0c\u9009\u62e9\u79bb\u5f00\u5e94\u7528\u5360\u6b64\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",stat:-1},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0},{title:"\u5206\u4eab\u6b21\u6570",field:"share_count",tooltip:"\u9875\u9762\u88ab\u5206\u4eab\u6210\u529f\u7684\u6b21\u6570",value:0}]},5673:function(t,e,i){"use strict";i.r(e);var a=i("75f3"),n=i("1578");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"56bb":function(t,e,i){"use strict";i.r(e);var a=i("b0e7"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"56ee":function(t,e,i){"use strict";i.r(e);var a=i("12f2"),n=i("3962");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},5877:function(t,e,i){"use strict";i.r(e);var a=i("8158"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},5885:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"pr\xe9c\xe9dente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"}')},"593a":function(t,e,i){"use strict";i.r(e);var a=i("89dc"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"595f":function(t,e,i){t.exports=i.p+"static/img/photo.bb72ed3e.svg"},"598c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u66f4\u591a\u6570\u636e",_i:2}},[i("uni-tr",{attrs:{_i:3}},[i("uni-th",{staticClass:t._$s(4,"sc","th"),attrs:{align:"center",_i:4}}),i("uni-th",{staticClass:t._$s(5,"sc","th"),attrs:{align:"center",_i:5}},[t._v("")]),i("uni-th",{staticClass:t._$s(6,"sc","th"),attrs:{align:"center",_i:6}},[t._v("")]),i("uni-th",{staticClass:t._$s(7,"sc","th"),attrs:{align:"center",_i:7}},[t._v("")]),i("uni-th",{staticClass:t._$s(8,"sc","th"),attrs:{align:"center",_i:8}},[t._v("")]),i("uni-th",{staticClass:t._$s(9,"sc","th"),attrs:{align:"center",_i:9}},[t._v("")]),i("uni-th",{staticClass:t._$s(10,"sc","th"),attrs:{align:"center",_i:10}},[t._v("")]),i("uni-th",{staticClass:t._$s(11,"sc","th"),attrs:{align:"center",_i:11}},[t._v("")]),i("uni-th",{staticClass:t._$s(12,"sc","th"),attrs:{align:"center",_i:12}},[t._v("")])],1),t._l(t._$s(13,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(13,"f",{forIndex:n,key:a}),attrs:{_i:"13-"+r}},[i("uni-td",{staticClass:t._$s("14-"+r,"sc","td"),attrs:{align:"center",_i:"14-"+r}},[i("uni-tooltip",{attrs:{_i:"15-"+r},scopedSlots:t._u([t._$s("18-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("19-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"19-"+r+"-"+s}},[t._v(n._$s("19-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[i("view",{staticClass:t._$s("16-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"16-"+r}},[t._v(t._$s("16-"+r,"t0-0",t._s(e.title))),i("uni-icons",{staticClass:t._$s("17-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"17-"+r}})],1)])],1),i("uni-td",{staticClass:t._$s("20-"+r,"sc","td"),attrs:{align:"center",_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(t.panelData.today[e.field])))]),i("uni-td",{staticClass:t._$s("21-"+r,"sc","td"),attrs:{align:"center",_i:"21-"+r}},[t._v(t._$s("21-"+r,"t0-0",t._s(t.panelData.yesterday[e.field])))]),i("uni-td",{staticClass:t._$s("22-"+r,"sc","td"),attrs:{align:"center",_i:"22-"+r}},[t._v(t._$s("22-"+r,"t0-0",t._s(t.panelData.beforeyesterday[e.field])))]),i("uni-td",{staticClass:t._$s("23-"+r,"sc","td"),attrs:{align:"center",_i:"23-"+r}},[t._v(t._$s("23-"+r,"t0-0",t._s(t.panelData.week[e.field])))]),i("uni-td",{staticClass:t._$s("24-"+r,"sc","td"),attrs:{align:"center",_i:"24-"+r}},[t._v(t._$s("24-"+r,"t0-0",t._s(t.panelData.month[e.field])))]),i("uni-td",{staticClass:t._$s("25-"+r,"sc","td"),attrs:{align:"center",_i:"25-"+r}},[t._v(t._$s("25-"+r,"t0-0",t._s(t.panelData.quarter[e.field])))]),i("uni-td",{staticClass:t._$s("26-"+r,"sc","td"),attrs:{align:"center",_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(t.panelData.year[e.field])))]),i("uni-td",{staticClass:t._$s("27-"+r,"sc","td"),attrs:{align:"center",_i:"27-"+r}},[t._v(t._$s("27-"+r,"t0-0",t._s(t.panelData.total[e.field])))])],1)}))],2)],1)},r=[]},"599a":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.buildMenu=r,e.buildMenus=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t.sort((function(e,i){var a=s(e,t),n=s(i,t);return a.includes(i.menu_id)?1:a.length-n.length||e.sort-i.sort})),e)for(var i=function(e){var i=t[e],a=t.filter((function(t){return t.parent_id===i.menu_id}));i.isLeafNode||a.length||t.splice(e,1)},a=t.length-1;a>-1;a--)i(a);var o=[],u=t.filter((function(t){if(!t.parent_id)return o.push(t.menu_id),!0}));r(u,t,o),e||o.length===t.length||u.push.apply(u,(0,n.default)(t.filter((function(t){return!o.includes(t.menu_id)}))));return u};var n=a(i("448a"));function r(t,e,i){for(var a=[],n=function(n){var r=t[n],s=e.filter((function(t){if(t.parent_id===r.menu_id)return i.push(t.menu_id),!0}));a=a.concat(s),r.children=s},s=t.length-1;s>-1;s--)n(s);a.length&&r(a,e,i)}function s(t,e){var i=[],a=t;while(a&&a.parent_id)i.push(a.parent_id),a=e.find((function(t){return t.menu_id===a.parent_id}));return i}},"59eb":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"oldPassword",_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusOldPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801",_i:7},on:{blur:function(e){t.focusOldPassword=!1}},model:{value:t._$s(7,"v-model",t.formData.oldPassword),callback:function(e){t.$set(t.formData,"oldPassword",e)},expression:"formData.oldPassword"}})],1),i("uni-forms-item",{attrs:{name:"newPassword",_i:8}},[i("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{focus:t.focusNewPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:9},on:{blur:function(e){t.focusNewPassword=!1}},model:{value:t._$s(9,"v-model",t.formData.newPassword),callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),i("uni-forms-item",{attrs:{name:"newPassword2",_i:10}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusNewPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusNewPassword2=!1}},model:{value:t._$s(11,"v-model",t.formData.newPassword2),callback:function(e){t.$set(t.formData,"newPassword2",e)},expression:"formData.newPassword2"}})],1),i("button",{staticClass:t._$s(12,"sc","uni-btn send-btn-box"),attrs:{_i:12},on:{click:t.submit}})],1)],1)},r=[]},"5a43":function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5a50":function(t,e,i){"use strict";i.r(e);var a=i("8202"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"5a6b":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=a(i("68ab")),s={name:"UniDataPickerView",emits:["nodeclick","change","datachange","update:modelValue"],mixins:[r.default],props:{managedMode:{type:Boolean,default:!1},ellipsis:{type:Boolean,default:!0}},data:function(){return{}},created:function(){var t=this;this.managedMode||this.$nextTick((function(){t.load()}))},methods:{onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.isLocaldata?this.loadData():this.dataValue.length&&this.getTreePath((function(e){t.loadData()}))},handleSelect:function(t){this.selectedIndex=t},handleNodeClick:function(t,e,i){var a=this;if(!t.disable){var r=this.dataList[e][i],s=r[this.map.text],o=r[this.map.value];if(e<this.selected.length-1?(this.selected.splice(e,this.selected.length-e),this.selected.push({text:s,value:o})):e===this.selected.length-1&&this.selected.splice(e,1,{text:s,value:o}),r.isleaf)this.onSelectedChange(r,r.isleaf);else{var u=this._updateBindData(),c=u.isleaf,l=u.hasNodes;(this._isTreeView()||l)&&(!this.isLocaldata||l&&!c)?c||l?this.onSelectedChange(r,!1):this._loadNodeData((function(t){var e;t.length?((e=a._treeData).push.apply(e,(0,n.default)(t)),a._updateBindData(r)):r.isleaf=!0;a.onSelectedChange(r,r.isleaf)}),this._nodeWhere()):this.onSelectedChange(r,!0)}}},updateData:function(t){this._treeData=t.treeData,this.selected=t.selected,this._treeData.length?this._updateBindData():this.loadData()},onDataChange:function(){this.$emit("datachange")},onSelectedChange:function(t,e){e&&this._dispatchEvent(),t&&this.$emit("nodeclick",t)},_dispatchEvent:function(){this.$emit("change",this.selected.slice(0))}}};e.default=s},"5a77":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniLink:i("e120").default,uniDataCheckbox:i("61f3").default,uniPopup:i("46c2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[i("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807 class",_i:6}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}},[i("span",{attrs:{_i:8},on:{click:t.showIconPopup},slot:"right"})]),i("uni-link",{staticClass:t._$s(9,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:9}})],1),i("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:10}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:11},model:{value:t._$s(11,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),i("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:12}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:13},model:{value:t._$s(13,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),i("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:14}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7236\u7ea7\u83dc\u5355\u6807\u8bc6, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:15},model:{value:t._$s(15,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),i("uni-forms-item",{staticClass:t._$s(16,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:16}},[i("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:17},model:{value:t._$s(17,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),i("view",{staticClass:t._$s(18,"sc","uni-form-item-tips"),attrs:{_i:18}})],1),i("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:19}},[i("switch",{attrs:{checked:t._$s(20,"a-checked",t.formData.enable),_i:20},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),i("view",{staticClass:t._$s(21,"sc","uni-button-group"),attrs:{_i:21}},[i("button",{staticClass:t._$s(22,"sc","uni-button"),attrs:{_i:22},on:{click:t.submitForm}},[t._v(t._$s(22,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(24,"sc","uni-button"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.$t("common.button.back"))))])])]),i("uni-popup",{ref:"iconPopup",staticClass:t._$s(25,"sc","icon-modal-box"),attrs:{type:"center",_i:25}},[i("view",{staticClass:t._$s(26,"sc","icon-modal icon-modal-pc"),attrs:{_i:26}},[i("Icons",{attrs:{tag:!1,"fix-window":!1,_i:27}})],1)])],1)],1)},r=[]},"5ab5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u6e20\u9053\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u6e20\u9053\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},"5aee":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-file-picker__container"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.filesList}),(function(e,a,n,r){return i("view",{key:t._$s(1,"f",{forIndex:n,key:a}),staticClass:t._$s("1-"+r,"sc","file-picker__box"),style:t._$s("1-"+r,"s",t.boxStyle),attrs:{_i:"1-"+r}},[i("view",{staticClass:t._$s("2-"+r,"sc","file-picker__box-content"),style:t._$s("2-"+r,"s",t.borderStyle),attrs:{_i:"2-"+r}},[i("image",{staticClass:t._$s("3-"+r,"sc","file-image"),attrs:{src:t._$s("3-"+r,"a-src",e.url),_i:"3-"+r},on:{click:function(i){return i.stopPropagation(),t.prviewImage(e,a)}}}),t._$s("4-"+r,"i",t.delIcon&&!t.readonly)?i("view",{staticClass:t._$s("4-"+r,"sc","icon-del-box"),attrs:{_i:"4-"+r},on:{click:function(e){return e.stopPropagation(),t.delFile(a)}}},[i("view",{staticClass:t._$s("5-"+r,"sc","icon-del"),attrs:{_i:"5-"+r}}),i("view",{staticClass:t._$s("6-"+r,"sc","icon-del rotate"),attrs:{_i:"6-"+r}})]):t._e(),t._$s("7-"+r,"i",e.progress&&100!==e.progress)?i("view",{staticClass:t._$s("7-"+r,"sc","file-picker__progress"),attrs:{_i:"7-"+r}},[i("progress",{staticClass:t._$s("8-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("8-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("8-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"8-"+r}})]):t._e(),t._$s("9-"+r,"i",e.errMsg)?i("view",{staticClass:t._$s("9-"+r,"sc","file-picker__mask"),attrs:{_i:"9-"+r},on:{click:function(i){return i.stopPropagation(),t.uploadFiles(e,a)}}}):t._e()])])})),t._$s(10,"i",t.filesList.length<t.limit&&!t.readonly)?i("view",{staticClass:t._$s(10,"sc","file-picker__box"),style:t._$s(10,"s",t.boxStyle),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","file-picker__box-content is-add"),style:t._$s(11,"s",t.borderStyle),attrs:{_i:11},on:{click:t.choose}},[t._t("default",[i("view",{staticClass:t._$s(13,"sc","icon-add"),attrs:{_i:13}}),i("view",{staticClass:t._$s(14,"sc","icon-add rotate"),attrs:{_i:14}})],{_i:12})],2)]):t._e()],2)},n=[]},"5b36":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{modelValue:String,value:String,scene:{type:String,default:function(){return""}},focus:{type:Boolean,default:function(){return!1}}},computed:{val:{get:function(){return this.value||this.modelValue},set:function(t){this.$emit("input",t)}}},data:function(){return{focusCaptchaInput:!1,captchaBase64:"",loging:!1}},watch:{scene:{handler:function(t){t?this.getImageCaptcha(this.focus):uni.showToast({title:"scene\u4e0d\u80fd\u4e3a\u7a7a",icon:"none"})},immediate:!0}},methods:{getImageCaptcha:function(){var e=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loging=!0,i&&(this.val="",this.focusCaptchaInput=!0);var a=t.importObject("uni-captcha-co",{customUI:!0});a.getImageCaptcha({scene:this.scene}).then((function(t){e.captchaBase64=t.captchaBase64})).catch((function(t){uni.showToast({title:t.message,icon:"none"})})).finally((function(t){e.loging=!1}))}}};e.default=i}).call(this,i("a9ff")["default"])},"5bc3":function(t,e,i){var a=i("a395");function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5c1d":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("278c")),r=a(i("458c")),s=a(i("d442")),o=i("37dc"),u=a(i("017d")),c=null,l={name:"UniDatetimePicker",options:{virtualHost:!0},components:{calendar:r.default,timePicker:s.default},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},data:function(){return{isRange:!1,hasTime:!1,mobileRange:!1,singleVal:"",tempSingleDate:"",defSingleDate:"",time:"",caleRange:{startDate:"",startTime:"",endDate:"",endTime:""},range:{startDate:"",endDate:""},tempRange:{startDate:"",startTime:"",endDate:"",endTime:""},startMultipleStatus:{before:"",after:"",data:[],fulldate:""},endMultipleStatus:{before:"",after:"",data:[],fulldate:""},visible:!1,popup:!1,popover:null,isEmitValue:!1,isPhone:!1,isFirstShow:!0}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number,Array,Date],default:""},modelValue:{type:[String,Number,Array,Date],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},placeholder:{type:String,default:""},startPlaceholder:{type:String,default:""},endPlaceholder:{type:String,default:""},rangeSeparator:{type:String,default:"-"},border:{type:[Boolean],default:!0},disabled:{type:[Boolean],default:!1},clearIcon:{type:[Boolean],default:!0},hideSecond:{type:[Boolean],default:!1}},watch:{type:{immediate:!0,handler:function(t,e){-1!==t.indexOf("time")?this.hasTime=!0:this.hasTime=!1,-1!==t.indexOf("range")?this.isRange=!0:this.isRange=!1}},value:{immediate:!0,handler:function(t,e){this.isEmitValue?this.isEmitValue=!1:this.initPicker(t)}},start:{immediate:!0,handler:function(t,e){if(t){var i=this.parseDate(t),a=i.defDate,n=i.defTime;this.caleRange.startDate=a,this.hasTime&&(this.caleRange.startTime=n)}}},end:{immediate:!0,handler:function(t,e){if(t){var i=this.parseDate(t),a=i.defDate,n=i.defTime;this.caleRange.endDate=a,this.hasTime&&(this.caleRange.endTime=n)}}}},computed:{reactStartTime:function(){var t=this.isRange?this.tempRange.startDate:this.tempSingleDate,e=t===this.caleRange.startDate?this.caleRange.startTime:"";return e},reactEndTime:function(){var t=this.isRange?this.tempRange.endDate:this.tempSingleDate,e=t===this.caleRange.endDate?this.caleRange.endTime:"";return e},reactMobDefTime:function(){var t={start:this.tempRange.startTime,end:this.tempRange.endTime};return this.isRange?t:this.time},mobSelectableTime:function(){return{start:this.caleRange.startTime,end:this.caleRange.endTime}},datePopupWidth:function(){return this.isRange?653:301},singlePlaceholderText:function(){return this.placeholder||("date"===this.type?this.selectDateText:c("uni-datetime-picker.selectDateTime"))},startPlaceholderText:function(){return this.startPlaceholder||this.startDateText},endPlaceholderText:function(){return this.endPlaceholder||this.endDateText},selectDateText:function(){return c("uni-datetime-picker.selectDate")},selectTimeText:function(){return c("uni-datetime-picker.selectTime")},startDateText:function(){return this.startPlaceholder||c("uni-datetime-picker.startDate")},startTimeText:function(){return c("uni-datetime-picker.startTime")},endDateText:function(){return this.endPlaceholder||c("uni-datetime-picker.endDate")},endTimeText:function(){return c("uni-datetime-picker.endTime")},okText:function(){return c("uni-datetime-picker.ok")},clearText:function(){return c("uni-datetime-picker.clear")},showClearIcon:function(){var t=this.clearIcon,e=this.disabled,i=this.singleVal,a=this.range,n=t&&!e&&(i||a.startDate&&a.endDate);return n}},created:function(){if(!c){var t=(0,o.initVueI18n)(u.default);c=t.t}this.platform()},methods:{initPicker:function(t){var e=this;if(!t||Array.isArray(t)&&!t.length)this.$nextTick((function(){e.clear(!1)}));else if(Array.isArray(t)||this.isRange){var i=(0,n.default)(t,2),a=i[0],r=i[1];if(!a&&!r)return;var s=this.parseDate(a),o=this.parseDate(r),u=s.defDate,c=o.defDate;this.range.startDate=this.tempRange.startDate=u,this.range.endDate=this.tempRange.endDate=c,this.hasTime&&(this.range.startDate=s.defDate+" "+s.defTime,this.range.endDate=o.defDate+" "+o.defTime,this.tempRange.startTime=s.defTime,this.tempRange.endTime=o.defTime);var l={before:s.defDate,after:o.defDate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,l,{which:"right"}),this.endMultipleStatus=Object.assign({},this.endMultipleStatus,l,{which:"left"})}else{var d=this.parseDate(t),f=d.defDate,h=d.defTime;this.singleVal=f,this.tempSingleDate=f,this.defSingleDate=f,this.hasTime&&(this.singleVal=f+" "+h,this.time=h)}},updateLeftCale:function(t){var e=this.$refs.left;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.left.nowDate.fullDate)},updateRightCale:function(t){var e=this.$refs.right;e.cale.setHoverMultiple(t.after),e.setDate(this.$refs.right.nowDate.fullDate)},platform:function(){var t=uni.getSystemInfoSync();this.isPhone=t.windowWidth<=500,this.windowWidth=t.windowWidth},show:function(t){var e=this;if(!this.disabled)if(this.platform(),this.isPhone)this.$refs.mobile.open();else{this.popover={top:"10px"};var i=uni.createSelectorQuery().in(this).select(".uni-date-editor");i.boundingClientRect((function(t){e.windowWidth-t.left<e.datePopupWidth&&(e.popover.right=0)})).exec(),setTimeout((function(){if(e.popup=!e.popup,!e.isPhone&&e.isRange&&e.isFirstShow){e.isFirstShow=!1;var t=e.range,i=t.startDate,a=t.endDate;i&&a?e.diffDate(i,a)<30&&e.$refs.right.next():(e.$refs.right.next(),e.$refs.right.cale.lastHover=!1)}}),50)}},close:function(){var t=this;setTimeout((function(){t.popup=!1,t.$emit("maskClick",t.value),t.$refs.mobile&&t.$refs.mobile.close()}),20)},setEmit:function(t){"timestamp"!==this.returnType&&"date"!==this.returnType||(Array.isArray(t)?(this.hasTime||(t[0]=t[0]+" 00:00:00",t[1]=t[1]+" 00:00:00"),t[0]=this.createTimestamp(t[0]),t[1]=this.createTimestamp(t[1]),"date"===this.returnType&&(t[0]=new Date(t[0]),t[1]=new Date(t[1]))):(this.hasTime||(t+=" 00:00:00"),t=this.createTimestamp(t),"date"===this.returnType&&(t=new Date(t)))),this.$emit("change",t),this.$emit("input",t),this.$emit("update:modelValue",t),this.isEmitValue=!0},createTimestamp:function(t){return t=this.fixIosDateFormat(t),Date.parse(new Date(t))},singleChange:function(t){this.tempSingleDate=t.fulldate,this.hasTime||this.confirmSingleChange()},confirmSingleChange:function(){this.tempSingleDate?(this.hasTime?this.singleVal=this.tempSingleDate+" "+(this.time?this.time:"00:00:00"):this.singleVal=this.tempSingleDate,this.setEmit(this.singleVal),this.popup=!1):this.popup=!1},leftChange:function(t){var e=t.range,i=e.before,a=e.after;this.rangeChange(i,a);var n={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.startMultipleStatus=Object.assign({},this.startMultipleStatus,n)},rightChange:function(t){var e=t.range,i=e.before,a=e.after;this.rangeChange(i,a);var n={before:t.range.before,after:t.range.after,data:t.range.data,fulldate:t.fulldate};this.endMultipleStatus=Object.assign({},this.endMultipleStatus,n)},mobileChange:function(t){if(this.isRange){var e=t.range,i=e.before,a=e.after;if(this.handleStartAndEnd(i,a,!0),this.hasTime){var n=t.timeRange,r=n.startTime,s=n.endTime;this.tempRange.startTime=r,this.tempRange.endTime=s}this.confirmRangeChange()}else this.hasTime?this.singleVal=t.fulldate+" "+t.time:this.singleVal=t.fulldate,this.setEmit(this.singleVal);this.$refs.mobile.close()},rangeChange:function(t,e){t&&e&&(this.handleStartAndEnd(t,e,!0),this.hasTime||this.confirmRangeChange())},confirmRangeChange:function(){if(this.tempRange.startDate||this.tempRange.endDate){var t,e;this.hasTime?(t=this.range.startDate=this.tempRange.startDate+" "+(this.tempRange.startTime?this.tempRange.startTime:"00:00:00"),e=this.range.endDate=this.tempRange.endDate+" "+(this.tempRange.endTime?this.tempRange.endTime:"00:00:00")):(t=this.range.startDate=this.tempRange.startDate,e=this.range.endDate=this.tempRange.endDate);var i=[t,e];this.setEmit(i),this.popup=!1}else this.popup=!1},handleStartAndEnd:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){var a=i?"tempRange":"range";this.dateCompare(t,e)?(this[a].startDate=t,this[a].endDate=e):(this[a].startDate=e,this[a].endDate=t)}},dateCompare:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e},diffDate:function(t,e){t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/"));var i=(e-t)/864e5;return Math.abs(i)},clear:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isRange?(this.range.startDate="",this.range.endDate="",this.tempRange.startDate="",this.tempRange.startTime="",this.tempRange.endDate="",this.tempRange.endTime="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():(this.$refs.left&&this.$refs.left.clearCalender(),this.$refs.right&&this.$refs.right.clearCalender(),this.$refs.right&&this.$refs.right.next()),t&&(this.$emit("change",[]),this.$emit("input",[]),this.$emit("update:modelValue",[]))):(this.singleVal="",this.tempSingleDate="",this.time="",this.isPhone?this.$refs.mobile&&this.$refs.mobile.clearCalender():this.$refs.pcSingle&&this.$refs.pcSingle.clearCalender(),t&&(this.$emit("change",""),this.$emit("input",""),this.$emit("update:modelValue","")))},parseDate:function(t){t=this.fixIosDateFormat(t);var e=new Date(t),i=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),u=i+"-"+this.lessTen(a)+"-"+this.lessTen(n),c=this.lessTen(r)+":"+this.lessTen(s)+(this.hideSecond?"":":"+this.lessTen(o));return{defDate:u,defTime:c}},lessTen:function(t){return t<10?"0"+t:t},fixIosDateFormat:function(t){return"string"===typeof t&&(t=t.replace(/-/g,"/")),t},leftMonthSwitch:function(t){},rightMonthSwitch:function(t){}}};e.default=l},"5d41":function(t,e,i){"use strict";i.r(e);var a=i("1909"),n=i("5126");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"5d78":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u6743\u9650\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},on:{input:function(e){return t.binddata("permission_id",e.detail.value)}},model:{value:t._$s(3,"v-model",t.formData.permission_id),callback:function(e){t.$set(t.formData,"permission_id",e)},expression:"formData.permission_id"}})],1),i("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),i("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),i("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"5da2":function(t,e,i){"use strict";i.r(e);var a=i("1e64"),n=i("30dc");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"5db1":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniCaptcha:i("d45f").default,uniIdPagesAgreements:i("047a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"username",required:!0,_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusUsername,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",trim:"both",_i:7},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(7,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),i("uni-forms-item",{attrs:{name:"nickname",_i:8}},[i("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),i("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[i("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),i("uni-forms-item",{attrs:{_i:14}},[i("uni-captcha",{ref:"captcha",attrs:{scene:"register",_i:15},model:{value:t._$s(15,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:16}}),i("button",{staticClass:t._$s(17,"sc","uni-btn"),attrs:{_i:17},on:{click:t.submit}}),i("button",{staticClass:t._$s(18,"sc","register-back"),attrs:{_i:18},on:{click:t.navigateBack}}),i("uni-match-media",{attrs:{"min-width":690,_i:19}},[i("view",{staticClass:t._$s(20,"sc","link-box"),attrs:{_i:20}},[i("text",{staticClass:t._$s(21,"sc","link"),attrs:{_i:21},on:{click:t.toLogin}})])])],1)],1)},r=[]},"5dc5":function(t,e,i){"use strict";i.r(e);var a=i("2832"),n=i("61b9");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"5e01":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","captcha-box"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","captcha-img-box"),attrs:{_i:1}},[t._$s(2,"i",t.loging)?i("uni-icons",{staticClass:t._$s(2,"sc","loding"),attrs:{size:"20px",color:"#BBB",type:"spinner-cycle",_i:2}}):t._e(),i("image",{staticClass:t._$s(3,"sc","captcha-img"),class:t._$s(3,"c",{opacity:t.loging}),attrs:{src:t._$s(3,"a-src",t.captchaBase64),_i:3},on:{click:t.getImageCaptcha}})],1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(4,"sc","captcha"),attrs:{focus:t._$s(4,"a-focus",t.focusCaptchaInput),_i:4},domProps:{value:t._$s(4,"v-model",t.val)},on:{blur:function(e){t.focusCaptchaInput=!1},input:function(e){e.target.composing||(t.val=e.target.value)}}})])},r=[]},"5e63":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("1a28"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},type:"visit_depth_data",types:[{_id:"visit_depth_data",name:"\u8bbf\u95ee\u9875\u6570"},{_id:"duration_data",name:"\u8bbf\u95ee\u65f6\u957f"}],field:"visit_devices",fields:[{_id:"visit_devices",name:"\u8bbf\u95ee\u4eba\u6570"},{_id:"visit_times",name:"\u8bbf\u95ee\u6b21\u6570"}],options:{visit_depth_data:{prefix:"p",title:"\u9875",value:[1,2,3,4,5,10]},duration_data:{prefix:"s",title:"\u79d2",value:[0,3,6,11,21,31,51,100]}},channelData:[],errorMessage:""}},computed:{fieldName:function(){var t=this;return this.fields.forEach((function(e){if(e._id===t.field)return e.name}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}},type:function(){this.getAllData(this.query)},field:function(){this.getAllData(this.query)}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},createStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visit_depth_data",i=t.length,a=this.options[e].prefix,n=this.options[e].value,r=n.map((function(n){return t.map((function(t){return"sum(".concat(e,".").concat(t,".").concat(a+"_"+n,") as ").concat(i>1?t+"_"+a+"_"+n:a+"_"+n)}))})),s=r.join();return s},parseChars:function(t){t=t.split("_");var e=this.options[this.type],i=e.title;e.value.forEach((function(a,n){var r=e.value[n+1];a===Number(t[t.length-1])&&(i=r?a+1===r?a+i:a+"-"+(r-1)+i:a+"+"+i)}));return i},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.field,this.fieldName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field;arguments.length>2&&void 0!==arguments[2]||this.fields.find((function(t){return t._id===i.field})).name;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.createStr([a],this.type),s=t.database();s.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(n).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data);a=a[0];var n={series:[{data:[]}]};for(var r in a)if("appid"!==r){var s=i.parseChars(r),o=a[r];n.series[0].data.push({name:s,value:o})}i.chartData=n})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var a=this.createStr(["visit_devices","visit_times"],this.type);this.fieldsMap[0].title=this.types.find((function(t){return t._id===i.type})).name,this.loading=!0;var n=t.database();n.collection("uni-stat-loyalty-result").where(e).groupBy("appid").groupField(a).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data),n=i.type,u=[],c=i.options[n].prefix;c="_".concat(c,"_");var l,d=o(a);try{for(d.s();!(l=d.n()).done;){var f=l.value;for(var h in f)if("appid"!==h){var p={},m=h.split(c);p.name=m[1],p[m[0]]=f[h],u.push(p)}}}catch($){d.e($)}finally{d.f()}var g=[],_={},v=function(t,e){return t+e},b=u.filter((function(t){return t.visit_devices})).map((function(t){return t.visit_devices}));b=b.length?b.reduce(v):0;var y=u.filter((function(t){return t.visit_times})).map((function(t){return t.visit_times}));y=y.length?y.reduce(v):0,_.visit_times=y,_.visit_devices=b,i.options[n].value.forEach((function(t){var e={};e.name=t+"p",u.forEach((function(i){if(Number(i.name)===t)for(var a in i)a!==name&&(e[a]=i[a],e["total_"+a]=_[a])})),e.name=i.parseChars(String(t)),g.push(e)}));for(var x=0,w=g;x<w.length;x++){var C=w[x];(0,r.mapfields)(s.default,C,C)}i.tableData=[],i.tableData=g})).catch((function(t){})).finally((function(){i.loading=!1}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"5e74":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(12,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(12,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:12},model:{value:t._$s(12,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:13}}),i("view",{staticClass:t._$s(14,"sc","uni-stat--x p-m"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","uni-stat-card-header"),attrs:{_i:15}}),i("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1)],1),i("fix-window",{attrs:{_i:19}})],1)},r=[]},"5e77":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.database(),a=["user_id.username","user_id.nickname","type","ip"],n={data:function(){return{collectionList:[i.collection("uni-id-log").field("type, ip, create_date, user_id").getTemp(),i.collection("uni-id-users").field("_id, username,nickname").getTemp()],query:"",where:"",orderby:"create_date",options:{pageSize:20,pageCurrent:1}}},methods:{getWhere:function(){var t,e=this.query.trim();if(!e)return"";try{t=new RegExp(e,"i")}catch(i){return void uni.showToast({title:"\u8bf7\u52ff\u8f93\u5165\u7b49\u4e0d\u6ee1\u8db3\u6b63\u5219\u683c\u5f0f\u7684\u7b26\u53f7",icon:"none"})}return a.map((function(e){return t+".test("+e+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t){var e=this;uni.navigateTo({url:t,events:{refreshData:function(){e.loadData()}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)}}};e.default=n}).call(this,i("a9ff")["default"])},"5ebd":function(t,e,i){"use strict";i.r(e);var a=i("abfe"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"5ef8":function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.chooseAndUploadFile=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};if("image"===t.type)return u(n(t),t);if("video"===t.type)return u(r(t),t);return u(s(t),t)},e.uploadCloudFiles=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2?arguments[2]:void 0;t=JSON.parse(JSON.stringify(t));var n=t.length,r=0,s=this;return new Promise((function(o){while(r<e)u();function u(){var e=r++;if(e>=n)!t.find((function(t){return!t.url&&!t.errMsg}))&&o(t);else{var c=t[e],l=s.files.findIndex((function(t){return t.uuid===c.uuid}));c.url="",delete c.errMsg,i.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,onUploadProgress:function(t){t.index=l,a&&a(t)}}).then((function(t){c.url=t.fileID,c.index=l,e<n&&u()})).catch((function(t){c.errMsg=t.errMsg||t.message,c.index=l,e<n&&u()}))}}}))};var a="chooseAndUploadFile:fail";function n(t){var e=t.count,i=t.sizeType,n=void 0===i?["original","compressed"]:i,r=t.sourceType,s=t.extension;return new Promise((function(t,i){uni.chooseImage({count:e,sizeType:n,sourceType:r,extension:s,success:function(e){t(o(e,"image"))},fail:function(t){i({errMsg:t.errMsg.replace("chooseImage:fail",a)})}})}))}function r(t){var e=t.camera,i=t.compressed,n=t.maxDuration,r=t.sourceType,s=t.extension;return new Promise((function(t,u){uni.chooseVideo({camera:e,compressed:i,maxDuration:n,sourceType:r,extension:s,success:function(e){var i=e.tempFilePath,a=e.duration,n=e.size,r=e.height,s=e.width;t(o({errMsg:"chooseVideo:ok",tempFilePaths:[i],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:i,size:n,type:e.tempFile&&e.tempFile.type||"",width:s,height:r,duration:a,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){u({errMsg:t.errMsg.replace("chooseVideo:fail",a)})}})}))}function s(e){var i=e.count,n=e.extension;return new Promise((function(e,r){var s=uni.chooseFile;if("undefined"!==typeof t&&"function"===typeof t.chooseMessageFile&&(s=t.chooseMessageFile),"function"!==typeof s)return r({errMsg:a+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});s({type:"all",count:i,extension:n,success:function(t){e(o(t))},fail:function(t){r({errMsg:t.errMsg.replace("chooseFile:fail",a)})}})}))}function o(t,e){return t.tempFiles.forEach((function(t,i){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+i+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function u(t,e){var i=e.onChooseFile;e.onUploadProgress;return t.then((function(t){if(i){var e=i(t);if("undefined"!==typeof e)return Promise.resolve(e).then((function(e){return"undefined"===typeof e?t:e}))}return t})).then((function(t){return!1===t?{errMsg:"chooseAndUploadFile:ok",tempFilePaths:[],tempFiles:[]}:t}))}}).call(this,i("fe07")["default"],i("a9ff")["default"])},"5f42":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","fab-login-box"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.servicesList}),(function(e,a,n,r){return i("view",{key:t._$s(2,"f",{forIndex:n,key:a}),staticClass:t._$s("2-"+r,"sc","item"),attrs:{_i:"2-"+r},on:{click:function(i){e.path?t.navigateTo(e.path):t.login_before(e.id,!1)}}},[i("image",{staticClass:t._$s("3-"+r,"sc","logo"),attrs:{src:t._$s("3-"+r,"a-src",e.logo),_i:"3-"+r}}),i("text",{staticClass:t._$s("4-"+r,"sc","login-title"),attrs:{_i:"4-"+r}},[t._v(t._$s("4-"+r,"t0-0",t._s(e.text)))])])})),0)])},n=[]},"5f9f":function(t,e,i){"use strict";i.r(e);var a=i("afe6"),n=i("8da4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"5fc3":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=e.mpPlatform=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{required:!0},{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},icon_url:{rules:[{format:"string"}],label:"\u5e94\u7528\u56fe\u6807"},introduction:{rules:[{format:"string"}],label:"\u5e94\u7528\u7b80\u4ecb"},description:{rules:[{format:"string"}],label:"\u5e94\u7528\u63cf\u8ff0"},screenshot:{rules:[{format:"array"}],label:"\u5e94\u7528\u622a\u56fe"},create_date:{rules:[{format:"timestamp"}],label:"\u53d1\u884c\u65f6\u95f4"}};e.enumConverter={};e.mpPlatform={mp_weixin:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f",mp_alipay:"\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f",mp_baidu:"\u767e\u5ea6\u5c0f\u7a0b\u5e8f",mp_toutiao:"\u5b57\u8282\u5c0f\u7a0b\u5e8f",mp_qq:"QQ\u5c0f\u7a0b\u5e8f",mp_dingtalk:"\u9489\u9489\u5c0f\u7a0b\u5e8f",mp_kuaishou:"\u5feb\u624b\u5c0f\u7a0b\u5e8f",mp_lark:"\u98de\u4e66\u5c0f\u7a0b\u5e8f",mp_jd:"\u4eac\u4e1c\u5c0f\u7a0b\u5e8f",quickapp:"\u5feb\u5e94\u7528"}},6085:function(t,e,i){"use strict";i.r(e);var a=i("9629"),n=i("c3c9");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"60ff":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{uploadTasks:{type:Array,default:[]},showProgress:{type:Boolean,default:!0}}};e.default=a},6132:function(t,e,i){"use strict";i.r(e);var a=i("fda9"),n=i("6df0");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"f4e86178",null,!1,a["a"],void 0);e["default"]=o.exports},"614d":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIdPagesAgreements:i("047a").default,uniEasyinput:i("fe49").default,uniIdPagesFabLogin:i("8d3f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[i("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),i("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),t._$s(4,"i",["apple","weixin","weixinMobile"].includes(t.type))?[i("text",{staticClass:t._$s(5,"sc","tip"),attrs:{_i:5}}),i("view",{staticClass:t._$s(6,"sc","quickLogin"),attrs:{_i:6}},[t._$s(7,"i","weixinMobile"!==t.type)?i("image",{staticClass:t._$s(7,"sc","quickLoginBtn"),attrs:{src:t._$s(7,"a-src",t.imgSrc),_i:7},on:{click:t.quickLogin}}):i("button",{staticClass:t._$s(8,"sc","uni-btn"),attrs:{_i:8},on:{getphonenumber:t.quickLogin}}),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:9}})],1)]:[i("text",{staticClass:t._$s(11,"sc","tip"),attrs:{_i:11}}),i("view",{staticClass:t._$s(12,"sc","phone-box"),attrs:{_i:12}},[i("view",{staticClass:t._$s(13,"sc","area"),attrs:{_i:13},on:{click:t.chooseArea}}),i("uni-easyinput",{staticClass:t._$s(14,"sc","input-box"),attrs:{focus:t.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:14},on:{blur:function(e){t.focusPhone=!1}},model:{value:t._$s(14,"v-model",t.phone),callback:function(e){t.phone=e},expression:"phone"}})],1),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:15}}),i("button",{staticClass:t._$s(16,"sc","uni-btn"),attrs:{_i:16},on:{click:t.toSmsPage}})],i("uni-id-pages-fab-login",{ref:"uniFabLogin",attrs:{_i:17}})],2)},r=[]},"61b9":function(t,e,i){"use strict";i.r(e);var a=i("52e9"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"61e8":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMenuSidebar:i("030e").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-nav-menu"),style:this._$s(0,"s",{"background-color":this.backgroundColor}),attrs:{_i:0}},[this._t("default",[e("uni-menu-sidebar",{attrs:{data:this.data,_i:2}})],{_i:1})],2)},r=[]},"61f3":function(t,e,i){"use strict";i.r(e);var a=i("9ca7"),n=i("3f6b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"634a":function(t,e,i){"use strict";i.r(e);var a=i("2318"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"63cf":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("46c2").default,uniCaptcha:i("d45f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uni-popup",{ref:"popup",attrs:{type:"center",_i:0}},[i("view",{staticClass:t._$s(1,"sc","popup-captcha"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","content"),attrs:{_i:2}},[i("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.title)))]),i("uni-captcha",{attrs:{focus:t.focus,scene:t.scene,_i:4},model:{value:t._$s(4,"v-model",t.val),callback:function(e){t.val=e},expression:"val"}})],1),i("view",{staticClass:t._$s(5,"sc","button-box"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","btn"),attrs:{_i:6},on:{click:t.close}}),i("view",{staticClass:t._$s(7,"sc","btn confirm"),attrs:{_i:7},on:{click:t.confirm}})])])])},r=[]},"63ef":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("h3",{staticClass:t._$s(1,"sc","text-separated"),attrs:{_i:1}}),i("view",[i("view",{staticClass:t._$s(3,"sc","text-separated"),attrs:{_i:3}},[i("text",{staticClass:t._$s(4,"sc","strong"),attrs:{_i:4}}),i("text")]),i("view",{staticClass:t._$s(6,"sc","text-separated"),attrs:{_i:6}},[i("text",{staticClass:t._$s(7,"sc","strong"),attrs:{_i:7}}),i("text")])]),i("h3",{staticClass:t._$s(9,"sc","text-separated"),attrs:{_i:9}}),i("view",{staticClass:t._$s(10,"sc","flex text-separated"),attrs:{_i:10}},[i("text",[i("view",{staticClass:t._$s(12,"sc","strong"),attrs:{_i:12}})]),i("button",{staticClass:t._$s(13,"sc","custom-button"),attrs:{_i:13},on:{click:t.publish}})]),i("h3",{staticClass:t._$s(14,"sc","text-separated"),attrs:{_i:14}}),i("view",[i("view",{staticClass:t._$s(16,"sc","text-separated"),attrs:{_i:16}},[i("text")]),i("view",{staticClass:t._$s(18,"sc","text-separated"),attrs:{_i:18}},[i("text",[i("a",{staticClass:t._$s(20,"sc","a-label"),attrs:{_i:20}})])])])])},n=[]},6420:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[i("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),i("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"date",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}}),t._$s(5,"i",t.dateTabs.timeStr)?i("view",{staticClass:t._$s(5,"sc","uni-stat--tips"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.dateTabs.timeStr)))]):t._e()],1),t._$s(6,"i",!t.notData)?i("view",{staticClass:t._$s(6,"sc","uni-charts-box"),attrs:{_i:6}},[i("qiun-data-charts",{attrs:{type:"funnel",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:7}})],1):i("view",{staticClass:t._$s(8,"sc","uni-charts-box flex center"),attrs:{_i:8}},[i("view")])])},r=[]},6480:function(t,e,i){"use strict";i.r(e);var a=i("b07b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"64b6":function(t,e,i){"use strict";i.r(e);var a=i("2538"),n=i("2ed4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"64da":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("3ca6")),r={name:"uniMenuItem",mixins:[n.default],props:{index:{type:[String,Object],default:function(){return""}},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1,activeTextColor:"#42B983",textColor:"#303133",activeBackgroundColor:""}},computed:{paddingLeft:function(){return 20+20*this.rootMenu.SubMenu.length+"px"}},created:function(){this.init()},destroyed:function(){var t=this;if(this.$menuParent){var e=this.$menuParent.itemChildrens.findIndex((function(e){return e===t}));this.$menuParent.itemChildrens.splice(e,1)}},methods:{init:function(){this.rootMenu={NavMenu:[],SubMenu:[]},this.indexPath=[],this.getParentAll("SubMenu",this),this.$menuParent=this.getParent("uniNavMenu",this),this.$subMenu=this.rootMenu.SubMenu,this.activeTextColor=this.$menuParent.activeTextColor,this.textColor=this.$menuParent.textColor,this.activeBackgroundColor=this.$menuParent.activeBackgroundColor,this.$menuParent&&(this.$menuParent.itemChildrens.push(this),this.$menuParent.isActive(this))},onClickItem:function(t){this.disabled||(this.$menuParent.closeOtherActive(this),this.active=!0,this.indexPath.unshift(this.index),this.indexPath.reverse(),"init"!==t&&this.$menuParent.select(this.index,this.indexPath))}}};e.default=r},6514:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-table-td"),class:this._$s(0,"c",{"table--border":this.border}),style:this._$s(0,"s",{width:this.width+"px","text-align":this.align}),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},"65ba":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u573a\u666f\u503c",field:"channel_code",tooltip:"",formatter:""},{title:"\u573a\u666f\u540d\u79f0",field:"channel_name",tooltip:"",formatter:""},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},"65be":function(t,e,i){"use strict";i.r(e);var a=i("ff2c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},6613:function(t,e,i){var a=i("5a43");t.exports=function(t,e){if(t){if("string"===typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}},t.exports.__esModule=!0,t.exports["default"]=t.exports},6630:function(t,e,i){"use strict";i.r(e);var a=i("0b34"),n=i("2164");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},6633:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("83c8");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database(),c=["role_id","role_name","permission.permission_name"],l={ascending:"asc",descending:"desc"},d={data:function(){return{collectionList:[u.collection("uni-id-roles").field("comment,permission,role_id,role_name,create_date").getTemp(),u.collection("uni-id-permissions").field("permission_name, permission_id").getTemp()],query:"",where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-roles.xls",type:"xls",fields:{"\u552f\u4e00ID":"role_id","\u540d\u79f0":"role_name","\u6743\u9650":"permission","\u5907\u6ce8":"comment",create_date:"create_date"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){for(var e=0;e<t.length;e++){var i=t[e];i.permission=i.permission.map((function(t){return t.permission_name})).join("\u3001"),i.create_date=this.$formatDate(i.create_date)}this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,r.filterToWhere)(this._filter,u.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))}}};e.default=d}).call(this,i("a9ff")["default"])},"66f8":function(t,e,i){"use strict";i.r(e);var a=i("0d25"),n=i("9f76");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"9b01afc2",null,!1,a["a"],void 0);e["default"]=o.exports},6739:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"select date","uni-datetime-picker.selectTime":"select time","uni-datetime-picker.selectDateTime":"select datetime","uni-datetime-picker.startDate":"start date","uni-datetime-picker.endDate":"end date","uni-datetime-picker.startTime":"start time","uni-datetime-picker.endTime":"end time","uni-datetime-picker.ok":"ok","uni-datetime-picker.clear":"clear","uni-datetime-picker.cancel":"cancel","uni-datetime-picker.year":"-","uni-datetime-picker.month":"","uni-calender.MON":"MON","uni-calender.TUE":"TUE","uni-calender.WED":"WED","uni-calender.THU":"THU","uni-calender.FRI":"FRI","uni-calender.SAT":"SAT","uni-calender.SUN":"SUN","uni-calender.confirm":"confirm"}')},"67af":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,i,a){var n,r,s=window,o="application/octet-stream",u=a||o,c=e,l=!i&&!a&&c,d=document.createElement("a"),f=function(t){return String(t)},h=s.Blob||s.MozBlob||s.WebKitBlob||f,p=i||"download";h=h.call?h.bind(s):Blob,"true"===String(this)&&(c=[c,u],u=c[0],c=c[1]);if(l&&l.length<2048&&(p=l.split("/").pop().split("?")[0],d.href=l,-1!==d.href.indexOf(l))){var m=new XMLHttpRequest;return m.open("GET",l,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,p,o)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(b(c),p):y(c);c=b(c),u=c.type||o}else if(/([\x80-\xff])/.test(c)){var g=0,_=new Uint8Array(c.length),v=_.length;for(g;g<v;++g)_[g]=c.charCodeAt(g);c=new h([_],{type:u})}function b(t){var e=t.split(/[:;,]/),i=e[1],a="base64"==e[2]?atob:decodeURIComponent,n=a(e.pop()),r=n.length,s=0,o=new Uint8Array(r);for(s;s<r;++s)o[s]=n.charCodeAt(s);return new h([o],{type:i})}function y(t,e){if("download"in d)return d.href=t,d.setAttribute("download",p),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===e&&setTimeout((function(){s.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var i=document.createElement("iframe");document.body.appendChild(i),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,o)),i.src=t,setTimeout((function(){document.body.removeChild(i)}),333)}if(n=c instanceof h?c:new h([c],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(n,p);if(s.URL)y(s.URL.createObjectURL(n),!0);else{if("string"===typeof n||n.constructor===f)try{return y("data:"+u+";base64,"+s.btoa(n))}catch(x){return y("data:"+u+","+encodeURIComponent(n))}r=new FileReader,r.onload=function(t){y(this.result)},r.readAsDataURL(n)}return!0}},"67ee":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a"));var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",stat:0}],i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=i).push.apply(t,(0,n.default)(e));var a=[1,2,3,4,5,6,7,14,30],r=a.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return i=i.concat(r),i};e.default=r},6867:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniLink:i("e120").default,uniTag:i("d2f3").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default,uniPopup:i("46c2").default,uniDataCheckbox:i("61f3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))]),i("button",{staticClass:t._$s(8,"sc","uni-button"),attrs:{disabled:t._$s(8,"a-disabled",!t.selectedIndexs.length),_i:8},on:{click:t.openTagsPopup}})])],1),i("view",{staticClass:t._$s(9,"sc","uni-container"),attrs:{_i:9}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:10},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[i("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"11-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"12-"+n}},[i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"username")},"sort-change":function(e){return t.sortChange(e,"username")}}},[t._v("\u7528\u6237\u540d")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"nickname")},"sort-change":function(e){return t.sortChange(e,"nickname")}}},[t._v("\u7528\u6237\u6635\u79f0")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"mobile")},"sort-change":function(e){return t.sortChange(e,"mobile")}}},[t._v("\u624b\u673a\u53f7\u7801")]),i("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.status_localdata,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"status")}}},[t._v("\u7528\u6237\u72b6\u6001")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"email")},"sort-change":function(e){return t.sortChange(e,"email")}}},[t._v("\u90ae\u7bb1")]),i("uni-th",{attrs:{align:"center",_i:"18-"+n}},[t._v("\u89d2\u8272")]),i("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":t.tagsData,_i:"19-"+n},on:{"filter-change":function(e){return t.filterChange(e,"tags")}}},[t._v("\u7528\u6237\u6807\u7b7e")]),i("uni-th",{attrs:{align:"center",_i:"20-"+n}},[t._v("\u53ef\u767b\u5f55\u5e94\u7528")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"21-"+n},on:{"filter-change":function(e){return t.filterChange(e,"last_login_date")},"sort-change":function(e){return t.sortChange(e,"last_login_date")}}},[t._v("\u6700\u540e\u767b\u5f55\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("23-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("23-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"23-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"24-"+n+o}},[t._v(a._$s("24-"+n+o,"t0-0",t._s(e.username)))]),i("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[t._v(a._$s("25-"+n+o,"t0-0",t._s(e.nickname)))]),i("uni-td",{attrs:{align:"center",_i:"26-"+n+o}},[t._v(a._$s("26-"+n+o,"t0-0",t._s(e.mobile)))]),i("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[t._v(a._$s("27-"+n+o,"t0-0",t._s(c.status_valuetotext[e.status])))]),i("uni-td",{attrs:{align:"center",_i:"28-"+n+o}},[i("uni-link",{attrs:{href:"mailto:"+e.email,text:e.email,_i:"29-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"30-"+n+o}},[t._v(a._$s("30-"+n+o,"t0-0",t._s(e.role)))]),i("uni-td",{attrs:{align:"center",_i:"31-"+n+o}},[t._l(a._$s("32-"+n+"-"+o,"f",{forItems:e.tags}),(function(r,s,u,c){return[a._$s("33-"+n+o+"-"+c,"i",e.tags)?i("uni-tag",{key:a._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:0,key:s+"_0"}),staticStyle:{margin:"0 5px"},attrs:{type:"primary",inverted:!0,size:"small",text:r,_i:"33-"+n+o+"-"+c}}):t._e()]}))],2),i("uni-td",{attrs:{align:"center",_i:"34-"+n+o}},[a._$s("35-"+n+o,"i",void 0===e.dcloud_appid)?i("uni-link",{attrs:{href:t.noAppidWhatShouldIDoLink,_i:"35-"+n+o}},[t._v("\u672a\u7ed1\u5b9a\u53ef\u767b\u5f55\u5e94\u7528"),i("view",{staticClass:a._$s("36-"+n+o,"sc","uni-icons-help"),attrs:{_i:"36-"+n+o}})]):t._e(),t._v(a._$s("34-"+n+o,"t1-0",t._s(e.dcloud_appid)))],1),i("uni-td",{attrs:{align:"center",_i:"37-"+n+o}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.last_login_date,_i:"38-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"39-"+n+o}},[i("view",{staticClass:a._$s("40-"+n+o,"sc","uni-group"),attrs:{_i:"40-"+n+o}},[i("button",{staticClass:a._$s("41-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"41-"+n+o},on:{click:function(i){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(a._$s("41-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),i("button",{staticClass:a._$s("42-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"42-"+n+o},on:{click:function(i){return t.confirmDelete(e._id)}}},[t._v(a._$s("42-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),i("view",{staticClass:a._$s("43-"+n,"sc","uni-pagination-box"),attrs:{_i:"43-"+n}},[i("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"44-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("44-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("fix-window",{attrs:{_i:45}}),i("uni-popup",{ref:"tagsPopup",attrs:{type:"center",_i:46}},[i("view",{staticClass:t._$s(47,"sc","tags-manager--x"),attrs:{_i:47}},[i("view",{staticClass:t._$s(48,"sc","tags-manager--header mb"),attrs:{_i:48}}),i("uni-data-checkbox",{ref:"checkbox",staticClass:t._$s(49,"sc","mb ml"),attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:49},model:{value:t._$s(49,"v-model",t.managerTags),callback:function(e){t.managerTags=e},expression:"managerTags"}}),i("view",{staticClass:t._$s(50,"sc","uni-group"),attrs:{_i:50}},[i("button",{staticClass:t._$s(51,"sc","uni-button"),attrs:{_i:51},on:{click:t.managerMultiTag}})])],1)])],1)},r=[]},"686e":function(t,e,i){"use strict";i.r(e);var a=i("cbce"),n=i("90bb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},6887:function(t,e,i){"use strict";i.r(e);var a=i("0af8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"68ab":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r={props:{localdata:{type:[Array,Object],default:function(){return[]}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:String,default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},manual:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},modelValue:{type:[Array,String,Number],default:function(){return[]}},preload:{type:Boolean,default:!1},stepSearh:{type:Boolean,default:!0},selfField:{type:String,default:""},parentField:{type:String,default:""},multiple:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},data:function(){return{loading:!1,errorMessage:"",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},dataList:[],selected:[],selectedIndex:0,page:{current:this.pageCurrent,size:this.pageSize,count:0}}},computed:{isLocaldata:function(){return!this.collection.length},postField:function(){var t=[this.field];return this.parentField&&t.push("".concat(this.parentField," as parent_value")),t.join(",")},dataValue:function(){var t=Array.isArray(this.modelValue)?this.modelValue.length>0:null!==this.modelValue||void 0!==this.modelValue;return t?this.modelValue:this.value},hasValue:function(){return"number"===typeof this.dataValue||null!=this.dataValue&&this.dataValue.length>0}},created:function(){var t=this;this.$watch((function(){var e=[];return["pageCurrent","pageSize","spaceInfo","value","modelValue","localdata","collection","action","field","orderby","where","getont","getcount","gettree"].forEach((function(i){e.push(t[i])})),e}),(function(e,i){for(var a=2;a<e.length;a++)if(e[a]!=i[a]){!0;break}e[0]!=i[0]&&(t.page.current=t.pageCurrent),t.page.size=t.pageSize,t.onPropsChange()})),this._treeData=[]},methods:{onPropsChange:function(){this._treeData=[]},getCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.database(this.spaceInfo),a=e.action||this.action;a&&(i=i.action(a));var n=e.collection||this.collection;i=i.collection(n);var r=e.where||this.where;r&&Object.keys(r).length&&(i=i.where(r));var s=e.field||this.field;s&&(i=i.field(s));var o=e.orderby||this.orderby;o&&(i=i.orderBy(o));var u=void 0!==e.pageCurrent?e.pageCurrent:this.page.current,c=void 0!==e.pageSize?e.pageSize:this.page.size,l=void 0!==e.getcount?e.getcount:this.getcount,d=void 0!==e.gettree?e.gettree:this.gettree,f={getCount:l,getTree:d};return e.getTreePath&&(f.getTreePath=e.getTreePath),i=i.skip(c*(u-1)).limit(c).get(f),i},getNodeData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:this._pathWhere()}).then((function(i){e.loading=!1,e.selected=i.result.data,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},getTreePath:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,getTreePath:{startWith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}}).then((function(i){e.loading=!1;var a=[];e._extractTreePath(i.result.data,a),e.selected=a,t&&t()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},loadData:function(){var t=this;this.isLocaldata?this._processLocalData():null==this.dataValue?this.stepSearh?this._loadNodeData((function(e){t._treeData=e,t._updateBindData()})):this._loadAllData((function(e){t._treeData=[],t._extractTree(e,t._treeData,null),t._updateBindData()})):this._loadNodeData((function(e){t._treeData=e,t._updateBindData(),t._updateSelected()}))},_loadAllData:function(t){var e=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,gettree:!0,startwith:"".concat(this.selfField,"=='").concat(this.dataValue,"'")}).then((function(i){e.loading=!1,t(i.result.data),e.onDataChange()})).catch((function(t){e.loading=!1,e.errorMessage=t})))},_loadNodeData:function(t,e){var i=this;this.loading||(this.loading=!0,this.getCommand({field:this.postField,where:e||this._postWhere(),pageSize:500}).then((function(e){i.loading=!1,t(e.result.data),i.onDataChange()})).catch((function(t){i.loading=!1,i.errorMessage=t})))},_pathWhere:function(){var t=[],e=this._getParentNameByField();return e&&t.push("".concat(e," == '").concat(this.dataValue,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_postWhere:function(){var t=[],e=this.selected,i=this.parentField;if(i&&t.push("".concat(i," == null || ").concat(i,' == ""')),e.length)for(var a=0;a<e.length-1;a++)t.push("".concat(i," == '").concat(e[a].value,"'"));var n=[];return this.where&&n.push("(".concat(this.where,")")),t.length&&n.push("(".concat(t.join(" || "),")")),n.join(" && ")},_nodeWhere:function(){var t=[],e=this.selected;return e.length&&t.push("".concat(this.parentField," == '").concat(e[e.length-1].value,"'")),this.where?"(".concat(this.where,") && (").concat(t.join(" || "),")"):t.join(" || ")},_getParentNameByField:function(){for(var t=this.field.split(","),e=null,i=0;i<t.length;i++){var a=t[i].split("as");if(!(a.length<2)&&"value"===a[1].trim()){e=a[0].trim();break}}return e},_isTreeView:function(){return this.parentField&&this.selfField},_updateSelected:function(){for(var t=this.dataList,e=this.selected,i=this.map.text,a=this.map.value,n=0;n<e.length;n++)for(var r=e[n].value,s=t[n],o=0;o<s.length;o++){var u=s[o];if(u[a]===r){e[n].text=u[i];break}}},_updateBindData:function(t){var e=this._filterData(this._treeData,this.selected),i=e.dataList,a=e.hasNodes,n=!1===this._stepSearh&&!a;return t&&(t.isleaf=n),this.dataList=i,this.selectedIndex=i.length-1,!n&&this.selected.length<i.length&&this.selected.push({value:null,text:"\u8bf7\u9009\u62e9"}),{isleaf:n,hasNodes:a}},_filterData:function(t,e){var i=[],a=!0;i.push(t.filter((function(t){return null===t.parent_value||void 0===t.parent_value||""===t.parent_value})));for(var n=0;n<e.length;n++){var r=e[n].value,s=t.filter((function(t){return t.parent_value===r}));s.length?i.push(s):a=!1}return{dataList:i,hasNodes:a}},_extractTree:function(t,e,i){for(var a=this.map.value,n=0;n<t.length;n++){var r=t[n],s={};for(var o in r)"children"!==o&&(s[o]=r[o]);null!==i&&void 0!==i&&""!==i&&(s.parent_value=i),e.push(s);var u=r.children;u&&this._extractTree(u,e,r[a])}},_extractTreePath:function(t,e){for(var i=0;i<t.length;i++){var a=t[i],n={};for(var r in a)"children"!==r&&(n[r]=a[r]);e.push(n);var s=a.children;s&&this._extractTreePath(s,e)}},_findNodePath:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=this.map.text,n=this.map.value,r=0;r<e.length;r++){var s=e[r],o=s.children,u=s[a],c=s[n];if(i.push({value:c,text:u}),c===t)return i;if(o){var l=this._findNodePath(t,o,i);if(l.length)return l}i.pop()}return[]},_processLocalData:function(){this._treeData=[],this._extractTree(this.localdata,this._treeData);var t=this.dataValue;void 0!==t&&(Array.isArray(t)&&(t=t[t.length-1],"object"===(0,n.default)(t)&&t[this.map.value]&&(t=t[this.map.value])),this.selected=this._findNodePath(t,this.localdata))}}};e.default=r}).call(this,i("a9ff")["default"])},"68bf":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default,showInfo:i("b029").default,uniFilePicker:i("cb7f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.type_valuetotext[t.formData.type])))])])]),i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",labelWidth:t.labelWidth,_i:5}},[i("uni-forms-item",{attrs:{name:"appid",label:"AppID",required:!0,_i:6}},[i("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",_i:8}},[i("uni-easyinput",{attrs:{disabled:!0,trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"title",label:"\u66f4\u65b0\u6807\u9898",_i:10}},[i("uni-easyinput",{attrs:{placeholder:"\u66f4\u65b0\u6807\u9898",_i:11},model:{value:t._$s(11,"v-model",t.formData.title),callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),i("uni-forms-item",{attrs:{name:"contents",label:"\u66f4\u65b0\u5185\u5bb9",required:!0,_i:12}},[i("textarea",{staticClass:t._$s(13,"sc","uni-textarea-border"),attrs:{value:t._$s(13,"a-value",t.formData.contents),_i:13},on:{input:function(e){return t.binddata("contents",e.detail.value)},"update:value":function(e){return t.formData.contents=e}}})]),i("uni-forms-item",{attrs:{name:"platform",label:"\u5e73\u53f0",required:!0,_i:14}},[i("uni-data-checkbox",{attrs:{multiple:t.isWGT,localdata:t.platformLocaldata,_i:15},model:{value:t._$s(15,"v-model",t.formData.platform),callback:function(e){t.$set(t.formData,"platform",e)},expression:"formData.platform"}})],1),i("uni-forms-item",{attrs:{name:"version",label:"\u7248\u672c\u53f7",required:!0,_i:16}},[i("uni-easyinput",{attrs:{placeholder:"\u5f53\u524d\u5305\u7248\u672c\u53f7\uff0c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u7ebf\u4e0a\u53d1\u884c\u7248\u672c\u53f7",_i:17},model:{value:t._$s(17,"v-model",t.formData.version),callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}})],1),t._$s(18,"i",t.isWGT)?i("uni-forms-item",{attrs:{name:"min_uni_version",label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",required:t.isWGT,_i:18}},[i("uni-easyinput",{attrs:{placeholder:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c",_i:19},model:{value:t._$s(19,"v-model",t.formData.min_uni_version),callback:function(e){t.$set(t.formData,"min_uni_version",e)},expression:"formData.min_uni_version"}}),i("show-info",{attrs:{content:t.minUniVersionContent,_i:20}})],1):t._e(),t._$s(21,"i",!t.isiOS)?i("uni-forms-item",{attrs:{label:"\u4e0a\u4f20apk\u5305",_i:21}},[i("uni-file-picker",{attrs:{"file-extname":t.fileExtname,disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:22},on:{success:t.packageUploadSuccess,delete:t.packageDelete},model:{value:t._$s(22,"v-model",t.appFileList),callback:function(e){t.appFileList=e},expression:"appFileList"}},[i("view",{staticClass:t._$s(23,"sc","flex"),attrs:{_i:23}},[i("button",{attrs:{_i:24},on:{click:t.selectFile}}),i("text")])]),t._$s(26,"i",t.hasPackage)?i("text",[t._v(t._$s(26,"t0-0",t._s(Number(t.appFileList.size/1024/1024).toFixed(2))))]):t._e()],1):t._e(),i("uni-forms-item",{attrs:{name:"url",label:t.isiOS?"AppStore":"\u5305\u5730\u5740",required:!0,_i:27}},[i("uni-easyinput",{attrs:{placeholder:"\u53ef\u4e0b\u8f7d\u5b89\u88c5\u5305\u5730\u5740",maxlength:-1,_i:28},model:{value:t._$s(28,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}}),i("show-info",{attrs:{top:-80,content:t.uploadFileContent,_i:29}})],1),t._$s(30,"i",t.isWGT)?i("uni-forms-item",{attrs:{name:"is_silently",label:"\u9759\u9ed8\u66f4\u65b0",_i:30}},[i("switch",{attrs:{checked:t._$s(31,"a-checked",t.formData.is_silently),_i:31},on:{change:function(e){return t.binddata("is_silently",e.detail.value)}}}),i("show-info",{attrs:{top:-80,content:t.silentlyContent,_i:32}})],1):t._e(),t._$s(33,"i",!t.isiOS)?i("uni-forms-item",{attrs:{name:"is_mandatory",label:"\u5f3a\u5236\u66f4\u65b0",_i:33}},[i("switch",{attrs:{checked:t._$s(34,"a-checked",t.formData.is_mandatory),_i:34},on:{change:function(e){return t.binddata("is_mandatory",e.detail.value)}}}),i("show-info",{attrs:{content:t.mandatoryContent,_i:35}})],1):t._e(),i("uni-forms-item",{attrs:{name:"stable_publish",label:"\u4e0a\u7ebf\u53d1\u884c",_i:36}},[i("switch",{attrs:{checked:t._$s(37,"a-checked",t.formData.stable_publish),_i:37},on:{change:function(e){return t.binddata("stable_publish",e.detail.value)}}}),i("show-info",{attrs:{top:-40,content:t.stablePublishContent2,_i:38}})],1),i("uni-forms-item",{directives:[{name:"show",rawName:"v-show",value:t._$s(39,"v-show",!1),expression:"_$s(39,'v-show',false)"}],attrs:{name:"type",label:"\u5b89\u88c5\u5305\u7c7b\u578b",_i:39}},[i("uni-data-checkbox",{attrs:{localdata:t.formOptions.type_localdata,_i:40},model:{value:t._$s(40,"v-model",t.formData.type),callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),i("view",{staticClass:t._$s(41,"sc","uni-button-group"),attrs:{_i:41}},[i("button",{staticClass:t._$s(42,"sc","uni-button"),attrs:{_i:42},on:{click:t.submit}}),i("button",{staticClass:t._$s(43,"sc","uni-button"),attrs:{_i:43},on:{click:t.back}})])],1)],1)},r=[]},"68f3":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u522a\u9664\u6578\u64da"}')},"68f6":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("166a")),r={data:function(){return{icons:n.default}},props:{tag:{type:Boolean,default:!0},fixWindow:{type:Boolean,default:!0}},methods:{setClipboardData:function(t,e){var i="uni-icons-"+e;this.tag&&"tag"===t&&(i='<view class="'+i+'"></view>'),uni.setClipboardData({data:i,success:function(t){uni.showToast({icon:"none",title:"\u590d\u5236 "+i+" \u6210\u529f\uff01"})},fail:function(t){uni.showModal({content:"\u590d\u5236 "+i+" \u5931\u8d25\uff01",showCancel:!1})}})}}};e.default=r},6960:function(t,e,i){"use strict";i.r(e);var a=i("61e8"),n=i("7df6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"699b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniTh",options:{virtualHost:!0},components:{},emits:["sort-change","filter-change"],props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1},sortable:{type:Boolean,default:!1},filterType:{type:String,default:""},filterData:{type:Array,default:function(){return[]}},filterDefaultValue:{type:[Array,String],default:function(){return""}}},data:function(){return{border:!1,ascending:!1,descending:!1}},computed:{customWidth:function(){if("number"===typeof this.width)return this.width;if("string"===typeof this.width){var t=new RegExp(/^[1-9][0-9]*px$/g),e=new RegExp(/^[1-9][0-9]*rpx$/g),i=new RegExp(/^[1-9][0-9]*$/g);if(null!==this.width.match(t))return this.width.replace("px","");if(null!==this.width.match(e)){var a=Number(this.width.replace("rpx","")),n=uni.getSystemInfoSync().screenWidth/750;return Math.round(a*n)}return null!==this.width.match(i)?this.width:""}return""},contentAlign:function(){var t="left";switch(this.align){case"left":t="flex-start";break;case"center":t="center";break;case"right":t="flex-end";break}return t}},created:function(){this.root=this.getTable("uniTable"),this.rootTr=this.getTable("uniTr"),this.rootTr.minWidthUpdate(this.customWidth?this.customWidth:140),this.border=this.root.border,this.root.thChildren.push(this)},methods:{sort:function(){if(this.sortable)return this.clearOther(),this.ascending||this.descending?this.ascending&&!this.descending?(this.ascending=!1,this.descending=!0,void this.$emit("sort-change",{order:"descending"})):void(!this.ascending&&this.descending&&(this.ascending=!1,this.descending=!1,this.$emit("sort-change",{order:null}))):(this.ascending=!0,void this.$emit("sort-change",{order:"ascending"}))},ascendingFn:function(){this.clearOther(),this.ascending=!this.ascending,this.descending=!1,this.$emit("sort-change",{order:this.ascending?"ascending":null})},descendingFn:function(){this.clearOther(),this.descending=!this.descending,this.ascending=!1,this.$emit("sort-change",{order:this.descending?"descending":null})},clearOther:function(){var t=this;this.root.thChildren.map((function(e){return e!==t&&(e.ascending=!1,e.descending=!1),e}))},ondropdown:function(t){this.$emit("filter-change",t)},getTable:function(t){var e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=a},"6a31":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2707"),n={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,a.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=n},"6ac3":function(t,e,i){"use strict";function a(t){var e="";for(var i in t){var a=t[i];e+="".concat(i,":").concat(a,";")}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm","clear","eyes","change"],model:{prop:"modelValue",event:"update:modelValue"},options:{virtualHost:!0},inject:{form:{from:"uniForm",default:null},formItem:{from:"uniFormItem",default:null}},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:{type:String,default:" "},placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:24},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},primaryColor:{type:String,default:"#2979ff"},styles:{type:Object,default:function(){return{color:"#333",backgroundColor:"#fff",disableColor:"#F7F6F6",borderColor:"#e5e5e5"}}},errorMessage:{type:[String,Boolean],default:""}},data:function(){return{focused:!1,val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1,focusShow:!1,localMsg:"",isEnter:!1}},computed:{isVal:function(){var t=this.val;return!(!t&&0!==t)},msg:function(){return this.localMsg||this.errorMessage},inputMaxlength:function(){return Number(this.maxlength)},boxStyle:function(){return"color:".concat(this.inputBorder&&this.msg?"#e43d33":this.styles.color,";")},inputContentClass:function(){return function(t){var e="";for(var i in t){var a=t[i];a&&(e+="".concat(i," "))}return e}({"is-input-border":this.inputBorder,"is-input-error-border":this.inputBorder&&this.msg,"is-textarea":"textarea"===this.type,"is-disabled":this.disabled,"is-focused":this.focusShow})},inputContentStyle:function(){var t=this.focusShow?this.primaryColor:this.styles.borderColor,e=this.inputBorder&&this.msg?"#dd524d":t;return a({"border-color":e||"#e5e5e5","background-color":this.disabled?this.styles.disableColor:this.styles.backgroundColor})},inputStyle:function(){var t="password"===this.type||this.clearable||this.prefixIcon?"":"10px";return a({"padding-right":t,"padding-left":this.prefixIcon?"":"10px"})}},watch:{value:function(t){this.val=t},modelValue:function(t){this.val=t},focus:function(t){var e=this;this.$nextTick((function(){e.focused=e.focus,e.focusShow=e.focus}))}},created:function(){var t=this;this.init(),this.form&&this.formItem&&this.$watch("formItem.errMsg",(function(e){t.localMsg=e}))},mounted:function(){var t=this;this.$nextTick((function(){t.focused=t.focus,t.focusShow=t.focus}))},methods:{init:function(){this.value||0===this.value?this.val=this.value:this.modelValue||0===this.modelValue?this.val=this.modelValue:this.val=null},onClickIcon:function(t){this.$emit("iconClick",t)},onEyes:function(){this.showPassword=!this.showPassword,this.$emit("eyes",this.showPassword)},onInput:function(t){var e=t.detail.value;this.trim&&("boolean"===typeof this.trim&&this.trim&&(e=this.trimStr(e)),"string"===typeof this.trim&&(e=this.trimStr(e,this.trim))),this.errMsg&&(this.errMsg=""),this.val=e,this.$emit("input",e),this.$emit("update:modelValue",e)},onFocus:function(){var t=this;this.$nextTick((function(){t.focused=!0})),this.$emit("focus",null)},_Focus:function(t){this.focusShow=!0,this.$emit("focus",t)},onBlur:function(){this.focused=!1,this.$emit("focus",null)},_Blur:function(t){t.detail.value;if(this.focusShow=!1,this.$emit("blur",t),!1===this.isEnter&&this.$emit("change",this.val),this.form&&this.formItem){var e=this.form.validateTrigger;"blur"===e&&this.formItem.onFieldChange()}},onConfirm:function(t){var e=this;this.$emit("confirm",this.val),this.isEnter=!0,this.$emit("change",this.val),this.$nextTick((function(){e.isEnter=!1}))},onClear:function(t){this.val="",this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("clear")},trimStr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return"both"===e?t.trim():"left"===e?t.trimLeft():"right"===e?t.trimRight():"start"===e?t.trimStart():"end"===e?t.trimEnd():"all"===e?t.replace(/\s+/g,""):t}}};e.default=n},"6adb":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("ecb7")),r=a(i("d2f6")),s=(a(i("2543")),t.importObject("uni-id-co",{customUI:!0})),o={mixins:[r.default],data:function(){return{formData:{username:"",nickname:"",password:"",password2:"",captcha:""},rules:n.default,focusUsername:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){return 4!=t.formData.captcha.length?(t.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none",duration:3e3})):t.needAgreements&&!t.agree?t.$refs.agreements.popup((function(){t.submitForm(e)})):void t.submitForm(e)})).catch((function(e){var i=e[0].key;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))},submitForm:function(t){var e=this;s.registerAdmin(this.formData).then((function(t){uni.navigateBack()})).catch((function(t){e.$refs.captcha.getImageCaptcha(),uni.showModal({title:"\u63d0\u793a",content:t.errMsg||"\u521b\u5efa\u5931\u8d25: ".concat(t.errCode),showCancel:!1})}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register-by-email"})}}};e.default=o}).call(this,i("a9ff")["default"])},"6b22":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f539")),r=a(i("de08")),s=a(i("1d97")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},"6b58":function(t,e,i){var a=i("7037")["default"],n=i("3c96");t.exports=function(t,e){if(e&&("object"===a(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"6b97":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("03b2"),s=i("06ce"),o=a(i("a3e1"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l=t.database(),d={ascending:"asc",descending:"desc"},f={data:function(){return{collectionList:"uni-pay-orders",query:{appid:"",platform_id:"",uni_platform:"",version:"",pay_date:[],channel_code:""},where:"",orderby:"total_fee desc",orderByFieldName:"",selectedIndexs:[],options:c({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"\u4ef7\u503c\u7528\u6237\u6392\u884c.xls",type:"xls",fields:{"\u7528\u6237ID":"user_id","\u7528\u6237\u6635\u79f0":"nickname","\u652f\u4ed8\u91d1\u989d":"total_fee","\u8ba2\u5355\u6570\u91cf":"count"}},exportExcelData:[],dateTabs:{time:[],timeStr:"",index:null,list:[{_id:0,name:"\u4eca\u5929"},{_id:1,name:"\u6628\u5929"},{_id:7,name:"\u6700\u8fd1\u4e03\u5929"},{_id:30,name:"\u6700\u8fd130\u5929"},{_id:90,name:"\u6700\u8fd190\u5929"}]}}},onLoad:function(){this._filter={}},onReady:function(){},methods:{payDatePicker:function(t){this.query.pay_date=t,this.search()},onqueryload:function(t){this.exportExcelData=t},getWhere:function(){var t="",e=this.query,i=e.pay_date,a=e.appid,n=e.version,r=e.uni_platform,s=e.channel_code;return i&&2==i.length&&(t+=" && pay_date>=".concat(i[0]," && pay_date<=").concat(i[1])),a&&(t+=" && appid=='".concat(a,"'")),n&&(t+=" && stat_data.app_version=='".concat(n,"'")),r&&(t+=" && stat_data.platform=='".concat(r,"'")),s&&(t+=" && stat_data.channel=='".concat(s,"'")),t=t.substring(3).trim(),t},search:function(){var t=this;if(this.query.appid){var e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))}},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+d[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,r.filterToWhere)(this._filter,l.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))},platformChange:function(t,e,i,a){this.query.version=0,this.query.uni_platform=a.code},nameFormat:function(t){return t.user_id?t.nickname?"".concat(t.user_id,"\uff08").concat(t.nickname,"\uff09"):t.user_id:"\u533f\u540d\u7528\u6237"},pageToUser:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/system/user/list?id=".concat(e)})},pageToOrder:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/uni-stat/pay-order/list/list?user_id=".concat(e)})},dateTabsChange:function(t,e){this.dateTabs.index=e;var i=(0,s.getTimeOfSomeDayAgo)(t),a=o.default.getOffsetStartAndEnd("day",0).endTime;1==t&&(a=o.default.getOffsetStartAndEnd("day",0,i).endTime),this.query.pay_date=[i,a]}},watch:{query:{deep:!0,handler:function(t){this.search()}}},computed:{versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i});return a},channelQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=(0,s.stringifyQuery)({appid:e,platform_id:i});return a}}};e.default=f}).call(this,i("a9ff")["default"])},"6bde":function(t,e,i){"use strict";i.r(e);var a=i("6adb"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6c2b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{}},onLoad:function(t){this.errMsg=t.errMsg||""},methods:{}}},"6cb3":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("06ce"),r=a(i("a3e1")),s=i("0a0a"),o=s.statPanelTodayFieldsMap,u={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",fieldsMap:o,panelData:{today:{pay_total_amount:"-",pay_order_count:"-"},yesterday:{pay_total_amount:"-",pay_order_count:"-"},beforeyesterday:{pay_total_amount:"-",pay_order_count:"-"},week:{pay_total_amount:"-",pay_order_count:"-"},month:{pay_total_amount:"-",pay_order_count:"-"},quarter:{pay_total_amount:"-",pay_order_count:"-"},year:{pay_total_amount:"-",pay_order_count:"-"},total:{pay_total_amount:"-",pay_order_count:"-"}},loading:!1}},created:function(){var t=this;this.getCloudDataDebounce=(0,n.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,i=this.query;if(i.appid){this.loading=!0,i=(0,n.stringifyQuery)(i,!0,["uni_platform"]);var a=this.getWhere(i);i&&(a="".concat(i," && (").concat(a,")"));var r=t.database();r.collection(this.tableName).where(a).field("".concat((0,n.stringifyField)(o),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("stat_time, dimension").groupField((0,n.stringifyGroupField)(o)+",last(start_time) as start_time").get().then((function(t){var i=t.result.data;i.map((function(t,e){t.actual_total_amount||(t.actual_total_amount=t.pay_total_amount-t.refund_total_amount)})),i=(0,n.formatterData)({fieldsMap:o,data:i}),e.loading=!1,Object.assign(e.panelData,e.setPanelData(i))}));var s="".concat(i,' && dimension == "year"');r.collection(this.tableName).where(s).field("".concat((0,n.stringifyField)(o),", dimension")).groupBy("dimension").groupField((0,n.stringifyGroupField)(o)).get().then((function(t){var i=t.result.data;i.map((function(t,e){t.actual_total_amount=t.pay_total_amount-t.refund_total_amount})),i=(0,n.formatterData)({fieldsMap:o,data:i}),Object.assign(e.panelData,{total:i[0]||{pay_total_amount:0,pay_order_count:0,create_total_amount:0,refund_total_amount:0,actual_total_amount:0}})}))}},getWhere:function(t){var e,i=Date.now(),a=r.default.getOffsetStartAndEnd("day",0,i),n=r.default.getOffsetStartAndEnd("day",-1,i),s=r.default.getOffsetStartAndEnd("day",-2,i),o=r.default.getOffsetStartAndEnd("week",0,i),u=r.default.getOffsetStartAndEnd("month",0,i),c=r.default.getOffsetStartAndEnd("quarter",0,i),l=r.default.getOffsetStartAndEnd("year",0,i);return e='(dimension=="day" && start_time=='.concat(a.startTime," && end_time==").concat(a.endTime,') || (dimension=="day" && start_time==').concat(n.startTime," && end_time==").concat(n.endTime,') || (dimension=="day" && start_time==').concat(s.startTime," && end_time==").concat(s.endTime,') || (dimension=="week" && start_time==').concat(o.startTime," && end_time==").concat(o.endTime,') || (dimension=="month" && start_time==').concat(u.startTime," && end_time==").concat(u.endTime,') || (dimension=="quarter" && start_time==').concat(c.startTime," && end_time==").concat(c.endTime,') || (dimension=="year" && start_time==').concat(l.startTime," && end_time==").concat(l.endTime,")"),e},setPanelData:function(t){var e=Date.now(),i=r.default.getOffsetStartAndEnd("day",0,e),a=r.default.getOffsetStartAndEnd("day",-1,e),n=r.default.getOffsetStartAndEnd("day",-2,e),s=t.find((function(t){return"day"===t.dimension&&t.start_time===i.startTime})),o=t.find((function(t){return"day"===t.dimension&&t.start_time===a.startTime})),u=t.find((function(t){return"day"===t.dimension&&t.start_time===n.startTime})),c=t.find((function(t){return"week"===t.dimension})),l=t.find((function(t){return"month"===t.dimension})),d=t.find((function(t){return"quarter"===t.dimension})),f=t.find((function(t){return"year"===t.dimension})),h={pay_total_amount:0,pay_order_count:0,create_total_amount:0,refund_total_amount:0,actual_total_amount:0};return{today:s||h,yesterday:o||h,beforeyesterday:u||h,week:c||h,month:l||h,quarter:d||h,year:f||h}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}}};e.default=u}).call(this,i("a9ff")["default"])},"6ccd":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),i("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),i("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,a,n,r){return i("view",{key:t._$s(13,"f",{forIndex:n,key:a}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[i("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[a].title)))]),i("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[a],echartsH5:!0,echartsApp:!0,_i:"15-"+r}})],1)})),0)]),i("fix-window",{attrs:{_i:16}})],1)},r=[]},"6cfe":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniLink:i("e120").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniIcons:i("3bcb").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}},[i("uni-link",{attrs:{href:"https://ask.dcloud.net.cn/article/35974",text:"\u652f\u6301Android App\u591a\u6e20\u9053\u7edf\u8ba1\u3002\u8bbe\u7f6eApp\u6e20\u9053\u5305\u7684\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003 https://ask.dcloud.net.cn/article/35974\u3002",_i:5}})],1)])],1),i("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","uni-stat--x flex p-1015"),attrs:{_i:7}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:8},model:{value:t._$s(8,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(9,"sc","ml-m"),attrs:{collection:"opendb-app-versions",storage:!1,where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform-channel",all:!1,_i:10},on:{change:t.changePlatform},model:{value:t._$s(10,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),i("view",{staticClass:t._$s(11,"sc","uni-stat--x flex"),attrs:{_i:11}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:12},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(13,"sc","uni-stat-datetime-picker"),class:t._$s(13,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:13},on:{change:t.useDatetimePicker},model:{value:t._$s(13,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(14,"sc","uni-stat--x"),attrs:{_i:14}},[i("uni-stat-panel",{staticClass:t._$s(15,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:15}}),i("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),i("view",{staticClass:t._$s(19,"sc","uni-stat--x p-m"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","mb-m"),attrs:{_i:20}},[i("uni-link",{attrs:{color:"",href:"https://ask.dcloud.net.cn/article/35974",text:"\u5982\u4f55\u81ea\u5b9a\u4e49\u6e20\u9053\u5305?",_i:21}})],1),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:22}},[i("uni-tr",{attrs:{_i:23}},[t._l(t._$s(24,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(e,a,n,r){return[t._$s("25-"+r,"i",e.title)?i("uni-th",{key:t._$s(24,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"25-"+r}},[t._v(t._$s("25-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(26,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(26,"f",{forIndex:n,key:a}),attrs:{_i:"26-"+r}},[t._l(t._$s("27-"+r,"f",{forItems:t.fieldsMap.slice(0,t.fieldsMap.length-1)}),(function(a,n,s,o){return[t._$s("28-"+r+"-"+o,"i",a.title&&1===n)?i("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:0,key:a.field+"_"+n+"_0"}),staticClass:t._$s("28-"+r+"-"+o,"sc","uni-stat-edit--x"),attrs:{_i:"28-"+r+"-"+o}},[t._v(t._$s("28-"+r+"-"+o,"t0-0",t._s(e[a.field]?e[a.field]:"-"))),i("uni-icons",{staticClass:t._$s("29-"+r+"-"+o,"sc","uni-stat-edit--btn"),attrs:{type:"compose",color:"#2979ff",size:"25",_i:"29-"+r+"-"+o},on:{click:function(i){return t.inputDialogToggle(e.channel_code,e.channel_name)}}})],1):i("uni-td",{key:t._$s("27-"+r,"f",{forIndex:s,keyIndex:-1,key:a.field}),attrs:{align:"center",_i:"30-"+r+"-"+o}},[t._v(t._$s("30-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]}))],2)}))],2),i("view",{staticClass:t._$s(31,"sc","uni-pagination-box"),attrs:{_i:31}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.paginationOptions.pageSize,current:t.paginationOptions.pageCurrent,total:t.paginationOptions.total,_i:32},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("uni-popup",{ref:"inputDialog",attrs:{type:"dialog",maskClick:!0,_i:33}},[i("uni-popup-dialog",{ref:"inputClose",attrs:{mode:"input",title:"\u8bf7\u7f16\u8f91\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",_i:34},on:{confirm:t.editName},model:{value:t._$s(34,"v-model",t.updateValue),callback:function(e){t.updateValue=e},expression:"updateValue"}})],1),i("fix-window",{attrs:{_i:35}})],1)},r=[]},"6d5b":function(t,e,i){"use strict";i.r(e);var a=i("4b49"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6d95":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("06ce"),n=i("4c4c");function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var o={data:function(){return{popupFieldsMap:n.popupFieldsMap,options:{pageSize:20,pageCurrent:1,total:0},query:{error_hash:"",create_time:[]},loading:!1,tableData:[]}},onLoad:function(t){var e=t.error_hash,i=t.create_time;e&&(i=Number(i),this.query.error_hash=e,this.query.create_time=[i,i+864e5],this.getTableData((0,a.stringifyQuery)(this.query)))},methods:{changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData((0,a.stringifyQuery)(this.query))},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData((0,a.stringifyQuery)(this.query))},getTableData:function(e){var i=this,n=this.options.pageCurrent;this.loading=!0;var s=t.database();s.collection("uni-stat-error-logs").where(e).orderBy("create_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,n=e.count,s=e.data;i.options.total=n;var o,u=r(s);try{for(u.s();!(o=u.n()).done;){var c=o.value;c.create_time=(0,a.parseDateTime)(c.create_time,"dateTime")}}catch(l){u.e(l)}finally{u.f()}i.tableData=s})).finally((function(){i.loading=!1}))}}};e.default=o}).call(this,i("a9ff")["default"])},"6dda":function(t,e,i){"use strict";i.r(e);var a=i("2d3d"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6df0":function(t,e,i){"use strict";i.r(e);var a=i("a376"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6dfc":function(t,e,i){"use strict";i.r(e);var a=i("e8de"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6e23":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,downloadExcel:i("071b").default,uniStatTabs:i("e98e").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("uni-stat-breadcrumb",{attrs:{_i:3}})],1),i("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[i("button",{staticClass:t._$s(5,"sc","uni-button"),attrs:{_i:5},on:{click:t.search}}),i("download-excel",{staticClass:t._$s(6,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:6}},[i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}})])],1)]),i("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","uni-stat--x"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:10},on:{change:t.platformChange},model:{value:t._$s(10,"v-model",t.query.platform),callback:function(e){t.$set(t.query,"platform",e)},expression:"query.platform"}})],1),i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"user_id,nickname,provider,provider_pay_type,uni_platform,status,type,order_no,out_trade_no,transaction_id,device_id,client_ip,openid,description,err_msg,total_fee,refund_fee,refund_count,refund_list,provider_appid,appid,user_order_success,create_date,pay_date,notify_date,cancel_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:11},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[i("uni-table",{ref:"table",staticStyle:{"min-height":"900px"},attrs:{loading:o,emptyText:u.message||o?"\u8bf7\u6c42\u4e2d...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"",_i:"12-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"13-"+n}},[i("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("\u5e8f\u53f7")]),i("uni-th",{ref:"user_id",attrs:{align:"center",filterDefaultValue:t.filterDefaultValueUserId,"filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"user_id")},"sort-change":function(e){return t.sortChange(e,"user_id")}}},[t._v("\u7528\u6237")]),i("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.provider_localdata,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider")}}},[t._v("\u652f\u4ed8\u4f9b\u5e94\u5546")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider_pay_type")},"sort-change":function(e){return t.sortChange(e,"provider_pay_type")}}},[t._v("\u652f\u4ed8\u65b9\u5f0f")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"18-"+n},on:{"filter-change":function(e){return t.filterChange(e,"uni_platform")},"sort-change":function(e){return t.sortChange(e,"uni_platform")}}},[t._v("\u5e94\u7528\u5e73\u53f0")]),i("uni-th",{attrs:{align:"center","filter-type":"select","filter-data":c.filterData.status_localdata,_i:"19-"+n},on:{"filter-change":function(e){return t.filterChange(e,"status")}}},[t._v("\u8ba2\u5355\u72b6\u6001")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"20-"+n},on:{"filter-change":function(e){return t.filterChange(e,"type")},"sort-change":function(e){return t.sortChange(e,"type")}}},[t._v("\u8ba2\u5355\u7c7b\u578b")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"21-"+n},on:{"filter-change":function(e){return t.filterChange(e,"order_no")},"sort-change":function(e){return t.sortChange(e,"order_no")}}},[t._v("\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"22-"+n},on:{"filter-change":function(e){return t.filterChange(e,"out_trade_no")},"sort-change":function(e){return t.sortChange(e,"out_trade_no")}}},[t._v("\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"23-"+n},on:{"filter-change":function(e){return t.filterChange(e,"transaction_id")},"sort-change":function(e){return t.sortChange(e,"transaction_id")}}},[t._v("\u4ea4\u6613\u5355\u53f7")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"24-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u652f\u4ed8\u63cf\u8ff0")]),i("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"25-"+n},on:{"filter-change":function(e){return t.filterChange(e,"total_fee",.01)},"sort-change":function(e){return t.sortChange(e,"total_fee")}}},[t._v("\u8ba2\u5355\u652f\u4ed8\u91d1\u989d")]),i("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"26-"+n},on:{"filter-change":function(e){return t.filterChange(e,"refund_fee",.01)},"sort-change":function(e){return t.sortChange(e,"refund_fee")}}},[t._v("\u8ba2\u5355\u9000\u6b3e\u91d1\u989d")]),i("uni-th",{attrs:{align:"center","filter-type":"range",sortable:!0,_i:"27-"+n},on:{"filter-change":function(e){return t.filterChange(e,"refund_count")},"sort-change":function(e){return t.sortChange(e,"refund_count")}}},[t._v("\u5f53\u524d\u9000\u6b3e\u7b14\u6570")]),i("uni-th",{attrs:{align:"center",sortable:!0,_i:"28-"+n},on:{"sort-change":function(e){return t.sortChange(e,"user_order_success")}}},[t._v("\u56de\u8c03\u72b6\u6001")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"29-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"30-"+n},on:{"filter-change":function(e){return t.filterChange(e,"pay_date")},"sort-change":function(e){return t.sortChange(e,"pay_date")}}},[t._v("\u652f\u4ed8\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"31-"+n},on:{"filter-change":function(e){return t.filterChange(e,"cancel_date")},"sort-change":function(e){return t.sortChange(e,"cancel_date")}}},[t._v("\u53d6\u6d88\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"32-"+n},on:{"filter-change":function(e){return t.filterChange(e,"provider_appid")},"sort-change":function(e){return t.sortChange(e,"provider_appid")}}},[t._v("\u5f00\u653e\u5e73\u53f0appid")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"33-"+n},on:{"filter-change":function(e){return t.filterChange(e,"appid")},"sort-change":function(e){return t.sortChange(e,"appid")}}},[t._v("DCloud AppId")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"34-"+n},on:{"filter-change":function(e){return t.filterChange(e,"device_id")},"sort-change":function(e){return t.sortChange(e,"device_id")}}},[t._v("\u8bbe\u5907ID")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"35-"+n},on:{"filter-change":function(e){return t.filterChange(e,"client_ip")},"sort-change":function(e){return t.sortChange(e,"client_ip")}}},[t._v("\u5ba2\u6237\u7aefIP")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"36-"+n},on:{"filter-change":function(e){return t.filterChange(e,"openid")},"sort-change":function(e){return t.sortChange(e,"openid")}}},[t._v("openid")])],1),t._l(a._$s("37-"+n,"f",{forItems:r}),(function(e,r,o,u){return i("uni-tr",{key:a._$s("37-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"37-"+n+u}},[i("uni-td",{attrs:{align:"center",_i:"38-"+n+u}},[t._v(a._$s("38-"+n+u,"t0-0",t._s(parseInt(r+1+(s.current-1)*s.size))))]),i("uni-td",{attrs:{align:"center",_i:"39-"+n+u}},[i("text",{staticClass:a._$s("40-"+n+u,"sc","text-btn"),attrs:{_i:"40-"+n+u},on:{click:function(i){return t.pageToUser(e)}}},[t._v(a._$s("40-"+n+u,"t0-0",t._s(t.nameFormat(e))))])]),i("uni-td",{attrs:{align:"center",_i:"41-"+n+u}},[t._v(a._$s("41-"+n+u,"t0-0",t._s(c.provider_valuetotext[e.provider])))]),i("uni-td",{attrs:{align:"center",_i:"42-"+n+u}},[t._v(a._$s("42-"+n+u,"t0-0",t._s(e.provider_pay_type)))]),i("uni-td",{attrs:{align:"center",_i:"43-"+n+u}},[t._v(a._$s("43-"+n+u,"t0-0",t._s(e.uni_platform)))]),i("uni-td",{attrs:{align:"center",_i:"44-"+n+u}},[t._v(a._$s("44-"+n+u,"t0-0",t._s(c.status_valuetotext[e.status])))]),i("uni-td",{attrs:{align:"center",_i:"45-"+n+u}},[t._v(a._$s("45-"+n+u,"t0-0",t._s(e.type)))]),i("uni-td",{attrs:{align:"center",_i:"46-"+n+u}},[t._v(a._$s("46-"+n+u,"t0-0",t._s(e.order_no)))]),i("uni-td",{attrs:{align:"center",_i:"47-"+n+u}},[t._v(a._$s("47-"+n+u,"t0-0",t._s(e.out_trade_no)))]),i("uni-td",{attrs:{align:"center",_i:"48-"+n+u}},[t._v(a._$s("48-"+n+u,"t0-0",t._s(e.transaction_id)))]),i("uni-td",{attrs:{align:"center",_i:"49-"+n+u}},[t._v(a._$s("49-"+n+u,"t0-0",t._s(e.description)))]),i("uni-td",{attrs:{align:"center",_i:"50-"+n+u}},[t._v(a._$s("50-"+n+u,"t0-0",t._s((.01*e.total_fee).toFixed(2))))]),i("uni-td",{attrs:{align:"center",_i:"51-"+n+u}},[t._v(a._$s("51-"+n+u,"t0-0",t._s((.01*e.refund_fee).toFixed(2))))]),i("uni-td",{attrs:{align:"center",_i:"52-"+n+u}},[t._v(a._$s("52-"+n+u,"t0-0",t._s(e.refund_count)))]),i("uni-td",{attrs:{align:"center",_i:"53-"+n+u}},[a._$s("54-"+n+u,"i",!0===e.user_order_success)?i("view",{staticStyle:{color:"#18bc37"},attrs:{_i:"54-"+n+u}},[t._v("\u2714\u6b63\u5e38")]):a._$s("55-"+u,"e",[-1,0].indexOf(e.status)>-1)?i("view",{attrs:{_i:"55-"+u}},[t._v("-")]):i("view",{staticStyle:{color:"#e43d33"},attrs:{_i:"56-"+u}},[t._v("\u25cf\u5f02\u5e38")])]),i("uni-td",{attrs:{align:"center",_i:"57-"+n+u}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"58-"+n+u}})],1),i("uni-td",{attrs:{align:"center",_i:"59-"+n+u}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.pay_date,_i:"60-"+n+u}})],1),i("uni-td",{attrs:{align:"center",_i:"61-"+n+u}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.cancel_date,_i:"62-"+n+u}})],1),i("uni-td",{attrs:{align:"center",_i:"63-"+n+u}},[t._v(a._$s("63-"+n+u,"t0-0",t._s(e.provider_appid)))]),i("uni-td",{attrs:{align:"center",_i:"64-"+n+u}},[t._v(a._$s("64-"+n+u,"t0-0",t._s(e.appid)))]),i("uni-td",{attrs:{align:"center",_i:"65-"+n+u}},[t._v(a._$s("65-"+n+u,"t0-0",t._s(e.device_id)))]),i("uni-td",{attrs:{align:"center",_i:"66-"+n+u}},[t._v(a._$s("66-"+n+u,"t0-0",t._s(e.client_ip)))]),i("uni-td",{attrs:{align:"center",_i:"67-"+n+u}},[t._v(a._$s("67-"+n+u,"t0-0",t._s(e.openid)))])],1)}))],2),i("view",{staticClass:a._$s("68-"+n,"sc","uni-pagination-box"),attrs:{_i:"68-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"69-"+n},on:{change:t.onPageChanged},model:{value:t._$s("69-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("uni-popup",{ref:"popup",attrs:{type:"center",animation:!1,_i:70}},[i("view",[i("view"),i("uni-forms",{ref:"refundForm",attrs:{modelValue:t.refundFormData,"label-position":"left",labelWidth:"100px",rules:t.refundFormRules,_i:73}},[i("uni-forms-item",{attrs:{label:"\u9000\u6b3e\u91d1\u989d",name:"refund_fee",_i:74}},[i("uni-easyinput",{attrs:{type:"text",placeholder:"\u8bf7\u8f93\u5165\u9000\u6b3e\u91d1\u989d",clearable:!1,_i:75},model:{value:t._$s(75,"v-model",t.refundFormData.refund_fee),callback:function(e){t.$set(t.refundFormData,"refund_fee",t._n(e))},expression:"refundFormData.refund_fee"}}),i("view",[t._v(t._$s(76,"t0-0",t._s(t.refundFormData.max_refund_fee)))])],1),i("uni-forms-item",{attrs:{label:"\u9000\u6b3e\u539f\u56e0",name:"refund_desc",_i:77}},[i("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u8bf7\u8f93\u5165\u9000\u6b3e\u539f\u56e0",clearable:!1,_i:78},model:{value:t._$s(78,"v-model",t.refundFormData.refund_desc),callback:function(e){t.$set(t.refundFormData,"refund_desc",e)},expression:"refundFormData.refund_desc"}})],1),i("button",{attrs:{_i:79},on:{click:function(e){return t.confirmRefund(t.refundFormData)}}})],1)],1)])],1)},r=[]},"6e25":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=i("01b4"),o={},u={name:"l-clipper",props:{value:{type:Boolean,default:!0},customStyle:{type:String},canvasId:{type:String,default:"l-clipper"},zIndex:{type:Number,default:99},imageUrl:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:{type:Number,default:400},height:{type:Number,default:400},minWidth:{type:Number,default:200},maxWidth:{type:Number,default:600},minHeight:{type:Number,default:200},maxHeight:{type:Number,default:600},isLockWidth:{type:Boolean,default:!1},isLockHeight:{type:Boolean,default:!1},isLockRatio:{type:Boolean,default:!0},scaleRatio:{type:Number,default:1},minRatio:{type:Number,default:.5},maxRatio:{type:Number,default:2},isDisableScale:{type:Boolean,default:!1},isDisableRotate:{type:Boolean,default:!1},isLimitMove:{type:Boolean,default:!1},isShowPhotoBtn:{type:Boolean,default:!0},isShowRotateBtn:{type:Boolean,default:!0},isShowConfirmBtn:{type:Boolean,default:!0},isShowCancelBtn:{type:Boolean,default:!0},rotateAngle:{type:Number,default:90},source:{type:Object,default:function(){return{album:"\u4ece\u76f8\u518c\u4e2d\u9009\u62e9",camera:"\u62cd\u7167"}}}},data:function(){return{canvasWidth:0,canvasHeight:0,clipX:0,clipY:0,clipWidth:0,clipHeight:0,animation:!1,imageWidth:0,imageHeight:0,imageTop:0,imageLeft:0,scale:1,angle:0,image:this.imageUrl,sysinfo:{},throttleTimer:null,throttleFlag:!0,timeClipCenter:null,flagClipTouch:!1,flagEndTouch:!1,clipStart:{},animationTimer:null,touchRelative:[{x:0,y:0}],hypotenuseLength:0,ctx:null}},computed:{clipStyle:function(){var t=this.clipWidth,e=this.clipHeight,i=this.clipY,a=this.clipX,n=this.animation;return"\n\t\t\twidth: ".concat(t,"px;\n\t\t\theight:").concat(e,"px;\n\t\t\ttransition-property: ").concat(n?"":"background",";\n\t\t\tleft: ").concat(a,"px;\n\t\t\ttop: ").concat(i,"px\n\t\t\t")},imageStyle:function(){var t=this.imageWidth,e=this.imageHeight,i=this.imageLeft,a=this.imageTop,n=this.animation,r=this.scale,s=this.angle;return"\n\t\t\t\twidth: ".concat(t?t+"px":"auto",";\n\t\t\t\theight: ").concat(e?e+"px":"auto",";\n\t\t\t\ttransform: translate3d(").concat(i-t/2,"px, ").concat(a-e/2,"px, 0) scale(").concat(r,") rotate(").concat(s,"deg);\n\t\t\t\ttransition-duration: ").concat(n?.35:0,"s\n\t\t\t")},clipSize:function(){var t=this.clipWidth,e=this.clipHeight;return{clipWidth:t,clipHeight:e}},clipPoint:function(){var t=this.clipY,e=this.clipX;return{clipY:t,clipX:e}}},watch:{value:function(t){if(t){if(this.imageUrl){var e=(null===o||void 0===o?void 0:o[this.imageUrl])||{},i=e.imageWidth,a=e.imageHeight,n=e.imageLeft,r=e.imageTop,s=e.scale,u=e.clipX,c=e.clipY,l=e.clipWidth,d=e.clipHeight,f=e.path;f!=this.image?this.image=this.imageUrl:this.setDiffData({imageWidth:i,imageHeight:a,imageLeft:n,imageTop:r,scale:s,clipX:u,clipY:c,clipWidth:l,clipHeight:d})}}else this.animation=0,this.angle=0},imageUrl:function(t){this.image=t},image:{handler:function(){var t=(0,r.default)(n.default.mark((function t(e){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getImageInfo(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},clipSize:function(t){var e=t.widthVal,i=t.heightVal,a=this.minWidth,n=this.minHeight;a/=2,n/=2,e<a&&this.setDiffData({clipWidth:a}),i<n&&this.setDiffData({clipHeight:n}),this.calcClipSize()},angle:function(t){this.animation=!0,this.moveStop();var e=this.isLimitMove;e&&t%90&&this.setDiffData({angle:90*Math.round(t/90)}),this.imgMarginDetectionScale()},animation:function(t){var e=this;if(clearTimeout(this.animationTimer),t){var i=setTimeout((function(){e.setDiffData({animation:!1})}),260);this.setDiffData({animationTimer:i}),this.animationTimer=i}},isLimitMove:function(t){t&&(this.angle%90&&this.setDiffData({angle:90*Math.round(this.angle/90)}),this.imgMarginDetectionScale())},clipPoint:function(){this.cutDetectionPosition()},width:function(t,e){t!==e&&this.setDiffData({clipWidth:t/2})},height:function(t,e){t!==e&&this.setDiffData({clipHeight:t/2})}},mounted:function(){var t=uni.getSystemInfoSync();this.sysinfo=t,this.setClipInfo(),this.image&&this.getImageInfo(this.image),this.setClipCenter(),this.calcClipSize(),this.cutDetectionPosition()},methods:{setDiffData:function(t){var e=this;Object.keys(t).forEach((function(i){e[i]!==t[i]&&(e[i]=t[i])}))},getImageInfo:function(t){var e=this;t&&(this.value&&uni.showLoading({title:"\u8bf7\u7a0d\u5019...",mask:!0}),uni.getImageInfo({src:t,success:function(i){e.imgComputeSize(i.width,i.height),e.image=i.path,e.isLimitMove&&(e.imgMarginDetectionScale(),e.$emit("ready",i));var a=e.imageWidth,n=e.imageHeight,r=e.imageLeft,s=e.imageTop,u=e.scale,c=e.clipX,l=e.clipY,d=e.clipWidth,f=e.clipHeight;o[t]=Object.assign(i,{imageWidth:a,imageHeight:n,imageLeft:r,imageTop:s,scale:u,clipX:c,clipY:l,clipWidth:d,clipHeight:f})},fail:function(t){e.imgComputeSize(),e.isLimitMove&&e.imgMarginDetectionScale()}}))},setClipInfo:function(){var t=this.width,e=this.height,i=this.sysinfo,a=this.canvasId,n=t/2,r=e/2,s=(i.windowHeight-r)/2,o=(i.windowWidth-n)/2,u=i.windowWidth/2,c=i.windowHeight/2;this.ctx=uni.createCanvasContext(a,this),this.clipWidth=n,this.clipHeight=r,this.clipX=o,this.clipY=s,this.canvasHeight=r,this.canvasWidth=n,this.imageLeft=u,this.imageTop=c},setClipCenter:function(){var t=this.sysInfo,e=this.clipHeight,i=this.clipWidth,a=this.imageTop,n=this.imageLeft,r=t||uni.getSystemInfoSync(),s=.5*(r.windowHeight-e),o=.5*(r.windowWidth-i);this.imageTop=a-this.clipY+s,this.imageLeft=n-this.clipX+o,this.clipY=s,this.clipX=o},calcClipSize:function(){var t=this.clipHeight,e=this.clipWidth,i=this.sysinfo,a=this.clipX,n=this.clipY;e>i.windowWidth?this.setDiffData({clipWidth:i.windowWidth}):e+a>i.windowWidth&&this.setDiffData({clipX:i.windowWidth-a}),t>i.windowHeight?this.setDiffData({clipHeight:i.windowHeight}):t+n>i.windowHeight&&(this.clipY=i.windowHeight-n,this.setDiffData({clipY:i.windowHeight-n}))},cutDetectionPosition:function(){var t=this,e=this.clipX,i=this.clipY,a=this.sysinfo,n=this.clipHeight,r=this.clipWidth,s=function(){i<0&&t.setDiffData({clipY:0}),i>a.windowHeight-n&&t.setDiffData({clipY:a.windowHeight-n})},o=function(){e<0&&t.setDiffData({clipX:0}),e>a.windowWidth-r&&t.setDiffData({clipX:a.windowWidth-r})};if(null===i&&null===e){var u=.5*(a.windowHeight-n),c=.5*(a.windowWidth-r);this.setDiffData({clipX:c,clipY:u})}else null!==i&&null!==e?(s(),o()):null!==i&&null===e?(s(),this.setDiffData({clipX:(a.windowWidth-r)/2})):null===i&&null!==e&&(o(),this.setDiffData({clipY:(a.windowHeight-n)/2}))},imgComputeSize:function(t,e){var i=(0,s.calcImageSize)(t,e,this),a=i.imageWidth,n=i.imageHeight;this.imageWidth=a,this.imageHeight=n},imgMarginDetectionScale:function(t){if(this.isLimitMove){var e=(0,s.calcImageScale)(this,t);this.imgMarginDetectionPosition(e)}},imgMarginDetectionPosition:function(t){if(this.isLimitMove){var e=(0,s.calcImageOffset)(this,t),i=e.scale,a=e.left,n=e.top;this.setDiffData({imageLeft:a,imageTop:n,scale:i})}},throttle:function(){this.setDiffData({throttleFlag:!0})},moveDuring:function(){clearTimeout(this.timeClipCenter)},moveStop:function(){var t=this;clearTimeout(this.timeClipCenter);var e=setTimeout((function(){t.animation||t.setDiffData({animation:!0}),t.setClipCenter()}),800);this.setDiffData({timeClipCenter:e})},clipTouchStart:function(t){if(this.image){var e=t.touches[0].clientX,i=t.touches[0].clientY,a=this.clipX,n=this.clipY,r=this.clipWidth,o=this.clipHeight,u=(0,s.determineDirection)(a,n,r,o,e,i);this.moveDuring(),u&&(this.clipStart={width:r,height:o,x:e,y:i,clipY:n,clipX:a,corner:u},this.flagClipTouch=!0,this.flagEndTouch=!0)}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},clipTouchMove:function(t){if(this.image){if(1===t.touches.length){var e=this.flagClipTouch,i=this.throttleFlag;if(e&&i){var a=this.isLockRatio,n=this.isLockHeight,r=this.isLockWidth;if(a&&(r||n))return;this.setDiffData({throttleFlag:!1}),this.throttle();var o=(0,s.clipTouchMoveOfCalculate)(this,t);if(o){var u=o.width,c=o.height,l=o.clipX,d=o.clipY;r||n?r?n||this.setDiffData({clipHeight:c,clipY:d}):this.setDiffData({clipWidth:u,clipX:l}):this.setDiffData({clipWidth:u,clipHeight:c,clipX:l,clipY:d}),this.imgMarginDetectionScale()}}}}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},clipTouchEnd:function(){this.moveStop(),this.flagClipTouch=!1},imageTouchStart:function(t){this.flagEndTouch=!1;var e=this.imageLeft,i=this.imageTop,a=t.touches[0].clientX,n=t.touches[0].clientY,r=[];if(1===t.touches.length)r[0]={x:a-e,y:n-i},this.touchRelative=r;else{var o=t.touches[1].clientX,u=t.touches[1].clientY,c=Math.abs(a-o),l=Math.abs(n-u),d=(0,s.calcPythagoreanTheorem)(c,l);r=[{x:a-e,y:n-i},{x:o-e,y:u-i}],this.touchRelative=r,this.hypotenuseLength=d}},imageTouchMove:function(t){var e=this.flagEndTouch,i=this.throttleFlag;if(!e&&i){var a=t.touches[0].clientX,n=t.touches[0].clientY;if(this.setDiffData({throttleFlag:!1}),this.throttle(),this.moveDuring(),1===t.touches.length){var r=(0,s.imageTouchMoveOfCalcOffset)(this,a,n),o=r.left,u=r.top;this.setDiffData({imageLeft:o,imageTop:u}),this.imgMarginDetectionPosition()}else{var c=t.touches[1].clientX,l=t.touches[1].clientY,d=Math.abs(a-c),f=Math.abs(n-l),h=(0,s.calcPythagoreanTheorem)(d,f),p=this.scale*(h/this.hypotenuseLength);this.isDisableScale?p=1:(p=p<=this.minRatio?this.minRatio:p,p=p>=this.maxRatio?this.maxRatio:p,this.$emit("change",{width:this.imageWidth*p,height:this.imageHeight*p})),this.imgMarginDetectionScale(p),this.hypotenuseLength=Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),this.scale=p}}},imageTouchEnd:function(){this.setDiffData({flagEndTouch:!0}),this.moveStop()},uploadImage:function(){var t=this,e=Object.entries(this.source),i=["original","compressed"],a=function(e){var i=e.tempFilePaths,a=e.tempFiles;t.image=i?i[0]:a[0].path},n=function(t){"message"!==t&&uni.chooseImage({count:1,sizeType:i,sourceType:[t],success:a})};e.length>1?uni.showActionSheet({itemList:e.map((function(t){return t[1]})),success:function(t){var i=t.tapIndex;n(e[i][0])}}):n(e[0][0])},imageReset:function(){var t=this.sysinfo||uni.getSystemInfoSync();this.scale=1,this.angle=0,this.imageTop=t.windowHeight/2,this.imageLeft=t.windowWidth/2},imageLoad:function(t){this.imageReset(),uni.hideLoading(),this.$emit("ready",t.detail)},rotate:function(t){if(!this.isDisableRotate)if(this.image){var e=this.rotateAngle,i=this.angle,a=t.currentTarget.dataset.type;this.angle="along"===a?i+e:i-e,this.$emit("rotate",this.angle)}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},confirm:function(){var t=this;if(this.image){uni.showLoading({title:"\u52a0\u8f7d\u4e2d"});var e=this.canvasHeight,i=this.canvasWidth,a=this.clipHeight,n=this.clipWidth,r=this.ctx,s=this.scale,o=this.imageLeft,u=this.imageTop,c=this.clipX,l=this.clipY,d=this.angle,f=this.scaleRatio,h=this.image,p=this.quality,m=this.fileType,g=(this.type,this.canvasId),_=function(){var e=t.imageWidth*s*f,i=t.imageHeight*s*f,_=o-c,v=u-l;r.translate(_*f,v*f),r.rotate(d*Math.PI/180),r.drawImage(h,-e/2,-i/2,e,i),r.draw(!1,(function(){var e=n*f,i=a*f,r={x:0,y:0,width:e,height:i,destWidth:e,destHeight:i,canvasId:g,fileType:m,quality:p,success:function(e){s.url=e.tempFilePath,uni.hideLoading(),t.$emit("success",s),t.$emit("input",!1)},fail:function(e){t.$emit("fail",e),t.$emit("input",!1)}},s={url:"",width:e,height:i};uni.canvasToTempFilePath(r,t)}))};i!==n||e!==a?(this.canvasWidth=n,this.canvasHeight=a,r.draw(),this.$nextTick((function(){setTimeout((function(){_()}),100)}))):_()}else uni.showToast({title:"\u8bf7\u9009\u62e9\u56fe\u7247",icon:"none",duration:3e3})},cancel:function(){this.$emit("cancel",!1),this.$emit("input",!1)}}};e.default=u}).call(this,i("0de9")["default"])},"6e80":function(t,e,i){"use strict";i.r(e);var a=i("e97c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6f42":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"permission_id",label:"\u6743\u9650ID",required:!0,_i:2}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_id,expression:"formData.permission_id"}],staticClass:t._$s(3,"sc","uni-input-border"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.formData.permission_id)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_id",e.target.value)},function(e){return t.binddata("permission_id",e.detail.value)}]}})]),i("uni-forms-item",{attrs:{name:"permission_name",label:"\u6743\u9650\u540d\u79f0",required:!0,_i:4}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permission_name,expression:"formData.permission_name"}],staticClass:t._$s(5,"sc","uni-input-border"),attrs:{_i:5},domProps:{value:t._$s(5,"v-model",t.formData.permission_name)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"permission_name",e.target.value)},function(e){return t.binddata("permission_name",e.detail.value)}]}})]),i("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:6}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.comment,expression:"formData.comment"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.comment)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"comment",e.target.value)},function(e){return t.binddata("comment",e.detail.value)}]}})]),i("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}},[t._v(t._$s(9,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},"6f6d":function(t,e,i){"use strict";i.r(e);var a=i("9670"),n=i("890e");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"39559fc8",null,!1,a["a"],void 0);e["default"]=o.exports},"6f8f":function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"6fe0":function(t,e,i){"use strict";i.r(e);var a=i("1942"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6fed":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("37dc"),r=a(i("d404")),s=(0,n.initVueI18n)(r.default),o=s.t,u={name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:function(){return[20,50,100,500]}}},data:function(){return{pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}},computed:{piecePerPage:function(){return this.piecePerPageText||o("uni-pagination.piecePerPage")},prevPageText:function(){return this.prevText||o("uni-pagination.prevText")},nextPageText:function(){return this.nextText||o("uni-pagination.nextText")},maxPage:function(){var t=1,e=Number(this.total),i=Number(this.pageSize);return e&&i&&(t=Math.ceil(e/i)),t},paper:function(){for(var t=this.currentIndex,e=this.pagerCount,i=this.total,a=this.pageSize,n=[],r=[],s=Math.ceil(i/a),o=0;o<s;o++)n.push(o+1);r.push(1);var u=n[n.length-(e+1)/2];return n.forEach((function(i,a){(e+1)/2>=t?i<e+1&&i>1&&r.push(i):t+2<=u?i>t-(e+1)/2&&i<t+(e+1)/2&&r.push(i):(i>t-(e+1)/2||s-e<i)&&i<n[n.length-1]&&r.push(i)})),s>e?((e+1)/2>=t?r[r.length-1]="...":t+2<=u?(r[1]="...",r[r.length-1]="..."):r[1]="...",r.push(n[n.length-1])):(e+1)/2>=t||t+2<=u||(r.shift(),r.push(n[n.length-1])),r}},watch:{current:{immediate:!0,handler:function(t,e){this.currentIndex=t<1?1:t}},value:{immediate:!0,handler:function(t){1===Number(this.current)&&(this.currentIndex=t<1?1:t)}},pageSizeIndex:function(t){this.$emit("pageSizeChange",this.pageSizeRange[t])}},methods:{pickerChange:function(t){this.pageSizeIndex=t.detail.value,this.pickerClick()},pickerClick:function(){},selectPage:function(t,e){if(parseInt(t))this.currentIndex=t,this.change("current");else{var i=Math.ceil(this.total/this.pageSize);if(e<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(e>=6)return void(this.currentIndex+5>i?this.currentIndex=i:this.currentIndex+=5)}},clickLeft:function(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight:function(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change:function(t){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:t,current:this.currentIndex})}}};e.default=u},7037:function(t,e){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"706d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles:function(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle:function(){var t=this.styles,e=t.width,i=void 0===e?"auto":e,a=t.height,n=void 0===a?"auto":a,r={};"auto"===n?"auto"!==i?(r.height=this.value2px(i),r["padding-top"]=0):r.height=0:(r.height=this.value2px(n),r["padding-top"]=0),r.width="auto"===i?"auto"!==n?this.value2px(n):"33.3%":this.value2px(i);var s="";for(var o in r)s+="".concat(o,":").concat(r[o],";");return s},borderStyle:function(){var t=this.styles.border,e={};if("boolean"===typeof t)e.border=t?"1px #eee solid":"none";else{var i=t&&t.width||1;i=this.value2px(i);var a=t&&t.radius||3;a=this.value2px(a),e={"border-width":i,"border-style":t&&t.style||"solid","border-color":t&&t.color||"#eee","border-radius":a}}var n="";for(var r in e)n+="".concat(r,":").concat(e[r],";");return n}},methods:{uploadFiles:function(t,e){this.$emit("uploadFiles",t)},choose:function(){this.$emit("choose")},delFile:function(t){this.$emit("delFile",t)},prviewImage:function(t,e){var i=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((function(t){i.push(t.url)})),uni.previewImage({urls:i,current:e}))},value2px:function(t){return"number"===typeof t?t+="px":-1===t.indexOf("%")&&(t=-1!==t.indexOf("px")?t:t+"px"),t}}};e.default=a},"710c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTransition:i("223f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.showPopup)?i("view",{staticClass:t._$s(0,"sc","uni-popup"),class:t._$s(0,"c",[t.popupstyle,t.isDesktop?"fixforpc-z-index":""]),attrs:{_i:0}},[i("view",{attrs:{_i:1},on:{touchstart:t.touchstart}},[t._$s(2,"i",t.maskShow)?i("uni-transition",{key:"1",attrs:{name:"mask","mode-class":"fade",styles:t.maskClass,duration:t.duration,show:t.showTrans,_i:2},on:{click:t.onTap}}):t._e(),i("uni-transition",{key:"2",attrs:{"mode-class":t.ani,name:"content",styles:t.transClass,duration:t.duration,show:t.showTrans,_i:3},on:{click:t.onTap}},[i("view",{staticClass:t._$s(4,"sc","uni-popup__wrapper"),class:t._$s(4,"c",[t.popupstyle]),style:t._$s(4,"s",{backgroundColor:t.bg}),attrs:{_i:4},on:{click:t.clear}},[t._t("default",null,{_i:5})],2)])],1)]):t._e()},r=[]},"714f":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniCaptcha:i("d45f").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-captcha",{ref:"captcha",attrs:{focus:t.focusCaptchaInput,scene:"send-sms-code",_i:1},model:{value:t._$s(1,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}}),i("view",{staticClass:t._$s(2,"sc","box"),attrs:{_i:2}},[i("uni-easyinput",{staticClass:t._$s(3,"sc","input-box"),attrs:{focus:t.focusSmsCodeInput,type:"number",inputBorder:!1,maxlength:"6",clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",_i:3},on:{blur:function(e){t.focusSmsCodeInput=!1}},model:{value:t._$s(3,"v-model",t.modelValue),callback:function(e){t.modelValue=e},expression:"modelValue"}}),i("view",{staticClass:t._$s(4,"sc","short-code-btn"),attrs:{_i:4},on:{click:t.start}},[i("text",{staticClass:t._$s(5,"sc","inner-text"),class:t._$s(5,"c",0==t.reverseNumber?"inner-text-active":""),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.innerText)))])])],1)],1)},r=[]},7156:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],n={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipDemo1:function(t){var e="";for(var i in t){0==i&&(e+=t[i].axisValueLabel+"\u5e74\u9500\u552e\u989d");var a="--";null!==t[i].data&&(a=t[i].data),e+="<br/>"+t[i].marker+t[i].seriesName+"\uff1a"+a+" \u4e07\u5143"}return e},legendFormat:function(t){return"\u81ea\u5b9a\u4e49\u56fe\u4f8b+"+t},yAxisFormatDemo:function(t,e){return t+"\u5143"},seriesFormatDemo:function(t){return t.name+"\u5e74"+t.value+"\u5143"}},demotype:{color:a},column:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},line:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:a,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],areaStyle:{},label:{show:!0,color:"#666666",position:"top"}}},pie:{color:a,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:a,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,color:"#666666",position:"top"},labelLine:{show:!0}}},rose:{color:a,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],roseType:"area"}},funnel:{color:a,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:a,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4e1a\u52a1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:a,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}},r=n;e.default=r},"723e":function(t,e,i){"use strict";i.r(e);var a=i("5a77"),n=i("893d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"229bfbd3",null,!1,a["a"],void 0);e["default"]=o.exports},7264:function(t,e,i){"use strict";i.r(e);var a=i("547e"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"726b":function(t,e,i){"use strict";i.r(e);var a=i("81d5"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"743b":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("26cb");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}var o={name:"uni-stat-breadcrumb",data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},(0,r.mapState)("app",["routes"]))};e.default=o},7467:function(t,e,i){"use strict";i.r(e);var a=i("17cf"),n=i("0f75");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},7568:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9801","uni-pagination.nextText":"\u4e0b\u4e00\u9801","uni-pagination.piecePerPage":"\u689d/\u9801"}')},"75f3":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-load-more"),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.webviewHide&&("circle"===t.iconType||"auto"===t.iconType&&"android"===t.platform)&&"loading"===t.status&&t.showIcon)?i("view",{staticClass:t._$s(1,"sc","uni-load-more__img uni-load-more__img--android-MP"),style:t._$s(1,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-load-more__img-icon"),style:t._$s(2,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-load-more__img-icon"),style:t._$s(3,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","uni-load-more__img-icon"),style:t._$s(4,"s",{borderTopColor:t.color,borderTopWidth:t.iconSize/12}),attrs:{_i:4}})]):t._$s(5,"e",!t.webviewHide&&"loading"===t.status&&t.showIcon)?i("view",{staticClass:t._$s(5,"sc","uni-load-more__img uni-load-more__img--ios-H5"),style:t._$s(5,"s",{width:t.iconSize+"px",height:t.iconSize+"px"}),attrs:{_i:5}},[i("image",{attrs:{src:t._$s(6,"a-src",t.imgBase64),_i:6}})]):t._e(),t._$s(7,"i",t.showText)?i("text",{staticClass:t._$s(7,"sc","uni-load-more__text"),style:t._$s(7,"s",{color:t.color}),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s("more"===t.status?t.contentdownText:"loading"===t.status?t.contentrefreshText:t.contentnomoreText)))]):t._e()])},n=[]},7663:function(t,e,i){"use strict";i.r(e);var a=i("9888"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"76da":function(t,e,i){"use strict";i.r(e);var a=i("53f4"),n=i("eae6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"770e":function(t,e,i){"use strict";i.r(e);var a=i("a902"),n=i("e639");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"2fd3e300",null,!1,a["a"],void 0);e["default"]=o.exports},7724:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniCaptcha:i("d45f").default,uniIdPagesAgreements:i("047a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"username",required:!0,_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusUsername,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",trim:"both",_i:7},on:{blur:function(e){t.focusUsername=!1}},model:{value:t._$s(7,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),i("uni-forms-item",{attrs:{name:"nickname",_i:8}},[i("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),i("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[i("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),i("uni-forms-item",{attrs:{_i:14}},[i("uni-captcha",{ref:"captcha",attrs:{scene:"register",_i:15},model:{value:t._$s(15,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:16}}),i("button",{staticClass:t._$s(17,"sc","uni-btn"),attrs:{_i:17},on:{click:t.submit}}),i("button",{staticClass:t._$s(18,"sc","register-back"),attrs:{_i:18},on:{click:t.navigateBack}}),i("uni-match-media",{attrs:{"min-width":690,_i:19}},[i("view",{staticClass:t._$s(20,"sc","link-box"),attrs:{_i:20}},[i("text",{staticClass:t._$s(21,"sc","link"),attrs:{_i:21},on:{click:t.registerByEmail}}),i("text",{staticClass:t._$s(22,"sc","link"),attrs:{_i:22},on:{click:t.toLogin}})])])],1)],1)},r=[]},7753:function(t,e,i){"use strict";i.r(e);var a=i("bbad"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"77eb":function(t,e,i){"use strict";i.r(e);var a=i("27ad"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"77fb":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniIdPagesEmailForm:i("7af4").default,uniIdPagesAgreements:i("047a").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,rules:t.rules,"validate-trigger":"submit","err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"email",required:!0,_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusEmail,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",trim:"both",_i:7},on:{blur:function(e){t.focusEmail=!1}},model:{value:t._$s(7,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),i("uni-forms-item",{attrs:{name:"nickname",_i:8}},[i("uni-easyinput",{staticClass:t._$s(9,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusNickname,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",trim:"both",_i:9},on:{blur:function(e){t.focusNickname=!1}},model:{value:t._$s(9,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),i("uni-forms-item",{attrs:{name:"password",required:!0,_i:10},model:{value:t._$s(10,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword,maxlength:"20",placeholder:"\u8bf7\u8f93\u5165"+("weak"==t.config.passwordStrength?"6":"8")+"-16\u4f4d\u5bc6\u7801",type:"password",trim:"both",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{attrs:{name:"password2",required:!0,_i:12},model:{value:t._$s(12,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}},[i("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{inputBorder:!1,focus:t.focusPassword2,placeholder:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",maxlength:"20",type:"password",trim:"both",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),i("uni-forms-item",{attrs:{name:"code",_i:14}},[i("uni-id-pages-email-form",{ref:"shortCode",attrs:{email:t.formData.email,type:"register",_i:15},model:{value:t._$s(15,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),i("uni-id-pages-agreements",{ref:"agreements",attrs:{scope:"register",_i:16}}),i("button",{staticClass:t._$s(17,"sc","uni-btn"),attrs:{_i:17},on:{click:t.submit}}),i("button",{staticClass:t._$s(18,"sc","register-back"),attrs:{_i:18},on:{click:t.navigateBack}}),i("uni-match-media",{attrs:{"min-width":690,_i:19}},[i("view",{staticClass:t._$s(20,"sc","link-box"),attrs:{_i:20}},[i("text",{staticClass:t._$s(21,"sc","link"),attrs:{_i:21},on:{click:t.registerByUserName}}),i("text",{staticClass:t._$s(22,"sc","link"),attrs:{_i:22},on:{click:t.toLogin}})])])],1)],1)},r=[]},7898:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{date:"2020-09-01",name:"Dcloud1",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud2",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud3",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud4",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud5",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud6",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud7",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud8",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud9",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud10",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud11",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud12",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud13",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud14",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud15",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud16",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud17",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud18",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud19",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud20",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud21",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud22",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud23",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud24",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud25",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud26",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud27",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud28",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud29",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud30",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud31",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud32",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-01",name:"Dcloud33",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-02",name:"Dcloud34",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-03",name:"Dcloud35",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-04",name:"Dcloud36",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-05",name:"Dcloud37",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-06",name:"Dcloud38",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-07",name:"Dcloud39",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-08",name:"Dcloud40",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-09",name:"Dcloud41",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-10",name:"Dcloud42",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-11",name:"Dcloud43",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-12",name:"Dcloud44",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"},{date:"2020-09-13",name:"Dcloud45",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1518 \u5f04"},{date:"2020-09-14",name:"Dcloud46",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1517 \u5f04"},{date:"2020-09-15",name:"Dcloud47",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1519 \u5f04"},{date:"2020-09-16",name:"Dcloud48",address:"\u4e0a\u6d77\u5e02\u666e\u9640\u533a\u91d1\u6c99\u6c5f\u8def 1516 \u5f04"}]},"78c5":function(t,e,i){"use strict";i.r(e);var a=i("0c0b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},7956:function(t,e,i){"use strict";i.r(e);var a=i("d246"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"79a5":function(t,e,i){"use strict";i.r(e);var a=i("a6df"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7af4":function(t,e,i){"use strict";i.r(e);var a=i("46b7"),n=i("2ed5");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"24a41c04",null,!1,a["a"],void 0);e["default"]=o.exports},"7b93":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("cdfd")),r=i("37dc"),s=a(i("a264")),o=(0,r.initVueI18n)(s.default),u=o.t,c={name:"uniPopupDialog",mixins:[n.default],emits:["confirm","close"],props:{value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:function(){return{dialogType:"error",focus:!1,val:""}},computed:{okText:function(){return this.confirmText||u("uni-popup.ok")},closeText:function(){return this.cancelText||u("uni-popup.cancel")},placeholderText:function(){return this.placeholder||u("uni-popup.placeholder")},titleText:function(){return this.title||u("uni-popup.title")}},watch:{type:function(t){this.dialogType=t},mode:function(t){"input"===t&&(this.dialogType="info")},value:function(t){this.val=t}},created:function(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted:function(){this.focus=!0},methods:{onOk:function(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog:function(){this.$emit("close"),this.beforeClose||this.popup.close()},close:function(){this.popup.close()}}};e.default=c},"7bbc":function(t,e,i){"use strict";i.r(e);var a=i("507c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7cc0":function(t,e,i){"use strict";i.r(e);var a=i("6ac3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7cdf":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup:function(t){}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop:function(){return this.popupWidth>=500&&this.popupHeight>=500},bg:function(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted:function(){var t=this;(function(){var e=uni.getSystemInfoSync(),i=e.windowWidth,a=e.windowHeight,n=e.windowTop,r=e.safeArea,s=(e.screenHeight,e.safeAreaInsets);t.popupWidth=i,t.popupHeight=a+(n||0),r&&t.safeArea?t.safeAreaInsets=s.bottom:t.safeAreaInsets=0})()},destroyed:function(){this.setH5Visible()},created:function(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible:function(){},closeMask:function(){this.maskShow=!1},disableMask:function(){this.mkclick=!1},clear:function(t){t.stopPropagation(),this.clearPropagation=!0},open:function(t){this.showPopup&&(clearTimeout(this.timer),this.showPopup=!1);t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)||(t=this.type),this.config[t]&&(this[this.config[t]](),this.$emit("change",{show:!0,type:t}))},close:function(t){var e=this;this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((function(){e.showPopup=!1}),300)},touchstart:function(){this.clearPropagation=!1},onTap:function(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top:function(t){var e=this;this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((function(){e.messageChild&&"message"===e.type&&e.messageChild.timerClose()})))},bottom:function(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center:function(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left:function(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right:function(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}};e.default=i}).call(this,i("0de9")["default"])},"7cf4":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat__select"),attrs:{_i:0}},[t._$s(1,"i",t.label)?i("span",{staticClass:t._$s(1,"sc","uni-label-text hide-on-phone"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.label+"\uff1a")))]):t._e(),i("view",{staticClass:t._$s(2,"sc","uni-stat-box"),class:t._$s(2,"c",{"uni-stat__actived":t.current}),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-select"),class:t._$s(3,"c",{"uni-select--disabled":t.disabled}),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-select__input-box"),attrs:{_i:4},on:{click:t.toggleSelector}},[t._$s(5,"i",t.current)?i("view",{staticClass:t._$s(5,"sc","uni-select__input-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.current)))]):i("view",{staticClass:t._$s(6,"sc","uni-select__input-text uni-select__input-placeholder"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.typePlaceholder)))]),t._$s(7,"i",t.current&&t.clear)?i("uni-icons",{attrs:{type:"clear",color:"#c0c4cc",size:"24",_i:7},on:{click:t.clearVal}}):i("uni-icons",{attrs:{type:t.showSelector?"top":"bottom",size:"14",color:"#999",_i:8}})],1),t._$s(9,"i",t.showSelector)?i("view",{staticClass:t._$s(9,"sc","uni-select--mask"),attrs:{_i:9},on:{click:t.toggleSelector}}):t._e(),t._$s(10,"i",t.showSelector)?i("view",{staticClass:t._$s(10,"sc","uni-select__selector"),attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","uni-popper__arrow"),attrs:{_i:11}}),i("scroll-view",{staticClass:t._$s(12,"sc","uni-select__selector-scroll"),attrs:{_i:12}},[t._$s(13,"i",0===t.mixinDatacomResData.length)?i("view",{staticClass:t._$s(13,"sc","uni-select__selector-empty"),attrs:{_i:13}},[i("text",[t._v(t._$s(14,"t0-0",t._s(t.emptyTips)))])]):t._l(t._$s(15,"f",{forItems:t.mixinDatacomResData}),(function(e,a,n,r){return i("view",{key:t._$s(15,"f",{forIndex:n,key:a}),staticClass:t._$s("15-"+r,"sc","uni-select__selector-item"),attrs:{_i:"15-"+r},on:{click:function(i){return t.change(e)}}},[i("text",{class:t._$s("16-"+r,"c",{"uni-select__selector__disabled":e.disable}),attrs:{_i:"16-"+r}},[t._v(t._$s("16-"+r,"t0-0",t._s(t.formatItemName(e))))])])}))],2)]):t._e()])])])},r=[]},"7cfe":function(t,e,i){"use strict";i.r(e);var a=i("1096"),n=i("86e0");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"7d7c":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r=a(i("9523")),s=i("26cb"),o=a(i("3801")),u=a(i("097a"));function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{errorLog:o.default},props:{navigationBarTitleText:{type:String},matchLeftWindow:{type:Boolean},showLeftWindow:{type:Boolean}},data:function(){return l(l({},u.default.navBar),{},{popupMenuOpened:!1,mpCapsule:0})},computed:l(l(l({},(0,s.mapState)("app",["appName","routes","theme"])),(0,s.mapState)("error",["logs"])),{},{userInfo:function(){return this.$uniIdPagesStore.store.userInfo},themeIndex:function(){var t=this,e=0;return this.themes.forEach((function(i,a){i.value===t.theme&&(e=a)})),e}}),mounted:function(){},methods:l(l({},(0,s.mapMutations)("app",["SET_THEME"])),{},{showErrorLogs:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.errorLogsPopup.open()},showPasswordPopup:function(){this.popupMenuOpened&&(this.popupMenuOpened=!1),this.$refs.passwordPopup.open()},logout:function(){this.popupMenuOpened=!1,this.$uniIdPagesStore.mutations.logout()},toggleSidebar:function(){this.showLeftWindow?uni.hideLeftWindow():uni.showLeftWindow()},togglePopupMenu:function(){this.popupMenuOpened=!this.popupMenuOpened},changePassword:function(){var t=this;uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",complete:function(){t.popupMenuOpened=!1}})},changeLanguage:function(t){var e="object"===(0,n.default)(t)?t.detail.value:t,i=this.langs[e].lang||"zh-Hans",a=uni.getSystemInfoSync().platform;"android"!==a?(this.$i18n.locale=i,uni.setLocale(i)):uni.showToast({icon:"error",title:"\u6682\u4e0d\u652f\u6301",duration:2e3})},linkTo:function(){uni.reLaunch({url:"/"})},changeTheme:function(t){var e="object"===(0,n.default)(t)?t.detail.value:t,i=this.themes[e].value||"default";this.theme!==i&&this.SET_THEME(i)}})};e.default=d},"7d91":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),s=i("06ce"),o=n(i("a3e1")),u=i("0a0a");function c(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=[];u.fieldsGroupMap.forEach((function(t){var e=t.group,i=t.title;e&&i&&h.push({_id:e,name:i,list:t.list})}));var p={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",chartData:{},errorMessage:"",opts:(0,r.default)({color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],legend:{},enableScroll:!0,dataLabel:!1,xAxis:{disableGrid:!0,itemCount:24,fontSize:12,boundaryGap:"center"},yAxis:{gridType:"dash",dashLength:2,data:[{tofix:2}]},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1}}},"legend",{position:"bottom"}),dateTabs:{time:[],timeStr:"",index:2,list:[{_id:1,name:"\u6628\u5929",dimension:"hour"},{_id:0,name:"\u4eca\u5929",dimension:"hour"},{_id:7,name:"\u6700\u8fd1\u4e03\u5929",dimension:"day"},{_id:30,name:"\u6700\u8fd130\u5929",dimension:"day"},{_id:90,name:"\u6700\u8fd190\u5929",dimension:"day"},{_id:372,name:"\u6708\u7eac\u5ea6",dimension:"month"},{_id:1116,name:"\u5b63\u7eac\u5ea6",dimension:"quarter"},{_id:4392,name:"\u5e74\u7eac\u5ea6",dimension:"year"}]},statTabs:{index:0,list:h},queryMode:0}},created:function(){var t=this;this.getCloudDataDebounce=(0,s.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,i=this.query;if(i.appid){this.errorMessage="";var a=this.getWhere(),n=f(f({},i),a),r=this.statTabs.list[this.statTabs.index].list;n=(0,s.stringifyQuery)(n,!0,["uni_platform"]);var o=t.database();o.collection(this.tableName).where(n).field("".concat((0,s.stringifyField)(r),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(r)).orderBy("start_time","asc").limit(100).get({getCount:!0}).then((function(t){var i=t.result,n=(i.count,i.data);n=(0,s.fillTrendChartData)(n,a,r),n=(0,s.formatterData)({fieldsMap:r,data:n,formatter:!1}),e.setChartData(n,r,a)})).catch((function(t){})).finally((function(){}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},setChartData:function(t,e,i){var a=this,n={categories:[],series:[]};e.map((function(t,e){t.trendChart&&n.series.push({name:t.title,data:[]})}));var r,s=c(t);try{var o=function(){var t=r.value,s=a.formatDate(t.start_time,i.dimension);n.categories.push(s),e.map((function(e,i){if(e.trendChart){var a=Number(t[e.field]);n.series[i].data.push(a)}}))};for(s.s();!(r=s.n()).done;)o()}catch(u){s.e(u)}finally{s.f()}this.chartData=n},formatDate:function(t,e){var i=new Date(t),a=i.getFullYear(),n=i.getMonth()+1,r=i.getDate(),o=i.getHours(),u=Math.floor((i.getMonth()+3)/3);return n<10&&(n="0"+n),r<10&&(r="0"+r),"hour"===e?"".concat(o,"\u65f6"):"month"===e?"".concat(a,"-").concat(n):"quarter"===e?"".concat(a,"/Q").concat(u):"year"===e?"".concat(a):(0,s.parseDateTime)(i)},datePickerChange:function(t){this.dateTabs.time=t,this.queryMode=1,this.getCloudData()},dateTabsChange:function(t,e){this.dateTabs.index=e,this.queryMode=0,this.getCloudData()},statTabsChange:function(t,e,i){this.statTabs.index=e,this.getCloudData({field:t,name:i})},getWhere:function(){var t=[],e=this.dateTabs.list[this.dateTabs.index]||{};if("number"===typeof e._id&&0===this.queryMode){var i=(0,s.getTimeOfSomeDayAgo)(e._id),a=o.default.getOffsetStartAndEnd("day",0).endTime;1==e._id&&(a=o.default.getOffsetStartAndEnd("day",0,i).endTime),t=[i,a]}else this.dateTabs.time&&(t=this.dateTabs.time);var n=e.dimension||"day";return this.dateTabs.timeStr="".concat(o.default.timeFormat(t[0])," ~ ").concat(o.default.timeFormat(t[1])),this.dateTabs.time=t,{dimension:n,start_time:t}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=p}).call(this,i("a9ff")["default"],i("0de9")["default"])},"7da1":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDataPicker:i("c681").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","main"),attrs:{_i:0}},[t._$s(1,"i",t.loaded)?i("view",[i("view",{staticClass:t._$s(2,"sc","uni-header"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}}),i("view",{staticClass:t._$s(5,"sc","uni-title app-list"),attrs:{_i:5}},[i("picker",{attrs:{value:t._$s(6,"a-value",t.showAppIndex),range:t._$s(6,"a-range",t.appNameList),_i:6},on:{change:function(e){return t.showAppIndex=e.detail.value}}},[i("view",{staticClass:t._$s(7,"sc","uni-input"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.appNameList[t.showAppIndex]))),i("uni-icons",{attrs:{type:"bottom",_i:8}})],1)])])]),i("view",{staticClass:t._$s(9,"sc","uni-group"),attrs:{_i:9}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(10,"sc","uni-search"),attrs:{_i:10},domProps:{value:t._$s(10,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.search}}),i("button",{staticClass:t._$s(12,"sc","uni-button publish"),attrs:{_i:12},on:{click:t.publish}}),i("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{disabled:t._$s(13,"a-disabled",!t.selectedIndexs.length),_i:13},on:{click:t.delTable}})])]),i("view",{staticClass:t._$s(14,"sc","uni-container"),attrs:{_i:14}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.appVersionListDbName,field:"appid,contents,platform,type,version,min_uni_version,url,stable_publish,create_date,title,name",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,_i:15},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error,c=e.options;return[i("uni-table",{staticStyle:{"overflow-y":"hidden"},attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"16-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"17-"+n}},[i("uni-th",{attrs:{align:"center",_i:"18-"+n}},[t._v("AppID")]),i("uni-th",{attrs:{align:"center",_i:"19-"+n}},[t._v("\u66f4\u65b0\u6807\u9898")]),i("uni-th",{attrs:{align:"center",_i:"20-"+n}},[t._v("\u5b89\u88c5\u5305\u7c7b\u578b")]),i("uni-th",{attrs:{align:"center",_i:"21-"+n}},[t._v("\u5e73\u53f0")]),i("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("\u7248\u672c\u53f7")]),i("uni-th",{attrs:{align:"center",_i:"23-"+n}},[t._v("\u5b89\u88c5\u5305\u72b6\u6001")]),i("uni-th",{attrs:{align:"center",_i:"24-"+n}},[t._v("\u4e0a\u4f20\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",_i:"25-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("26-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("26-"+n,"f",{forIndex:s,key:r}),attrs:{disabled:e.stable_publish,_i:"26-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[t._v(a._$s("27-"+n+o,"t0-0",t._s(e.appid)))]),i("uni-td",{attrs:{align:"center",_i:"28-"+n+o}},[t._v(a._$s("28-"+n+o,"t0-0",t._s(e.title||"-")))]),i("uni-td",{attrs:{align:"center",_i:"29-"+n+o}},[i("text",{style:a._$s("30-"+n+o,"s",{padding:"5px 8px",backgroundColor:"wgt"===e.type?"#f0f9eb":"#ecf5ff",color:"wgt"===e.type?"#67c23a":"#409eff",border:"1px solid "+("wgt"===e.type?"#e1f3d8":"#d9ecff"),borderRadius:"4px"}),attrs:{_i:"30-"+n+o}},[t._v(a._$s("30-"+n+o,"t0-0",t._s(c.type_valuetotext[e.type])))])]),i("uni-td",{attrs:{align:"center",_i:"31-"+n+o}},[i("uni-data-picker",{attrs:{localdata:c.platform_valuetotext,value:e.platform,border:!1,readonly:!0,split:",",_i:"32-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"33-"+n+o}},[t._v(a._$s("33-"+n+o,"t0-0",t._s(e.version)))]),i("uni-td",{attrs:{align:"center",_i:"34-"+n+o}},[t._v(a._$s("34-"+n+o,"t0-0",t._s(1==e.stable_publish?"\u5df2\u4e0a\u7ebf":"\u5df2\u4e0b\u7ebf")))]),i("uni-td",{attrs:{align:"center",_i:"35-"+n+o}},[i("uni-dateformat",{attrs:{format:"yyyy-MM-dd hh:mm:ss",date:e.create_date,threshold:[0,0],_i:"36-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"37-"+n+o}},[i("button",{staticClass:a._$s("38-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"38-"+n+o},on:{click:function(i){return t.navigateTo("./detail?id="+e._id,!1)}}},[t._v("\u8be6\u60c5")])])],1)}))],2),i("view",{staticClass:a._$s("39-"+n,"sc","uni-pagination-box"),attrs:{_i:"39-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"40-"+n},on:{change:t.onPageChanged},model:{value:t._$s("40-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}],null,!1,4023659719)})],1)]):i("view",{staticClass:t._$s(41,"sc","page-loading"),style:t._$s(41,"s",t.containerTop),attrs:{_i:41}},[i("i",{staticClass:t._$s(42,"sc","uni-icon_toast uni-loading"),attrs:{_i:42}})])])},r=[]},"7df6":function(t,e,i){"use strict";i.r(e);var a=i("ddcb"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"7e13":function(t,e,i){"use strict";(function(t){var a=i("4ea4"),n=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("278c")),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var i=o(e);if(i&&i.has(t))return i.get(t);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=r?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=t[s]}a.default=t,i&&i.set(t,a);return a}(i("f7f2"));function o(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(o=function(t){return t?i:e})(t)}var u={namespaced:!0,state:{},mutations:{},actions:{getUserInfo:function(e){e.commit;var i=t.database();return i.collection("uni-id-users").where("_id==$cloudEnv_uid").field("username,nickname,mobile,email,role,permission").get().then((function(t){var e=t.result,i=(0,r.default)(e.data,1),a=i[0];return s.mutations.setUserInfo(a,!0),Promise.resolve(a)}))}}};e.default=u}).call(this,i("a9ff")["default"])},"7ec2":function(t,e,i){var a=i("7037")["default"];function n(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},i=Object.prototype,r=i.hasOwnProperty,s=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(M){d=function(t,e,i){return t[e]=i}}function f(t,e,i,a){var n=e&&e.prototype instanceof m?e:m,r=Object.create(n.prototype),o=new T(a||[]);return s(r,"_invoke",{value:$(t,i,o)}),r}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(M){return{type:"throw",arg:M}}}e.wrap=f;var p={};function m(){}function g(){}function _(){}var v={};d(v,u,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(O([])));y&&y!==i&&r.call(y,u)&&(v=y);var x=_.prototype=m.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){var i;s(this,"_invoke",{value:function(n,s){function o(){return new e((function(i,o){(function i(n,s,o,u){var c=h(t[n],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,o,u)}),(function(t){i("throw",t,o,u)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,u)}))}u(c.arg)})(n,s,i,o)}))}return i=i?i.then(o,o):o()}})}function $(t,e,i){var a="suspendedStart";return function(n,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw r;return P()}for(i.method=n,i.arg=r;;){var s=i.delegate;if(s){var o=k(s,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var u=h(t,e,i);if("normal"===u.type){if(a=i.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(a="completed",i.method="throw",i.arg=u.arg)}}}function k(t,e){var i=e.method,a=t.iterator[i];if(void 0===a)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var n=h(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return g.prototype=_,s(x,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:g,configurable:!0}),g.displayName=d(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,d(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},w(C.prototype),d(C.prototype,c,(function(){return this})),e.AsyncIterator=C,e.async=function(t,i,a,n,r){void 0===r&&(r=Promise);var s=new C(f(t,i,a,n),r);return e.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(x),d(x,l,"Generator"),d(x,u,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var a in e)i.push(a);return i.reverse(),function t(){for(;i.length;){var a=i.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},e.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return s.type="throw",s.arg=t,e.next=i,a&&(e.method="next",e.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],s=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var o=r.call(n,"catchLoc"),u=r.call(n,"finallyLoc");if(o&&u){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),S(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;S(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:O(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},"7f05":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("text",{staticClass:t._$s(0,"sc","uni-icons"),class:t._$s(0,"c",["uniui-"+t.type,t.customPrefix,t.customPrefix?t.type:""]),style:t._$s(0,"s",{color:t.color,"font-size":t.iconSize}),attrs:{_i:0},on:{click:t._onClick}})},n=[]},"7f82":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("26cb"),s=a(i("097a")),o=(i("8593"),i("bb27"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={created:function(){this.clear=void 0},methods:c(c(c({},(0,r.mapMutations)("app",["SET_THEME"])),(0,r.mapActions)({init:"app/init"})),{},{clearPlatform:function(){var t=uni.getStorageInfoSync().keys.filter((function(t){return t.indexOf("platform")>-1}));t.length&&t.forEach((function(t){return uni.removeStorageSync(t)}))}}),onPageNotFound:function(t){uni.redirectTo({url:s.default.error.url})},onLaunch:function(){var t=this;this.$uniIdPagesStore.store.hasLogin&&this.init(),uni.$on("uni-id-pages-login-success",(function(){t.init()})),this.SET_THEME(uni.getStorageSync(o.UNI_ADMIN_THEME)||"default")},onShow:function(){var t=this;this.clear=setInterval((function(){return t.clearPlatform()}),9e5)},onHide:function(){this.clear&&clearInterval(this.clear)}};e.default=l}).call(this,i("0de9")["default"])},8010:function(t,e,i){"use strict";i.r(e);var a=i("a8a6"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"80d4":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e9be")),r=a(i("340d")),s=a(i("e818")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},"80e3":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("65ba"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count",errorMessage:""}},computed:{chartTabs:function(){var t=[];return s.default.forEach((function(e){var i=e.field,a=e.title,n=e.hasOwnProperty("value");i&&a&&n&&t.push({_id:i,name:a})})),t},queryStr:function(){return(0,r.stringifyQuery)(this.query,!0)},dimension:function(){return(0,r.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.queryStr)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.queryStr)},changeChartTab:function(t,e,i){this.getChartData(this.queryStr,t,i)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(t),this.getChartData(t),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab;this.options.pageCurrent;e=JSON.parse(JSON.stringify(this.query)),e.dimension="day";var n=(0,r.stringifyQuery)(e,!1,["uni_platform"]),u=t.database();u.collection("uni-stat-result").where(n).field("".concat((0,r.stringifyField)(s.default,a),",start_time,channel_id")).groupBy("channel_id,start_time").groupField((0,r.stringifyGroupField)(s.default,a)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,n=(e.count,e.data),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},c=u.categories;if("hour"===i.dimension)for(var l=0;l<24;++l){var d=l<10?"0"+l:l,f="".concat(d,":00 ~ ").concat(d,":59");c.push(f)}var h=[];n.forEach((function(t){h.indexOf(t.channel_id)<0&&h.push(t.channel_id)}));var p=[];i.getChannels().then((function(t){p=t.result.data})).finally((function(){h.forEach((function(t,e){var l=p.find((function(e){return e._id===t})),d=u.series[e]={name:l&&l.channel_name||"\u672a\u77e5",data:[]};if("hour"===i.dimension)for(var f=0;f<24;++f)d.data[f]=0;var h=s.default.filter((function(t){return t.field===a}));h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="";var m,g=o(n);try{for(g.s();!(m=g.n()).done;){var _=m.value;(0,r.mapfields)(h,_,_);var v=_.start_time,b=(0,r.formatDate)(v,i.dimension),y=_[a],x=c.indexOf(b);t===_.channel_id&&(x<0?(c.push(b),d.data.push(y)):d.data[x]=y)}}catch(w){g.e(w)}finally{g.f()}})),i.chartData=u}))})).catch((function(t){})).finally((function(){i.loading=!1}))},getChannels:function(){var e=t.database();return e.collection("uni-stat-app-channels").get()},getTabelData:function(e){var i=this,a=this.options.pageCurrent;this.loading=!0;var n=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),u=t.database();u.collection("uni-stat-result").where(n).field("".concat((0,r.stringifyField)(s.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("new_device_count","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,a=e.count,n=e.data;i.getChannels().then((function(t){var e,i=t.result.data,a=o(n);try{var r=function(){var t=e.value;i.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(a.s();!(e=a.n()).done;)r()}catch(s){a.e(s)}finally{a.f()}})).finally((function(){var t,e=o(n);try{for(e.s();!(t=e.n()).done;){var u=t.value;(0,r.mapfields)(s.default,u,u)}}catch(c){e.e(c)}finally{e.f()}i.tableData=[],i.options.total=a,i.tableData=n}))})).catch((function(t){})).finally((function(){i.loading=!1}))},getPanelData:function(){var e=this,i=JSON.parse(JSON.stringify(this.query));i.dimension="day";var a=(0,r.stringifyQuery)(i,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(a).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc").get().then((function(t){var a=t.result.data[0];a&&(a.total_devices=0),r.getFieldTotal.call(e,i),e.panelData=[],e.panelData=(0,r.mapfields)(s.default,a)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"80e6":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("0aa1");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return u.collection("uni-id-tag").add(t).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),e.getOpenerEventChannel().emit("refreshCheckboxData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))}}};e.default=l}).call(this,i("a9ff")["default"])},8105:function(t,e,i){"use strict";i.r(e);var a=i("d43e"),n=i("fe4b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"814a":function(t,e,i){"use strict";i.r(e);var a=i("e6a7"),n=i("c1aa");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},8158:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=a(i("9523")),o=i("b1f9"),u=i("bb25"),c=i("26cb");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=t.database(),h=f.command,p=["name","title","stable_publish","type"];function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d({create_env:h.neq("uni-stat")},t)}var g={data:function(){return{backButtonHover:!1,appVersionListDbName:u.appVersionListDbName,currentAppid:"",currentAppName:"",query:"",where:"",orderby:"stable_publish desc,create_date desc",selectedIndexs:[],options:d({pageSize:20,pageCurrent:1},o.enumConverter),imageStyles:{width:64,height:64},loaded:!1,containerTop:{},appList:[],showAppIndex:0}},onLoad:function(t){var e=this;return(0,r.default)(n.default.mark((function i(){var a;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.appid,i.next=3,e.getAppList();case 3:if(e.appList.length){i.next=5;break}return i.abrupt("return");case 5:e.loaded=!0,e.appList.forEach((function(t,i){(t.appid===a||u.defaultDisplayApp)&&(e.showAppIndex=i)})),e.setAppInfo(e.showAppIndex),e.where=m({appid:e.currentAppid});case 9:case"end":return i.stop()}}),i)})))()},computed:d(d({},(0,c.mapState)("app",["appid"])),{},{appNameList:function(){return this.appList.map((function(t){return t.name}))}}),watch:{showAppIndex:function(t){this.setAppInfo(t),this.where=m({appid:this.currentAppid})}},onReady:function(){this.containerTop.height="".concat(function(){return document.documentElement?document.documentElement.clientHeight:window.innerHeight}(),"px")},methods:{setAppInfo:function(t){this.currentAppid=this.appList[t].appid,this.currentAppName=this.appList[t].name},navigateBack:function(){uni.navigateBack()},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return p.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere(),e=t===this.where;this.where=t,this.where&&(this.where="(".concat(this.where,") && ")),this.where+="".concat(new RegExp(this.currentAppid,"i"),".test(appid)"),e&&this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){this.$refs.udb.remove(this.selectedItems())},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){this.$refs.udb.remove(t)},publish:function(t){var e=this,i=Object.keys(this.options.type_valuetotext);uni.showActionSheet({itemList:Object.values(this.options.type_valuetotext),success:function(){var t=(0,r.default)(n.default.mark((function t(a){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.navigateTo("./add?appid=".concat(e.currentAppid,"&name=").concat(e.currentAppName,"&type=").concat(i[a.tapIndex]));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},getAppList:function(){var t=this;return(0,r.default)(n.default.mark((function e(){var i,a,r;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection(u.appListDbName).get();case 3:i=e.sent,a=i.result,a&&a.data&&a.data.length>0?t.appList=a.data.filter((function(e){return e.appid!==t.appid})):t.showModalToAppManager(),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),r=["TOKEN_INVALID_TOKEN_EXPIRED","TOKEN_INVALID_ANONYMOUS_USER"],-1===r.indexOf(e.t0.code)&&t.showModalToAppManager();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},showModalToAppManager:function(){var t=null,e=3;function i(){uni.navigateTo({url:"/pages/system/app/list"}),clearInterval(t)}t=setInterval((function(){--e<=0&&i()}),1e3),uni.showModal({title:"\u8bf7\u5148\u6dfb\u52a0\u5e94\u7528",content:"\u5373\u5c06\u8df3\u8f6c\u81f3\u5e94\u7528\u7ba1\u7406\u2026\u2026",showCancel:!1,confirmText:"\u7acb\u5373\u8df3\u8f6c",success:function(t){return i()}})},store_list_key:function(t){var e=t?t.filter((function(t){return t.enable})):[];return e.length?e.sort((function(t,e){return e.priority-t.priority})).map((function(t){return t.name})).join(","):"-"}}};e.default=g}).call(this,i("a9ff")["default"])},8168:function(t,e,i){"use strict";i.r(e);var a=i("9e30"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"81ca":function(t,e,i){"use strict";i.r(e);var a=i("1a96"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"81d5":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("cb9c"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{appid:"",platform_id:"",uni_platform:"",channel_id:"",version_id:"",create_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:[],queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.create_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(t){this.getTableData(t)},getTableData:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),a=this.options.pageCurrent;this.loading=!0;var n=t.database();n.collection("uni-stat-event-logs","uni-stat-app-platforms").where(i).orderBy("create_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var i=t.result,a=i.count,n=i.data;e.tableData=[],e.options.total=a;var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.create_time=(0,r.parseDateTime)(l.create_time,"dateTime"),l.platform=l.platform&&l.platform[0].name,(0,r.mapfields)(s.default,l,l),e.tableData.push(l)}}catch(d){c.e(d)}finally{c.f()}})).catch((function(t){})).finally((function(){e.loading=!1}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},8202:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("3b6e")),r={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:n.default.glyphs}},computed:{unicode:function(){var t=this,e=this.icons.find((function(e){return e.font_class===t.type}));return e?unescape("%u".concat(e.unicode)):""},iconSize:function(){return function(t){return"number"===typeof t||/^[0-9]*$/g.test(t)?t+"px":t}(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};e.default=r},"821b":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={permission_id:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u6807\u8bc6"},permission_name:{rules:[{required:!0},{format:"string"}],label:"\u6743\u9650\u540d\u79f0"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"}};e.enumConverter={}},8296:function(t,e,i){"use strict";i.r(e);var a=i("6cfe"),n=i("90ab");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"82a7":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.text)?i("text",{staticClass:t._$s(2,"sc","uni-badge"),class:t._$s(2,"c",t.classNames),style:t._$s(2,"s",[t.positionStyle,t.customStyle,t.dotStyle]),attrs:{_i:2},on:{click:function(e){return t.onClick()}}},[t._v(t._$s(2,"t0-0",t._s(t.displayValue)))]):t._e()],2)},n=[]},"82e1":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("46c2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uni-popup",{ref:"popup",attrs:{type:"bottom",_i:0}},[i("view",{staticClass:t._$s(1,"sc","box"),attrs:{_i:1}},[i("text",{staticClass:t._$s(2,"sc","headBox"),attrs:{_i:2}}),i("text",{staticClass:t._$s(3,"sc","tip"),attrs:{_i:3}}),i("view",{staticClass:t._$s(4,"sc","btnBox"),attrs:{_i:4}},[i("text",{staticClass:t._$s(5,"sc","close"),attrs:{_i:5},on:{click:t.closeMe}}),i("button",{staticClass:t._$s(6,"sc","agree uni-btn"),attrs:{_i:6},on:{getphonenumber:t.bindMobileByMpWeixin}})])])])},r=[]},"82f6":function(t,e,i){"use strict";i.r(e);var a=i("bd0a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"831c":function(t,e,i){"use strict";i.r(e);var a=i("962c"),n=i("e16d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},8330:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={pages:[{path:"pages/index/index"},{path:"uni_modules/uni-id-pages/pages/login/login-withpwd",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u767b\u5f55"}},{path:"pages/error/404",style:{navigationBarTitleText:"Not Found"}},{path:"uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",style:{navigationBarTitleText:"\u4fee\u6539\u5bc6\u7801"}},{path:"uni_modules/uni-upgrade-center/pages/version/list",style:{navigationBarTitleText:"\u7248\u672c\u5217\u8868"}},{path:"uni_modules/uni-upgrade-center/pages/version/add",style:{navigationBarTitleText:"\u65b0\u7248\u53d1\u5e03"}},{path:"uni_modules/uni-upgrade-center/pages/version/detail",style:{navigationBarTitleText:"\u7248\u672c\u4fe1\u606f\u67e5\u770b"}},{path:"uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate",style:{navigationBarTitleText:"\u6ce8\u9500\u8d26\u53f7"}},{path:"uni_modules/uni-id-pages/pages/userinfo/userinfo",style:{navigationBarTitleText:"\u4e2a\u4eba\u8d44\u6599"}},{path:"uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile",style:{navigationBarTitleText:"\u7ed1\u5b9a\u624b\u673a\u53f7\u7801"}},{path:"uni_modules/uni-id-pages/pages/userinfo/cropImage/cropImage",style:{navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/login/login-smscode",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u624b\u673a\u9a8c\u8bc1\u7801\u767b\u5f55"}},{path:"uni_modules/uni-id-pages/pages/login/login-withoutpwd",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u514d\u5bc6\u767b\u5f55\u9875"}},{path:"uni_modules/uni-id-pages/pages/register/register",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u6ce8\u518c"}},{path:"uni_modules/uni-id-pages/pages/register/register-admin",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u521b\u5efa\u8d85\u7ea7\u7ba1\u7406\u5458"}},{path:"uni_modules/uni-id-pages/pages/register/register-by-email",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u6ce8\u518c"}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u91cd\u7f6e\u5bc6\u7801"}},{path:"uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email",style:{topWindow:!1,leftWindow:!1,navigationBarTitleText:"\u901a\u8fc7\u90ae\u7bb1\u91cd\u7f6e\u5bc6\u7801"}},{path:"uni_modules/uni-id-pages/pages/common/webview/webview",style:{topWindow:!1,leftWindow:!1,enablePullDownRefresh:!1,navigationBarTitleText:""}},{path:"uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd",style:{enablePullDownRefresh:!1,navigationBarTitleText:"\u8bbe\u7f6e\u5bc6\u7801"}}],subPackages:[{root:"pages/system",pages:[{path:"menu/list",style:{navigationBarTitleText:"\u83dc\u5355\u7ba1\u7406"}},{path:"menu/add",style:{navigationBarTitleText:"\u65b0\u589e\u83dc\u5355",navigationStyle:"default"}},{path:"menu/edit",style:{navigationBarTitleText:"\u4fee\u6539\u83dc\u5355",navigationStyle:"default"}},{path:"permission/list",style:{navigationBarTitleText:"\u6743\u9650\u7ba1\u7406"}},{path:"permission/add",style:{navigationBarTitleText:"\u65b0\u589e\u6743\u9650",navigationStyle:"default"}},{path:"permission/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6743\u9650",navigationStyle:"default"}},{path:"role/add",style:{navigationBarTitleText:"\u65b0\u589e\u89d2\u8272",navigationStyle:"default"}},{path:"role/edit",style:{navigationBarTitleText:"\u4fee\u6539\u89d2\u8272",navigationStyle:"default"}},{path:"role/list",style:{navigationBarTitleText:"\u89d2\u8272\u7ba1\u7406"}},{path:"user/add",style:{navigationBarTitleText:"\u65b0\u589e\u7528\u6237",navigationStyle:"default"}},{path:"user/edit",style:{navigationBarTitleText:"\u4fee\u6539\u7528\u6237",navigationStyle:"default"}},{path:"user/list",style:{navigationBarTitleText:"\u7528\u6237\u7ba1\u7406"}},{path:"app/add",style:{navigationBarTitleText:"\u65b0\u589e\u5e94\u7528",navigationStyle:"default"}},{path:"app/list",style:{navigationBarTitleText:"\u5e94\u7528\u7ba1\u7406"}},{path:"app/uni-portal/uni-portal",style:{navigationBarTitleText:"\u53d1\u5e03\u9875\u7ba1\u7406",navigationStyle:"default"}},{path:"tag/add",style:{navigationBarTitleText:"\u65b0\u589e\u6807\u7b7e"}},{path:"tag/edit",style:{navigationBarTitleText:"\u4fee\u6539\u6807\u7b7e"}},{path:"tag/list",style:{navigationBarTitleText:"\u6807\u7b7e\u7ba1\u7406"}},{path:"safety/list",style:{navigationBarTitleText:"\u7528\u6237\u65e5\u5fd7"}}]},{root:"pages/demo",pages:[{path:"icons/icons",style:{navigationBarTitleText:"\u56fe\u6807"}},{path:"table/table",style:{navigationBarTitleText:"\u8868\u683c"}}]},{root:"pages/uni-stat",pages:[{path:"page-res/page-res",style:{navigationBarTitleText:"\u53d7\u8bbf\u9875",enablePullDownRefresh:!1}},{path:"page-ent/page-ent",style:{navigationBarTitleText:"\u5165\u53e3\u9875",enablePullDownRefresh:!1}},{path:"scene/scene",style:{navigationBarTitleText:"\u573a\u666f\u503c\uff08\u5c0f\u7a0b\u5e8f\uff09",enablePullDownRefresh:!1}},{path:"channel/channel",style:{navigationBarTitleText:"\u6e20\u9053\uff08app\uff09",enablePullDownRefresh:!1}},{path:"error/js/js",style:{navigationBarTitleText:"js\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"error/js/detail",style:{navigationBarTitleText:"\u9519\u8bef\u4fe1\u606f",navigationStyle:"default",enablePullDownRefresh:!1}},{path:"error/app/app",style:{navigationBarTitleText:"app\u539f\u751f\u62a5\u9519\u7edf\u8ba1",enablePullDownRefresh:!1}},{path:"event/event",style:{navigationBarTitleText:"\u4e8b\u4ef6\u548c\u8f6c\u5316",enablePullDownRefresh:!1}},{path:"device/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"device/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"device/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"device/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"device/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"device/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}},{path:"user/overview/overview",style:{navigationBarTitleText:"\u4eca\u65e5\u6982\u51b5",enablePullDownRefresh:!1}},{path:"user/activity/activity",style:{navigationBarTitleText:"\u6d3b\u8dc3\u5ea6",enablePullDownRefresh:!1}},{path:"user/trend/trend",style:{navigationBarTitleText:"\u8d8b\u52bf\u5206\u6790",enablePullDownRefresh:!1}},{path:"user/retention/retention",style:{navigationBarTitleText:"\u7559\u5b58",enablePullDownRefresh:!1}},{path:"user/comparison/comparison",style:{navigationBarTitleText:"\u5e73\u53f0\u5bf9\u6bd4",enablePullDownRefresh:!1}},{path:"user/stickiness/stickiness",style:{navigationBarTitleText:"\u7c98\u6027",enablePullDownRefresh:!1}},{path:"pay-order/overview/overview",style:{navigationBarTitleText:"\u8ba2\u5355\u6982\u51b5",enablePullDownRefresh:!1}},{path:"pay-order/list/list",style:{navigationBarTitleText:"\u8ba2\u5355\u660e\u7ec6",enablePullDownRefresh:!1}},{path:"pay-order/funnel/funnel",style:{navigationBarTitleText:"\u6f0f\u6597\u5206\u6790",enablePullDownRefresh:!1}},{path:"pay-order/ranking/ranking",style:{navigationBarTitleText:"\u7528\u6237\u4ef7\u503c\u6392\u884c",enablePullDownRefresh:!1}}]}],globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"\u7ba1\u7406\u7cfb\u7edf",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8",h5:{titleNView:!1}},topWindow:{path:"windows/topWindow",style:{height:"60px"},matchMedia:{minWidth:0}},leftWindow:{path:"windows/leftWindow",style:{width:"240px"}},uniIdRouter:{loginPage:"uni_modules/uni-id-pages/pages/login/login-withpwd",needLogin:["^((?!uni-id-pages/pages/login|register|retrieve).)*$"],resToLogin:!0}}},8384:function(t,e,i){"use strict";i.r(e);var a=i("7d7c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"83c8":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={role_id:{rules:[{required:!0},{format:"string"}],label:"\u552f\u4e00ID"},role_name:{rules:[{required:!0},{format:"string"}],label:"\u540d\u79f0"},permission:{rules:[{format:"array"}],label:"\u6743\u9650"},comment:{rules:[{format:"string"}],label:"\u5907\u6ce8"},create_date:{rules:[{format:"timestamp"}]}};e.enumConverter={}},"848e":function(t,e,i){"use strict";i.r(e);var a=i("f6b0"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},8521:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniLoadMore:i("5673").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-data-pickerview"),attrs:{_i:0}},[i("scroll-view",{staticClass:t._$s(1,"sc","selected-area"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","selected-list"),attrs:{_i:2}},[t._l(t._$s(3,"f",{forItems:t.selected}),(function(e,a,n,r){return[t._$s("4-"+r,"i",e.text)?i("view",{key:t._$s(3,"f",{forIndex:n,keyIndex:0,key:a+"_0"}),staticClass:t._$s("4-"+r,"sc","selected-item"),class:t._$s("4-"+r,"c",{"selected-item-active":a==t.selectedIndex,"selected-item-text-overflow":t.ellipsis}),attrs:{_i:"4-"+r},on:{click:function(e){return t.handleSelect(a)}}},[i("text",[t._v(t._$s("5-"+r,"t0-0",t._s(e.text)))])]):t._e()]}))],2)]),i("view",{staticClass:t._$s(6,"sc","tab-c"),attrs:{_i:6}},[t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,a,n,r){return[t._$s("8-"+r,"i",a==t.selectedIndex)?i("scroll-view",{key:t._$s(7,"f",{forIndex:n,keyIndex:0,key:a+"_"+t.index+"_0"}),staticClass:t._$s("8-"+r,"sc","list"),attrs:{_i:"8-"+r}},t._l(t._$s("9-"+r,"f",{forItems:e}),(function(e,n,s,o){return i("view",{key:t._$s("9-"+r,"f",{forIndex:s,key:n}),staticClass:t._$s("9-"+r+"-"+o,"sc","item"),class:t._$s("9-"+r+"-"+o,"c",{"is-disabled":!!e.disable}),attrs:{_i:"9-"+r+"-"+o},on:{click:function(i){return t.handleNodeClick(e,a,n)}}},[i("text",{staticClass:t._$s("10-"+r+"-"+o,"sc","item-text item-text-overflow"),attrs:{_i:"10-"+r+"-"+o}},[t._v(t._$s("10-"+r+"-"+o,"t0-0",t._s(e[t.map.text])))]),t._$s("11-"+r+"-"+o,"i",t.selected.length>a&&e[t.map.value]==t.selected[a].value)?i("view",{staticClass:t._$s("11-"+r+"-"+o,"sc","check"),attrs:{_i:"11-"+r+"-"+o}}):t._e()])})),0):t._e()]})),t._$s(12,"i",t.loading)?i("view",{staticClass:t._$s(12,"sc","loading-cover"),attrs:{_i:12}},[i("uni-load-more",{staticClass:t._$s(13,"sc","load-more"),attrs:{contentText:t.loadMore,status:"loading",_i:13}})],1):t._e(),t._$s(14,"i",t.errorMessage)?i("view",{staticClass:t._$s(14,"sc","error-message"),attrs:{_i:14}},[i("text",{staticClass:t._$s(15,"sc","error-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.errorMessage)))])]):t._e()],2)])},r=[]},8526:function(t,e,i){"use strict";i.r(e);var a=i("706d"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},8577:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-sub-menu"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-sub-menu__title"),class:t._$s(1,"c",{"is-disabled":t.disabled}),style:t._$s(1,"s",{paddingLeft:t.paddingLeft}),attrs:{_i:1},on:{click:t.select}},[i("view",{staticClass:t._$s(2,"sc","uni-sub-menu__title-sub"),style:t._$s(2,"s",{color:t.disabled?"#999":t.textColor}),attrs:{_i:2}},[t._t("title",null,{_i:3})],2),i("uni-icons",{staticClass:t._$s(4,"sc","uni-sub-menu__icon"),class:t._$s(4,"c",{transition:t.isOpen}),attrs:{type:"arrowdown",color:"#bbb",size:"14",_i:4}})],1),i("view",{staticClass:t._$s(5,"sc","uni-sub-menu__content"),class:t._$s(5,"c",{"uni-sub-menu--close":!t.isOpen}),style:t._$s(5,"s",{"background-color":t.backgroundColor}),attrs:{_i:5}},[i("view",{attrs:{id:"content--hook",_i:6}},[t._t("default",null,{_i:7})],2)])])},r=[]},"857c":function(t,e,i){"use strict";i.r(e);var a=i("3c69"),n=i("fa54");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4023558a",null,!1,a["a"],void 0);e["default"]=o.exports},8593:function(t){t.exports=JSON.parse('{"name":"uni-admin \u57fa\u7840\u6846\u67b6\uff08\u539f\u540d uniCloud admin\uff09","id":"uni-template-admin","displayName":"uni-admin \u57fa\u7840\u6846\u67b6","version":"2.3.0","description":"\u57fa\u4e8euni-app & uniCloud\u7684\u540e\u53f0\u7ba1\u7406\u9879\u76ee\u6a21\u677f\uff08\u7ba1\u7406\u540e\u53f0\u5f00\u53d1\u5fc5\u5907\u795e\u5668\uff09","main":"main.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":"https://github.com/dcloudio/uni-admin.git","keywords":["admin","uniCloud","\u7ba1\u7406\u540e\u53f0","\u4e91\u540e\u53f0","uni-admin"],"engines":{"HBuilderX":"^3.6.0"},"author":"","license":"MIT","bugs":{"url":"https://github.com/dcloudio/uni-admin/issues"},"homepage":"https://github.com/dcloudio/uni-admin#readme","dcloudext":{"sale":{"regular":{"price":"0.00"},"sourcecode":{"price":"0.00"}},"contact":{"qq":""},"declaration":{"ads":"\u65e0","data":"\u65e0","permissions":"\u65e0"},"npmurl":"","type":"unicloud-template-project"},"uni_modules":{"dependencies":[],"encrypt":[],"platforms":{"cloud":{"tcb":"y","aliyun":"y"},"client":{"App":{"app-vue":"y","app-nvue":"y"},"H5-mobile":{"Safari":"y","Android Browser":"y","\u5fae\u4fe1\u6d4f\u89c8\u5668(Android)":"y","QQ\u6d4f\u89c8\u5668(Android)":"y"},"H5-pc":{"Chrome":"y","IE":"n","Edge":"y","Firefox":"y","Safari":"y"},"\u5c0f\u7a0b\u5e8f":{"\u5fae\u4fe1":"y","\u963f\u91cc":"y","\u767e\u5ea6":"y","\u5b57\u8282\u8df3\u52a8":"y","QQ":"y","\u4eac\u4e1c":"u"},"\u5feb\u5e94\u7528":{"\u534e\u4e3a":"u","\u8054\u76df":"u"},"Vue":{"vue2":"y","vue3":"y"}}}}}')},"85aa":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=a(i("d2f6")),s=a(i("1b03"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=t.importObject("uni-id-co",{customUI:!0}),l={mixins:[r.default],data:function(){return{focusOldPassword:!1,focusNewPassword:!1,focusNewPassword2:!1,formData:{oldPassword:"",newPassword:"",newPassword2:""},rules:u({oldPassword:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"}]}},s.default.getPwdRules("newPassword","newPassword2")),logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var i=t.formData,a=i.oldPassword,n=i.newPassword;c.updatePwd({oldPassword:a,newPassword:n}).then((function(t){uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})})).catch((function(t){uni.showModal({content:t.message,showCancel:!1})}))})).catch((function(e){var i=e[0].key;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))}}};e.default=l}).call(this,i("a9ff")["default"])},"85fc":function(t,e,i){"use strict";i.r(e);var a=i("9c83"),n=i("b7ba");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"86d4":function(t,e,i){"use strict";i.r(e);var a=i("c9c9"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"86e0":function(t,e,i){"use strict";i.r(e);var a=i("d7f4"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"874a":function(t,e,i){"use strict";i.r(e);var a=i("5e77"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},8787:function(t,e,i){"use strict";i.r(e);var a=i("dff7"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"87d2":function(t,e,i){"use strict";i.r(e);var a=i("b598"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},8812:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc","def-item":1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(7,"sc","uni-stat--x"),attrs:{_i:7}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:8},on:{change:t.platformChange},model:{value:t._$s(8,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(9,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(9,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("funnelChart",{attrs:{query:t.query,_i:10}}),i("trendChart",{attrs:{query:t.query,_i:11}})],1),i("fix-window",{attrs:{_i:12}})],1)},r=[]},8869:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("966d")),s=t.database();s.command;function o(t){for(var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i="",a=0;a<t;a++)i+=e[Math.floor(26*Math.random())];return i}var u={mixins:[r.default],data:function(){return{mpExtra:" ",mpAccordionStatus:1,labelWidth:"80px"}},onLoad:function(t){var e=this;t.id?(this.isEdit=!0,uni.setNavigationBarTitle({title:"\u4fee\u6539\u5e94\u7528"}),this.setFormData("appid",t.id),this.getDetail(t.id)):this.$watch("formData.name",(function(t){e.platFormKeys.forEach((function(i){e.setFormData("".concat(i,".name"),t)}))}))},onReady:function(){this.mpExtra="\u6298\u53e0"},methods:{resolvestableVersionStoreList:function(){var t=this,e={},i=[];return this.formData.store_list.forEach((function(t,a){i.push(t.id),e[t.id]=a})),this.fetchAppInfo(this.getFormData("appid"),"Android").then((function(a){if(a.success){if(a.store_list){var n={},r=[];a.store_list.forEach((function(t,e){r.push(t.id),n[t.id]=e})),i.forEach((function(i,s){var o=t.formData.store_list[e[i]];-1===r.indexOf(i)?a.store_list.push(o):(a.store_list[n[i]].name=o.name,a.store_list[n[i]].scheme=o.scheme)}));for(var s=0;s<a.store_list.length;s++){var o=a.store_list[s].id;-1!==t.deletedStore.indexOf(o)&&-1===i.indexOf(o)&&(a.store_list.splice(s,1),s--)}}else a.store_list=t.formData.store_list;return t.updateAppVersion(a._id,{store_list:a.store_list})}}))},updateAppVersion:function(t,e){return s.collection("opendb-app-versions").doc(t).update(e)},submit:function(){var t=this;uni.showLoading({mask:!0}),this.formatFormData(),this.$refs.form.validate(this.keepItems).then((function(e){return t.submitForm(e)})).catch((function(t){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;(this.isEdit?this.requestCloudFunction("setNewAppData",{id:this.formDataId,value:t}):s.collection("opendb-app-list").add(t)).then((function(t){if(e.isEdit)return e.resolvestableVersionStoreList()})).then((function(){uni.showToast({title:"".concat(e.isEdit?"\u66f4\u65b0":"\u65b0\u589e","\u6210\u529f")}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),s.collection("opendb-app-list").where({appid:t}).get().then((function(t){var i=t.result.data[0];i?(e.formDataId=i._id,e.initFormData(i)):(e.autoFill(),e.autoFillApp())})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},mpAccordion:function(){this.mpAccordionStatus?(this.mpExtra="\u5c55\u5f00",this.mpAccordionStatus=0):(this.mpExtra="\u6298\u53e0",this.mpAccordionStatus=1)},addStoreScheme:function(){this.formData.store_list.push({enable:!1,priority:0,id:o(5)+"_"+Date.now()})},deleteStore:function(t,e){var i=this;e.scheme&&e.scheme.trim().length&&this.isEdit?uni.showModal({content:"\u662f\u5426\u540c\u6b65\u5220\u9664\u7ebf\u4e0a\u7248\u672c\u6b64\u6761\u5546\u5e97\u8bb0\u5f55\uff1f",success:function(e){var a=i.formData.store_list.splice(t,1)[0];a&&e.confirm&&i.deletedStore.push(a.id)}}):this.formData.store_list.splice(t,1)[0]},schemeDemo:function(){$refs.scheme.open("center")}}};e.default=u}).call(this,i("a9ff")["default"],i("0de9")["default"])},"88fe":function(t,e,i){"use strict";i.r(e);var a=i("c2c0"),n=i("81ca");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"890e":function(t,e,i){"use strict";i.r(e);var a=i("1316"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"893d":function(t,e,i){"use strict";i.r(e);var a=i("decb"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"89dc":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("278c")),o=n(i("9523")),u=n(i("c973"));function c(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=t.importObject("uni-sms-co"),p={name:"batchSms",props:{toType:String,receiver:{type:Array,default:function(){return[]}}},data:function(){return{smsTemplateLoading:!1,smsTemplate:[],smsTemplateDataErrorMessage:"",smsDataModel:{name:"",templateId:"",templateData:[]},smsTemplateContent:"",smsPreviewContent:[]}},computed:{isSelectedReceiver:function(){return!!this.receiver.length},sendAll:function(){return!this.isSelectedReceiver||"userTags"===this.toType}},watch:{smsDataModel:{handler:function(t){if(!t.templateId)return"";var e=this.smsTemplate.find((function(e){return e.value===t.templateId})),i=t.templateData.reduce((function(t,e){var i=new RegExp("\\$\\{".concat(e.field,"\\}"));return t.replace(i,(function(t){return e.value||t}))}),e.content);this.smsTemplateContent="\u3010".concat(e.sign,"\u3011").concat(i)},deep:!0}},methods:{popupChange:function(t){t.show||this.reset()},open:function(){this.$refs.smsPopup.open(),this.loadSmsTemplate()},close:function(){this.reset(),this.$refs.smsPopup.close()},loadSmsTemplate:function(){var e=this;return(0,u.default)(r.default.mark((function i(){var a,n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(e.smsTemplate.length>0||e.smsTemplateLoading)){i.next=2;break}return i.abrupt("return");case 2:return e.smsTemplateLoading=!0,i.prev=3,a=t.importObject("uni-sms-co",{customUI:!0}),i.next=7,a.template();case 7:n=i.sent,e.smsTemplate=n.map((function(t){return f(f({},t),{},{value:t._id,text:t.name})}));case 9:return i.prev=9,e.smsTemplateLoading=!1,i.finish(9);case 12:case"end":return i.stop()}}),i,null,[[3,,9,12]])})))()},onSmsTemplateSelected:function(t){var e=this.smsTemplate.find((function(e){return e.value===t}));if(e){var i,a=new RegExp(/\$\{(.*?)\}/g),n=[];while(i=a.exec(e.content)){var r=i[1];r&&n.push({field:r,value:""})}this.smsDataModel.templateData=n}},sendSms:function(){var t=arguments,e=this;return(0,u.default)(r.default.mark((function i(){var a,n,s,o,l,d,f;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.length>0&&void 0!==t[0]&&t[0],i.next=3,e.$refs.smsForm.validate();case 3:n=i.sent,s=e.receiver,o=c(e.smsDataModel.templateData),i.prev=6,o.s();case 8:if((l=o.n()).done){i.next=15;break}if(d=l.value,d.value){i.next=13;break}return e.smsTemplateDataErrorMessage="\u5b57\u6bb5/\u503c\u4e0d\u53ef\u4e3a\u7a7a",i.abrupt("return");case 13:i.next=8;break;case 15:i.next=20;break;case 17:i.prev=17,i.t0=i["catch"](6),o.e(i.t0);case 20:return i.prev=20,o.f(),i.finish(20);case 23:if(e.smsTemplateDataErrorMessage="",!a){i.next=32;break}return i.next=27,h.preview({all:e.sendAll,type:e.toType,receiver:s},n.templateId,e.smsDataModel.templateData);case 27:if(f=i.sent,0!==f.errCode){i.next=32;break}return e.smsPreviewContent=f.list,e.$refs.previewPopup.open(),i.abrupt("return");case 32:uni.showModal({title:"\u53d1\u9001\u786e\u8ba4",content:"\u77ed\u4fe1".concat(e.sendAll?"\u5c06\u53d1\u9001\u7ed9\u6240\u6709\u7528\u6237":"\u9884\u8ba1\u53d1\u9001".concat(e.receiver.length,"\u4eba"),"\uff0c\u786e\u5b9a\u53d1\u9001\uff1f"),success:function(){var t=(0,u.default)(r.default.mark((function t(i){var a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!i.cancel){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,h.createSmsTask({all:e.sendAll,type:e.toType,receiver:s},n.templateId,e.smsDataModel.templateData,{taskName:n.name});case 4:a=t.sent,a.taskId&&uni.showModal({content:"\u77ed\u4fe1\u4efb\u52a1\u5df2\u63d0\u4ea4\uff0c\u60a8\u53ef\u5728DCloud\u5f00\u53d1\u8005\u540e\u53f0\u67e5\u770b\u77ed\u4fe1\u53d1\u9001\u8bb0\u5f55",confirmText:"\u7acb\u5373\u67e5\u770b",cancelText:"\u5173\u95ed",success:function(t){t.cancel,e.reset(),e.$refs.smsPopup.close()}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 33:case"end":return i.stop()}}),i,null,[[6,17,20,23]])})))()},chooseFile:function(){var t=this;"undefined"!==typeof window.FileReader?uni.chooseFile({count:1,extension:[".json"],success:function(e){var i=e.tempFiles;if(!(i.length<=0)){var a=(0,s.default)(i,1),n=a[0],r=new FileReader;r.readAsText(n),r.onload=function(){return t.parserFileJson(null,r.result)},r.onerror=function(){return t.parserFileJson(r.error)}}},fail:function(){uni.showModal({content:"\u6253\u5f00\u9009\u62e9\u6587\u4ef6\u6846\u5931\u8d25",showCancel:!1})}}):uni.showModal({content:"\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u6587\u4ef6\u4e0a\u4f20\uff0c\u8bf7\u5347\u7ea7\u6d4f\u89c8\u5668\u91cd\u8bd5",showCancel:!1})},parserFileJson:function(t,e){var i=this;return(0,u.default)(r.default.mark((function a(){var n,s;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}return uni.showModal({content:"\u6587\u4ef6\u8bfb\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20\u6587\u4ef6",showCancel:!1}),a.abrupt("return");case 4:n=[],a.prev=5,n=JSON.parse(e),a.next=14;break;case 9:return a.prev=9,a.t0=a["catch"](5),a.t0,uni.showModal({content:"\u77ed\u4fe1\u6a21\u677f\u89e3\u6790\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6a21\u677f\u683c\u5f0f",showCancel:!1}),a.abrupt("return");case 14:return a.next=16,h.updateTemplates(n);case 16:s=a.sent,0===s.errCode&&uni.showModal({content:"\u77ed\u4fe1\u6a21\u677f\u66f4\u65b0\u6210\u529f",showCancel:!1,success:function(){i.loadSmsTemplate()}});case 18:case"end":return a.stop()}}),a,null,[[5,9]])})))()},reset:function(){this.smsDataModel.name="",this.smsDataModel.templateId="",this.smsDataModel.templateData=[],this.smsPreviewContent=[],this.smsTemplateContent=""}}};e.default=p}).call(this,i("a9ff")["default"],i("0de9")["default"])},"8a77":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("9523")),s=a(i("c973")),o=a(i("de3a")),u=i("f28b"),c=i("cecf");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=null,h={name:"uqrcode",props:{canvasId:{type:String,required:!0},value:{type:[String,Number]},options:{type:Object,default:function(){return{}}},size:{type:[String,Number],default:200},sizeUnit:{type:String,default:"px"},fileType:{type:String,default:"png"},start:{type:Boolean,default:!0},auto:{type:Boolean,default:!0},hide:{type:Boolean,default:!1},type:{type:String,default:function(){return"normal"}},queue:{type:Boolean,default:!1},isQueueLoadImage:{type:Boolean,default:!1},loading:{type:Boolean,default:void 0},h5SaveIsDownload:{type:Boolean,default:!1},h5DownloadName:{type:String,default:"uQRCode"}},data:function(){return{canvas:void 0,canvasType:void 0,canvasContext:void 0,makeDelegate:void 0,drawDelegate:void 0,toTempFilePathDelegate:void 0,makeExecuted:!1,makeing:!1,drawing:!1,isError:!1,error:void 0,isH5Save:!1,tempFilePath:"",templateOptions:{size:0,width:0,height:0,canvasWidth:0,canvasHeight:0,canvasTransform:"",canvasDisplay:!1},uqrcodeOptions:{data:""},plugins:[],makeingPattern:[[[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!0,!0,!0]],[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!1,!1,!1,!1,!1,!1,!1],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]]}},watch:{type:{handler:function(t){["2d"].includes(t)?this.canvasType=t:this.canvasType=void 0},immediate:!0},value:{handler:function(){this.auto&&this.remake()}},size:{handler:function(){this.auto&&this.remake()}},options:{handler:function(){this.auto&&this.remake()},deep:!0},makeing:{handler:function(t){t||"function"===typeof this.toTempFilePathDelegate&&this.toTempFilePathDelegate()}}},mounted:function(){this.templateOptions.size="rpx"==this.sizeUnit?uni.upx2px(this.size):this.size,this.templateOptions.width=this.templateOptions.size,this.templateOptions.height=this.templateOptions.size,this.templateOptions.canvasWidth=this.templateOptions.size,this.templateOptions.canvasHeight=this.templateOptions.size,this.canvasType,this.templateOptions.canvasTransform="scale(".concat(this.templateOptions.size/this.templateOptions.canvasWidth,", ").concat(this.templateOptions.size/this.templateOptions.canvasHeight,")"),this.start&&this.make()},methods:{getTemplateOptions:function(){var t="rpx"==this.sizeUnit?uni.upx2px(this.size):this.size;return p(this.templateOptions,{size:t,width:t,height:t})},getUqrcodeOptions:function(){return p(this.options,{data:String(this.value),size:Number(this.templateOptions.size)})},resetCanvas:function(t){var e=this;this.templateOptions.canvasDisplay=!1,this.$nextTick((function(){e.templateOptions.canvasDisplay=!0,e.$nextTick((function(){t&&t()}))}))},draw:function(){var t=arguments,e=this;return(0,s.default)(n.default.mark((function i(){var a,r,s,c;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:{},r=t.length>1&&void 0!==t[1]&&t[1],"function"!=typeof a.success&&(a.success=function(){}),"function"!=typeof a.fail&&(a.fail=function(){}),"function"!=typeof a.complete&&(a.complete=function(){}),!e.drawing){i.next=11;break}if(r){i.next=9;break}return e.drawDelegate=function(){e.draw(a,!0)},i.abrupt("return");case 9:i.next=12;break;case 11:e.drawing=!0;case 12:if(e.canvasId){i.next=19;break}return e.isError=!0,e.drawing=!1,a.fail({errMsg:"[uQRCode]: canvasId must be set!"}),a.complete({errMsg:"[uQRCode]: canvasId must be set!"}),i.abrupt("return");case 19:if(e.value){i.next=26;break}return e.isError=!0,e.drawing=!1,a.fail({errMsg:"[uQRCode]: value must be set!"}),a.complete({errMsg:"[uQRCode]: value must be set!"}),i.abrupt("return");case 26:e.templateOptions=e.getTemplateOptions(),e.uqrcodeOptions=e.getUqrcodeOptions(),"string"===typeof e.uqrcodeOptions.errorCorrectLevel&&(e.uqrcodeOptions.errorCorrectLevel=o.default.errorCorrectLevel[e.uqrcodeOptions.errorCorrectLevel]),"undefined"===typeof e.options.useDynamicSize&&(e.uqrcodeOptions.useDynamicSize=!0),s=f=new o.default,e.plugins.forEach((function(t){return s.register(t.plugin)})),s.setOptions(e.uqrcodeOptions),s.make(),c=null,"2d"===e.canvasType?(c=e.canvasContext=uni.createCanvasContext(e.canvasId,e),e.templateOptions.canvasWidth=s.dynamicSize,e.templateOptions.canvasHeight=s.dynamicSize,e.templateOptions.canvasTransform="scale(".concat(e.templateOptions.size/e.templateOptions.canvasWidth,", ").concat(e.templateOptions.size/e.templateOptions.canvasHeight,")"),s.loadImage=e.getLoadImage((function(t){return new Promise((function(e,i){if(t.startsWith("http"))uni.getImageInfo({src:t,success:function(t){e(t.path)},fail:function(t){i(t)}});else{if(t.startsWith("."))throw new Error("[uQRCode]: local image path only supports absolute path!");e(t)}}))}))):(c=e.canvasContext=uni.createCanvasContext(e.canvasId,e),e.templateOptions.canvasWidth=s.dynamicSize,e.templateOptions.canvasHeight=s.dynamicSize,e.templateOptions.canvasTransform="scale(".concat(e.templateOptions.size/e.templateOptions.canvasWidth,", ").concat(e.templateOptions.size/e.templateOptions.canvasHeight,")"),s.loadImage=e.getLoadImage((function(t){return new Promise((function(e,i){if(t.startsWith("http"))uni.getImageInfo({src:t,success:function(t){e(t.path)},fail:function(t){i(t)}});else{if(t.startsWith("."))throw new Error("[uQRCode]: local image path only supports absolute path!");e(t)}}))}))),s.canvasContext=c,setTimeout((function(){var t,i=e.plugins.find((function(t){return t.name==s.style})),n=i?i.drawCanvas:"drawCanvas";t=e.queue?function(){return u.queueDraw.exec((function(){return s[n]()}))}:function(){return s[n]()},t().then((function(){if(e.drawDelegate){var t=e.drawDelegate;e.drawDelegate=void 0,t()}else e.drawing=!1,a.success()})).catch((function(t){if(e.drawDelegate){var i=e.drawDelegate;e.drawDelegate=void 0,i()}else e.drawing=!1,e.isError=!0,a.fail(t)})).finally((function(){a.complete()}))}),300);case 38:case"end":return i.stop()}}),i)})))()},make:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.makeExecuted=!0,this.makeing=!0,this.isError=!1,"function"!=typeof e.success&&(e.success=function(){}),"function"!=typeof e.fail&&(e.fail=function(){}),"function"!=typeof e.complete&&(e.complete=function(){}),this.resetCanvas((function(){clearTimeout(t.makeDelegate),t.makeDelegate=setTimeout((function(){t.draw({success:function(){setTimeout((function(){e.success(),t.complete(!0)}),300)},fail:function(i){e.fail(i),t.error=i,t.complete(!1,i.errMsg)},complete:function(){e.complete(),t.makeing=!1}})}),300)}))},remake:function(t){this.$emit("change"),this.make(t)},complete:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t?this.$emit("complete",{success:t}):this.$emit("complete",{success:t,errMsg:e})},toTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"!=typeof e.success&&(e.success=function(){}),"function"!=typeof e.fail&&(e.fail=function(){}),"function"!=typeof e.complete&&(e.complete=function(){}),!this.makeExecuted){var i={errMsg:"[uQRCode]: make() method has never been executed! please execute make() successfully before operating."};return e.fail(i),void e.complete(i)}if(this.isError)return e.fail(this.error),void e.complete(this.error);this.makeing?this.toTempFilePathDelegate=function(){t.toTempFilePath(e)}:(this.toTempFilePathDelegate=null,"2d"===this.canvasType||uni.canvasToTempFilePath({canvasId:this.canvasId,fileType:this.fileType,width:Number(this.templateOptions.canvasWidth),height:Number(this.templateOptions.canvasHeight),destWidth:Number(this.templateOptions.size),destHeight:Number(this.templateOptions.size),success:function(t){e.success(t)},fail:function(t){e.fail(t)},complete:function(){e.complete()}},this))},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"function"!=typeof e.success&&(e.success=function(){}),"function"!=typeof e.fail&&(e.fail=function(){}),"function"!=typeof e.complete&&(e.complete=function(){}),this.toTempFilePath({success:function(i){"2d"===t.canvasType||uni.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(t){e.success(t)},fail:function(t){e.fail(t)},complete:function(){e.complete()}})},fail:function(t){e.fail(t),e.complete(t)}})},onClick:function(t){this.$emit("click",t)},getInstance:function(){return f},registerStyle:function(t){if("style"!=t.Type)return{errMsg:"registerStyle \u4ec5\u652f\u6301\u6ce8\u518c style \u7c7b\u578b\u7684\u6269\u5c55\uff01"};"function"===typeof t&&this.plugins.push({plugin:t,name:t.Name,drawCanvas:t.DrawCanvas})},getLoadImage:function(t){var e=this;return"function"==typeof t?function(i){return e.isQueueLoadImage?u.queueLoadImage.exec((function(){return new Promise((function(e,a){setTimeout((function(){var n=c.cacheImageList.find((function(t){return t.src==i}));n?e(n.img):t(i).then((function(t){c.cacheImageList.push({src:i,img:t}),e(t)})).catch((function(t){a(t)}))}),10)}))})):t(i)}:function(t){return Promise.resolve(t)}}}};function p(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t=a?e:d({},e),i){var r=i[n];void 0!=r&&(r.constructor==Object?t[n]=this.deepReplace(t[n],r):r.constructor!=String||r?t[n]=r:t[n]=t[n])}return t}e.default=h}).call(this,i("0de9")["default"])},"8ad7":function(t,e,i){"use strict";i.r(e);var a=i("8a77"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8afa":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initPermission=function(t){t.prototype.$hasPermission=function(t){var e=this.$uniIdPagesStore.store.userInfo.permission||[],i=this.$uniIdPagesStore.store.userInfo.role||[];return i.indexOf("admin")>-1||e.indexOf(t)>-1},t.prototype.$hasRole=function(t){var e=this.$uniIdPagesStore.store.userInfo.role||[];return e.indexOf(t)>-1}}},"8b13":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex mb-m"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),i("view",{staticClass:t._$s(9,"sc","flex"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","ml-m label-text hide-on-phone"),attrs:{_i:10}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":!!t.query.start_time}),attrs:{type:"date",returnType:"timestamp",clearIcon:!1,_i:11},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1)],1),i("view",{staticClass:t._$s(12,"sc","dispaly-grid"),attrs:{_i:12}},t._l(t._$s(13,"f",{forItems:t.chartsData}),(function(e,a,n,r){return i("view",{key:t._$s(13,"f",{forIndex:n,key:a}),staticClass:t._$s("13-"+r,"sc","uni-stat--x uni-charts-box1"),attrs:{_i:"13-"+r}},[i("view",{staticClass:t._$s("14-"+r,"sc","label-text"),attrs:{_i:"14-"+r}},[t._v(t._$s("14-"+r,"t0-0",t._s(t.chartsData[a].title)))]),i("qiun-data-charts",{attrs:{type:"ring",chartData:t.chartsData[a],echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:"15-"+r}})],1)})),0)]),i("fix-window",{attrs:{_i:16}})],1)},r=[]},"8bbf":function(t,e){t.exports=Vue},"8bca":function(t,e,i){"use strict";i.r(e);var a=i("68f6"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8d3f":function(t,e,i){"use strict";i.r(e);var a=i("5f42"),n=i("6e80");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"8d5e":function(t,e,i){"use strict";i.r(e);var a=i("699b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8d8f":function(t,e,i){"use strict";i.r(e);var a=i("6d95"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8d90":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u8bbe\u5907\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u8bbe\u5907\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f"},{title:"\u9875\u9762\u540d\u79f0",field:"title"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u5165\u53e3\u9875\u6b21\u6570",field:"entry_count",tooltip:"\u4f5c\u4e3a\u8bbf\u95ee\u4f1a\u8bdd\u7b2c\u4e00\u4e2a\u8bbf\u95ee\u9875\u9762\uff08\u5373\u7740\u9646\u9875\uff09\u7684\u6b21\u6570",value:0},{title:"\u8df3\u51fa\u7387",field:"bounce_rate",formatter:"%%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,stat:"avg"},{title:"\u8bbf\u95ee\u603b\u65f6\u957f",field:"duration",disabled:!0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",computed:"duration/visit_times",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",computed:"duration/visit_devices",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u8bbf\u95ee\u8bbe\u5907\u6570",value:0}]},"8da4":function(t,e,i){"use strict";i.r(e);var a=i("9de8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8f09":function(t,e,i){"use strict";i.r(e);var a=i("0860"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8f1f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading2",data:function(){return{}}}},"8f26":function(t,e,i){"use strict";i.r(e);var a=i("9207"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"8f28":function(t,e,i){"use strict";i.r(e);var a=i("f73d"),n=i("78c5");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"8f46":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=a(i("9523")),o=a(i("bcca")),u=i("bd2f"),c=a(i("8bbf"));c.default.prototype.binddata=function(e,i,a){if(a)this.$refs[a].setValue(e,i);else{var n;for(var r in this.$refs){var s=this.$refs[r];if(s&&s.$options&&"uniForms"===s.$options.name){n=s;break}}if(!n)return t("error","\u5f53\u524d uni-froms \u7ec4\u4ef6\u7f3a\u5c11 ref \u5c5e\u6027"," at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:38");n.setValue(e,i)}};var l={name:"uniForms",emits:["validate","submit"],options:{virtualHost:!0},props:{value:{type:Object,default:function(){return null}},modelValue:{type:Object,default:function(){return null}},model:{type:Object,default:function(){return null}},rules:{type:Object,default:function(){return{}}},errShowType:{type:String,default:"undertext"},validateTrigger:{type:String,default:"submit"},labelPosition:{type:String,default:"left"},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:"left"},border:{type:Boolean,default:!1}},provide:function(){return{uniForm:this}},data:function(){return{formData:{},formRules:{}}},computed:{localData:function(){var t=this.model||this.modelValue||this.value;return t?(0,u.deepCopy)(t):{}}},watch:{rules:{handler:function(t,e){this.setRules(t)},deep:!0,immediate:!0}},created:function(){this.childrens=[],this.inputChildrens=[],this.setRules(this.rules)},methods:{setRules:function(t){this.formRules=Object.assign({},this.formRules,t),this.validator=new o.default(t)},setValue:function(t,e){var i=this.childrens.find((function(e){return e.name===t}));return i?(this.formData[t]=(0,u.getValue)(t,e,this.formRules[t]&&this.formRules[t].rules||[]),i.onFieldChange(this.formData[t])):null},validate:function(t,e){return this.checkAll(this.formData,t,e)},validateField:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;e=[].concat(e);var a={};return this.childrens.forEach((function(i){var n=(0,u.realName)(i.name);-1!==e.indexOf(n)&&(a=Object.assign({},a,(0,s.default)({},n,t.formData[n])))})),this.checkAll(a,[],i)},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=[].concat(t),this.childrens.forEach((function(e){if(0===t.length)e.errMsg="";else{var i=(0,u.realName)(e.name);-1!==t.indexOf(i)&&(e.errMsg="")}}))},submit:function(t,e,i){var a=this,n=function(t){var e=a.childrens.find((function(e){return e.name===t}));e&&void 0===a.formData[t]&&(a.formData[t]=a._getValue(t,a.dataValue[t]))};for(var r in this.dataValue)n(r);return this.checkAll(this.formData,t,e,"submit")},checkAll:function(t,e,i,a){var s=this;return(0,r.default)(n.default.mark((function r(){var o,c,l,d,f,h,p,m,g,_,v;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s.validator){r.next=2;break}return r.abrupt("return");case 2:for(l in o=[],c=function(t){var e=s.childrens.find((function(e){return(0,u.realName)(e.name)===t}));e&&o.push(e)},t)c(l);i||"function"!==typeof e||(i=e),!i&&"function"!==typeof i&&Promise&&(d=new Promise((function(t,e){i=function(i,a){i?e(i):t(a)}}))),f=[],h=JSON.parse(JSON.stringify(t)),r.t0=n.default.keys(o);case 10:if((r.t1=r.t0()).done){r.next=23;break}return p=r.t1.value,m=o[p],g=(0,u.realName)(m.name),r.next=16,m.onFieldChange(h[g]);case 16:if(_=r.sent,!_){r.next=21;break}if(f.push(_),"toast"!==s.errShowType&&"modal"!==s.errShowType){r.next=21;break}return r.abrupt("break",23);case 21:r.next=10;break;case 23:if(Array.isArray(f)&&0===f.length&&(f=null),Array.isArray(e)&&e.forEach((function(t){var e=(0,u.realName)(t),i=(0,u.getDataValue)(t,s.localData);void 0!==i&&(h[e]=i)})),"submit"===a?s.$emit("submit",{detail:{value:h,errors:f}}):s.$emit("validate",f),{},v=(0,u.rawData)(h,s.name),i&&"function"===typeof i&&i(f,v),!d||!i){r.next=33;break}return r.abrupt("return",d);case 33:return r.abrupt("return",null);case 34:case"end":return r.stop()}}),r)})))()},validateCheck:function(t){this.$emit("validate",t)},_getValue:u.getValue,_isRequiredField:u.isRequiredField,_setDataValue:u.setDataValue,_getDataValue:u.getDataValue,_realName:u.realName,_isRealName:u.isRealName,_isEqual:u.isEqual}};e.default=l}).call(this,i("0de9")["default"])},9025:function(t,e,i){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var a=uni.requireGlobal();ArrayBuffer=a.ArrayBuffer,Int8Array=a.Int8Array,Uint8Array=a.Uint8Array,Uint8ClampedArray=a.Uint8ClampedArray,Int16Array=a.Int16Array,Uint16Array=a.Uint16Array,Int32Array=a.Int32Array,Uint32Array=a.Uint32Array,Float32Array=a.Float32Array,Float64Array=a.Float64Array,BigInt64Array=a.BigInt64Array,BigUint64Array=a.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(i("eeaa").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-withpwd",(function(){return Vue.extend(i("9c14").default)})),__definePage("pages/error/404",(function(){return Vue.extend(i("1aae").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/change_pwd/change_pwd",(function(){return Vue.extend(i("e3b0").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/list",(function(){return Vue.extend(i("ec57").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/add",(function(){return Vue.extend(i("b166").default)})),__definePage("uni_modules/uni-upgrade-center/pages/version/detail",(function(){return Vue.extend(i("5da2").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/deactivate/deactivate",(function(){return Vue.extend(i("33bc").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/userinfo",(function(){return Vue.extend(i("857c").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile",(function(){return Vue.extend(i("ed1b").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/cropImage/cropImage",(function(){return Vue.extend(i("5dc5").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-smscode",(function(){return Vue.extend(i("36b2").default)})),__definePage("uni_modules/uni-id-pages/pages/login/login-withoutpwd",(function(){return Vue.extend(i("fda4").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register",(function(){return Vue.extend(i("fc12").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register-admin",(function(){return Vue.extend(i("f861").default)})),__definePage("uni_modules/uni-id-pages/pages/register/register-by-email",(function(){return Vue.extend(i("be9f").default)})),__definePage("uni_modules/uni-id-pages/pages/retrieve/retrieve",(function(){return Vue.extend(i("56ee").default)})),__definePage("uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email",(function(){return Vue.extend(i("95e9").default)})),__definePage("uni_modules/uni-id-pages/pages/common/webview/webview",(function(){return Vue.extend(i("529a").default)})),__definePage("uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd",(function(){return Vue.extend(i("289a").default)})),__definePage("pages/system/menu/list",(function(){return Vue.extend(i("814a").default)})),__definePage("pages/system/menu/add",(function(){return Vue.extend(i("ea5e").default)})),__definePage("pages/system/menu/edit",(function(){return Vue.extend(i("723e").default)})),__definePage("pages/system/permission/list",(function(){return Vue.extend(i("019d").default)})),__definePage("pages/system/permission/add",(function(){return Vue.extend(i("a6e4").default)})),__definePage("pages/system/permission/edit",(function(){return Vue.extend(i("2039").default)})),__definePage("pages/system/role/add",(function(){return Vue.extend(i("bdc3").default)})),__definePage("pages/system/role/edit",(function(){return Vue.extend(i("c4b4").default)})),__definePage("pages/system/role/list",(function(){return Vue.extend(i("a959").default)})),__definePage("pages/system/user/add",(function(){return Vue.extend(i("5d41").default)})),__definePage("pages/system/user/edit",(function(){return Vue.extend(i("fd03").default)})),__definePage("pages/system/user/list",(function(){return Vue.extend(i("9d548").default)})),__definePage("pages/system/app/add",(function(){return Vue.extend(i("01c8").default)})),__definePage("pages/system/app/list",(function(){return Vue.extend(i("4d77").default)})),__definePage("pages/system/app/uni-portal/uni-portal",(function(){return Vue.extend(i("f956").default)})),__definePage("pages/system/tag/add",(function(){return Vue.extend(i("2efd").default)})),__definePage("pages/system/tag/edit",(function(){return Vue.extend(i("41e9").default)})),__definePage("pages/system/tag/list",(function(){return Vue.extend(i("518f").default)})),__definePage("pages/system/safety/list",(function(){return Vue.extend(i("499b").default)})),__definePage("pages/demo/icons/icons",(function(){return Vue.extend(i("be70").default)})),__definePage("pages/demo/table/table",(function(){return Vue.extend(i("7cfe").default)})),__definePage("pages/uni-stat/page-res/page-res",(function(){return Vue.extend(i("76da").default)})),__definePage("pages/uni-stat/page-ent/page-ent",(function(){return Vue.extend(i("3ee3").default)})),__definePage("pages/uni-stat/scene/scene",(function(){return Vue.extend(i("d326").default)})),__definePage("pages/uni-stat/channel/channel",(function(){return Vue.extend(i("8296").default)})),__definePage("pages/uni-stat/error/js/js",(function(){return Vue.extend(i("9d2d").default)})),__definePage("pages/uni-stat/error/js/detail",(function(){return Vue.extend(i("09fd").default)})),__definePage("pages/uni-stat/error/app/app",(function(){return Vue.extend(i("4b23").default)})),__definePage("pages/uni-stat/event/event",(function(){return Vue.extend(i("ca3e").default)})),__definePage("pages/uni-stat/device/overview/overview",(function(){return Vue.extend(i("85fc").default)})),__definePage("pages/uni-stat/device/activity/activity",(function(){return Vue.extend(i("b9d6").default)})),__definePage("pages/uni-stat/device/trend/trend",(function(){return Vue.extend(i("d5d9").default)})),__definePage("pages/uni-stat/device/retention/retention",(function(){return Vue.extend(i("a9ce").default)})),__definePage("pages/uni-stat/device/comparison/comparison",(function(){return Vue.extend(i("3f09").default)})),__definePage("pages/uni-stat/device/stickiness/stickiness",(function(){return Vue.extend(i("6085").default)})),__definePage("pages/uni-stat/user/overview/overview",(function(){return Vue.extend(i("d378").default)})),__definePage("pages/uni-stat/user/activity/activity",(function(){return Vue.extend(i("4875").default)})),__definePage("pages/uni-stat/user/trend/trend",(function(){return Vue.extend(i("21aa").default)})),__definePage("pages/uni-stat/user/retention/retention",(function(){return Vue.extend(i("686e").default)})),__definePage("pages/uni-stat/user/comparison/comparison",(function(){return Vue.extend(i("25d0").default)})),__definePage("pages/uni-stat/user/stickiness/stickiness",(function(){return Vue.extend(i("055c").default)})),__definePage("pages/uni-stat/pay-order/overview/overview",(function(){return Vue.extend(i("2fe6").default)})),__definePage("pages/uni-stat/pay-order/list/list",(function(){return Vue.extend(i("f727").default)})),__definePage("pages/uni-stat/pay-order/funnel/funnel",(function(){return Vue.extend(i("1e95").default)})),__definePage("pages/uni-stat/pay-order/ranking/ranking",(function(){return Vue.extend(i("770e").default)}))},"902a":function(t,e,i){"use strict";i.r(e);var a=i("43ea"),n=i("0640");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},9043:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_device_count/week_active_device_count",computed:"active_device_count/week_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_device_count/month_active_device_count",computed:"active_device_count/month_active_device_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}]},9080:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=i("599a"),s=(t.database(),[]);function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.forEach((function(a){a.menu_id===e&&a.parent_id&&(i=i+1+o(t,a.parent_id,i))})),i}var u={data:function(){return{query:"",where:"",orderby:"create_date asc",options:{pageSize:2e4,pageCurrent:1},selectedIndexs:[],loading:!0,menus:[],errMsg:"",currentTab:"menus",selectedPluginMenuIndexs:[]}},computed:{pluginMenus:function(){var t=[];if(!this.$hasRole("admin"))return t;var e=this.menus;return e.length?(s.forEach((function(i){e.find((function(t){return t.menu_id===i.menu_id}))||t.push(i)})),t):t}},watch:{pluginMenus:function(t){t.length||(this.currentTab="menus")}},methods:{getSortMenu:function(t){return t.map((function(e){t.some((function(t){return t.parent_id===e.menu_id}))||(e.isLeafNode=!0)})),(0,r.buildMenus)(t)},onqueryload:function(t){for(var e=0;e<t.length;e++){var i=t[e],a=o(t,i.menu_id);i.name=(a?"\u3000".repeat(a)+"|-":"")+i.name}var n=this.getSortMenu(t),r=[];this.patTree(n,r),t.length=0,t.push.apply(t,r),this.menus=t},patTree:function(t,e){var i=this;return t.forEach((function(t){e.push(t),t.children.length&&i.patTree(t.children,e)})),e},switchTab:function(t){this.currentTab=t},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},confirmDelete:function(t){var e=this,i=t._id,a="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\uff1f",r=function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.find((function(t){return t.parent_id===i}))&&e.forEach((function(n){n.parent_id===i&&(a.push(n._id),t(e,n.menu_id,a))})),a}(this.menus,t.menu_id);r.length&&(a="\u662f\u5426\u5220\u9664\u8be5\u83dc\u5355\u53ca\u5176\u5b50\u83dc\u5355\uff1f"),i=[i].concat((0,n.default)(r)),uni.showModal({title:"\u63d0\u793a",content:a,success:function(t){t.confirm&&e.$refs.udb.remove(i,{needConfirm:!1})}})},pluginMenuSelectChange:function(t){this.selectedPluginMenuIndexs=t.detail.index},addPluginMenus:function(e){var i=this;if(!this.selectedPluginMenuIndexs.length)return uni.showModal({title:"\u63d0\u793a",content:"\u8bf7\u9009\u62e9\u8981\u6dfb\u52a0\u7684\u83dc\u5355\uff01",showCancel:!1});var a=this.pluginMenus,n=[];this.selectedPluginMenuIndexs.forEach((function(t){var e=a[t];if(e){var i=JSON.parse(JSON.stringify(e));delete i.json,n.push(i)}})),uni.showModal({title:"\u63d0\u793a",content:"\u60a8\u786e\u8ba4\u8981\u6dfb\u52a0\u5df2\u9009\u4e2d\u7684\u83dc\u5355\u5417\uff1f",success:function(e){if(e.confirm){uni.showLoading({mask:!0});var r=n.length===a.length;t.database().collection("opendb-admin-menus").add(n).then((function(t){uni.showModal({title:"\u63d0\u793a",content:"\u6dfb\u52a0\u83dc\u5355\u6210\u529f\uff01",showCancel:!1,success:function(){i.$refs.pluginMenusTable.clearSelection(),r&&(i.currentTab="menus"),i.loadData()}})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})})).finally((function(){uni.hideLoading()}))}}})}}};e.default=u}).call(this,i("a9ff")["default"])},"90ab":function(t,e,i){"use strict";i.r(e);var a=i("966c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"90bb":function(t,e,i){"use strict";i.r(e);var a=i("0087"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},9207:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=i("06ce");function s(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var u={data:function(){return{query:{dimension:"day",appid:"",version_id:"",start_time:(0,r.getTimeOfSomeDayAgo)(0)},platforms:[],dayChartsData:[],monChartsData:[]}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getChartData(t.query),t.getRangeCountData(t.query,"month")}),300)},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},computed:{chartsData:function(){return[].concat((0,n.default)(this.dayChartsData),(0,n.default)(this.monChartsData))},versionQuery:function(){var t=this.query.appid,e=(0,r.stringifyQuery)({appid:t});return e}},methods:{getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";e=JSON.parse(JSON.stringify(e));var n=(0,r.getTimeOfSomeDayAgo)(0);if(e.start_time>=n){var s=(new Date).getTime();e.start_time=[n,s],e=(0,r.stringifyQuery)(e,!0)}else e=(0,r.stringifyQuery)(e);var o=t.database();o.collection("uni-stat-result").where(e).field("active_user_count,new_user_count,total_users,platform_id").groupBy("platform_id").groupField("sum(active_user_count) as ".concat(a,"_active_user_count, sum(new_user_count) as ").concat(a,"_new_user_count, max(total_users) as ").concat(a,"_total_users")).get().then((function(t){var e=t.result.data;i.initChartOption(e,"dayChartsData")}))},getRangeCountData:function(e,i){var a=this;e=(0,r.stringifyQuery)(e);var n=t.database();n.collection("uni-stat-result").where(e).field("active_user_count, new_user_count, platform_id, ".concat(i,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(i,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(i?i+",":"","platform_id")).groupField("sum(active_user_count) as ".concat(i,"_active_user_count, sum(new_user_count) as ").concat(i,"_new_user_count")).orderBy("year asc, ".concat(i," asc")).get().then((function(t){var e=t.result.data;a.initChartOption(e,"monChartsData","month")}))},initChartOption:function(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=t.database();r.collection("uni-stat-app-platforms").get().then((function(t){var r=[{field:"".concat(n,"_new_user_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u65b0\u589e\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]},{field:"".concat(n,"_active_user_count"),title:"".concat("day"===n?"\u65e5":"\u6708","\u6d3b\u8dc3\u7528\u6237\u5bf9\u6bd4"),series:[{data:[]}]}];"day"===n&&r.unshift({field:"day_total_users",title:"\u603b\u7528\u6237\u6570\u5bf9\u6bd4",series:[{data:[]}]}),a[i]=r;var o=t.result.data,u={};o.forEach((function(t){u[t._id]=t.name}));var c,l=s(a[i]);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,h=f.series[0].data,p=JSON.parse(JSON.stringify(u)),m=s(e);try{for(m.s();!(d=m.n()).done;){var g=d.value;for(var _ in g)if(f.field===_){var v=g.platform_id,b={name:p[v],value:g[_]};h.push(b),delete p[v]}}}catch(w){m.e(w)}finally{m.f()}for(var y in p){var x={name:p[y],value:0};h.push(x)}}}catch(w){l.e(w)}finally{l.f()}}))}}};e.default=u}).call(this,i("a9ff")["default"])},"92f2":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[this._t("default",null,{options:this.options,data:this.dataList,pagination:this.paginationInternal,loading:this.loading,hasMore:this.hasMore,error:this.errorMessage,_i:1})],2)},n=[]},"931a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={options:{virtualHost:!0},props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{uniBreadcrumb:this}}};e.default=a},9337:function(t,e,i){"use strict";i.r(e);var a=i("2f9c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},9377:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=a(i("7037")),s=a(i("9523")),o=i("afe8");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var t=c(c({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),e="";for(var i in t){var a=this.toLine(i);e+=a+":"+t[i]+";"}return e},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.duration&&(this.durationTime=t.duration),this.animation=(0,o.createAnimation)(Object.assign(this.config,t),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var i in t)try{var a;if("object"===(0,r.default)(t[i]))(a=this.animation)[i].apply(a,(0,n.default)(t[i]));else this.animation[i](t[i])}catch(s){"\u65b9\u6cd5 ".concat(i," \u4e0d\u5b58\u5728")}return this.animation.step(e),this}},run:function(t){this.animation&&this.animation.run(t)},open:function(){var t=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var e=this.styleInit(!1),i=e.opacity,a=e.transform;"undefined"!==typeof i&&(this.opacity=i),this.transform=a,this.$nextTick((function(){t.timer=setTimeout((function(){t.animation=(0,o.createAnimation)(t.config,t),t.tranfromInit(!1).step(),t.animation.run(),t.$emit("change",{detail:t.isShow})}),20)}))},close:function(t){var e=this;this.animation&&this.tranfromInit(!0).step().run((function(){e.isShow=!1,e.animationData=null,e.animation=null;var t=e.styleInit(!1),i=t.opacity,a=t.transform;e.opacity=i||1,e.transform=a,e.$emit("change",{detail:e.isShow})}))},styleInit:function(t){var e=this,i={transform:""},a=function(t,a){"fade"===a?i.opacity=e.animationType(t)[a]:i.transform+=e.animationType(t)[a]+" "};return"string"===typeof this.modeClass?a(t,this.modeClass):this.modeClass.forEach((function(e){a(t,e)})),i},tranfromInit:function(t){var e=this,i=function(t,i){var a=null;"fade"===i?a=t?0:1:(a=t?"-100%":"0","zoom-in"===i&&(a=t?.8:1),"zoom-out"===i&&(a=t?1.2:1),"slide-right"===i&&(a=t?"100%":"0"),"slide-bottom"===i&&(a=t?"100%":"0")),e.animation[e.animationMode()[i]](a)};return"string"===typeof this.modeClass?i(t,this.modeClass):this.modeClass.forEach((function(e){i(t,e)})),this.animation},animationType:function(t){return{fade:t?1:0,"slide-top":"translateY(".concat(t?"0":"-100%",")"),"slide-right":"translateX(".concat(t?"0":"100%",")"),"slide-bottom":"translateY(".concat(t?"0":"100%",")"),"slide-left":"translateX(".concat(t?"0":"-100%",")"),"zoom-in":"scaleX(".concat(t?1:.8,") scaleY(").concat(t?1:.8,")"),"zoom-out":"scaleX(".concat(t?1:1.2,") scaleY(").concat(t?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=l}).call(this,i("0de9")["default"])},"940f":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=a(i("29cf")),s=a(i("ad5e"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=t.database();c.command;function l(t){var e={};for(var i in r.default)t.includes(i)&&(e[i]=r.default[i]);return e}var d={components:{Icons:s.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:null,parent_id:"",permission:[],enable:!0},rules:u({},l(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){t.parent_id&&(this.formData.parent_id=t.parent_id)},methods:{submitForm:function(){this.$refs.form.submit()},submit:function(t){var e=this,i=t.detail,a=i.value,n=i.errors;n||(uni.showLoading({title:"\u63d0\u4ea4\u4e2d...",mask:!0}),c.collection("opendb-admin-menus").add(a).then((function(t){uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=d}).call(this,i("a9ff")["default"])},"948b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}}),i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",all:!1,mode:"platform-channel",_i:9},on:{change:t.changePlatform},model:{value:t._$s(9,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-stat--x flex"),attrs:{_i:10}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:11},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(12,"sc","uni-stat-datetime-picker"),class:t._$s(12,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:12},on:{change:t.useDatetimePicker},model:{value:t._$s(12,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[i("uni-stat-panel",{staticClass:t._$s(14,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:14}}),i("uni-stat-tabs",{staticClass:t._$s(15,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:15},model:{value:t._$s(15,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(16,"sc","uni-charts-box"),attrs:{_i:16}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:17}})],1)],1),i("view",{staticClass:t._$s(18,"sc","uni-stat--x p-m"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","flex-between"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","uni-stat-card-header"),attrs:{_i:20}}),i("view",{staticClass:t._$s(21,"sc","uni-group"),attrs:{_i:21}})]),i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"appid,version,platform,channel,sdk_version,device_id,device_net,device_os,device_os_version,device_vendor,device_model,device_is_root,device_os_name,device_batt_level,device_batt_temp,device_memory_use_size,device_memory_total_size,device_disk_use_size,device_disk_total_size,device_abis,app_count,app_use_memory_size,app_webview_count,app_use_duration,app_run_fore,package_name,package_version,page_url,error_msg,create_time",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,loadtime:"manual",options:t.options,_i:22},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){e.data;var r=e.pagination,s=e.loading;e.error,e.options;return[i("uni-table",{ref:"table",staticStyle:{"overflow-y":"scroll"},attrs:{loading:s,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:"23-"+n}},[i("uni-tr",{attrs:{_i:"24-"+n}},[t._l(a._$s("25-"+n,"f",{forItems:t.fieldsMap}),(function(e,r,s,o){return[a._$s("26-"+n+o,"i",e.title)?i("uni-th",{key:a._$s("25-"+n,"f",{forIndex:s,keyIndex:0,key:r+"_"+r+"_0"}),style:a._$s("26-"+n+o,"s",{minWidth:15*e.title.length+80+"px"}),attrs:{align:"center",_i:"26-"+n+o}},[i("uni-tooltip",{attrs:{_i:"27-"+n+o},scopedSlots:t._u([t._$s("29-"+o,"i",e.tooltip)?{key:"content",fn:function(a,n,r){return[i("view",{staticClass:n._$s("30-"+o+"-"+r,"sc","uni-stat-tooltip-s"),attrs:{_i:"30-"+o+"-"+r}},[t._v(n._$s("30-"+o+"-"+r,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(a._$s("27-"+n+o,"t0-0",t._s(e.title))),a._$s("28-"+n+o,"i",e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"28-"+n+o}}):t._e()],1)],1):t._e()]}))],2),t._l(a._$s("31-"+n,"f",{forItems:t.tableData}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("31-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"31-"+n+o}},[t._l(a._$s("32-"+n+"-"+o,"f",{forItems:t.fieldsMap}),(function(r,s,u,c){return[a._$s("33-"+n+o+"-"+c,"i","error_msg"===r.field)?i("uni-td",{key:a._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:0,key:r.field+"_"+s+"_0"}),staticStyle:{"min-width":"500px"},attrs:{align:"left",_i:"33-"+n+o+"-"+c}},[i("uni-tooltip",{attrs:{_i:"34-"+n+o+"-"+c},scopedSlots:t._u([t._$s("36-"+o+"-"+c,"i",e.error_msg)?{key:"content",fn:function(a,n,r){return[i("view",{staticClass:n._$s("37-"+o+"-"+c+"-"+r,"sc","uni-stat-tooltip-l"),attrs:{_i:"37-"+o+"-"+c+"-"+r}},[t._v(n._$s("37-"+o+"-"+c+"-"+r,"t0-0",t._s(e.error_msg)))])]}}:null],null,!0)},[t._v(a._$s("34-"+n+o+"-"+c,"t0-0",t._s(e.error_msg?e.error_msg.substring(0,100)+"...":""))),a._$s("35-"+n+o+"-"+c,"i",e.error_msg)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"35-"+n+o+"-"+c}}):t._e()],1)],1):a._$s("38-"+o+"-"+c,"e","create_time"===r.field)?i("uni-td",{key:a._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"38-"+o+"-"+c}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_time,_i:"39-"+o+"-"+c}})],1):i("uni-td",{key:a._$s("32-"+n+"-"+o,"f",{forIndex:u,keyIndex:-1,key:r.field}),attrs:{align:"center",_i:"40-"+o+"-"+c}},[t._v(a._$s("40-"+o+"-"+c+n,"t0-0",t._s(void 0!==e[r.field]?e[r.field]:"-")))])]}))],2)}))],2),i("view",{staticClass:a._$s("41-"+n,"sc","uni-pagination-box"),attrs:{_i:"41-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"page-size":r.size,total:r.count,_i:"42-"+n},on:{change:t.onPageChanged},model:{value:t._$s("42-"+n,"v-model",r.current),callback:function(e){t.$set(r,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)]),i("fix-window",{attrs:{_i:43}})],1)},r=[]},9523:function(t,e,i){var a=i("a395");t.exports=function(t,e,i){return e=a(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"95e9":function(t,e,i){"use strict";i.r(e);var a=i("e8ba"),n=i("6d5b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"960d":function(t,e,i){"use strict";i.r(e);var a=i("92f2"),n=i("848e");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},9629:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-l"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[i("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.types,_i:17},model:{value:t._$s(17,"v-model",t.type),callback:function(e){t.type=e},expression:"type"}})],1),i("view",{staticClass:t._$s(18,"sc","p-m"),attrs:{_i:18}},[i("view",{staticClass:t._$s(19,"sc","uni-charts-box"),attrs:{_i:19}},[i("qiun-data-charts",{attrs:{type:"pie",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:20}})],1)])]),i("view",{staticClass:t._$s(21,"sc","uni-stat--x p-m"),attrs:{_i:21}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:22}})],1)]),i("fix-window",{attrs:{_i:23}})],1)},r=[]},"962c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-table-checkbox"),attrs:{_i:0},on:{click:t.selected}},[t._$s(1,"i",!t.indeterminate)?i("view",{staticClass:t._$s(1,"sc","checkbox__inner"),class:t._$s(1,"c",{"is-checked":t.isChecked,"is-disable":t.isDisabled}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","checkbox__inner-icon"),attrs:{_i:2}})]):i("view",{staticClass:t._$s(3,"sc","checkbox__inner checkbox--indeterminate"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","checkbox__inner-icon"),attrs:{_i:4}})])])},n=[]},"966c":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("5ab5"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",uni_platform:"android",platform_id:"",version_id:"",start_time:[]},paginationOptions:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,days:0,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_device_count",queryId:"",updateValue:"",errorMessage:""}},computed:{chartTabs:function(){var t=[];return s.default.forEach((function(e){var i=e.field,a=e.title,n=e.hasOwnProperty("value");i&&a&&n&&t.push({_id:i,name:a})})),t},queryStr:function(){return(0,r.stringifyQuery)(this.query,!0)},dimension:function(){return(0,r.maxDeltaDay)(this.query.start_time,1)?"hour":"day"},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i,type:"native_app"});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.queryStr)}),300)},watch:{query:{deep:!0,handler:function(t){this.paginationOptions.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,r.getTimeOfSomeDayAgo)(t),a=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.paginationOptions.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.paginationOptions.pageSize=t,this.paginationOptions.pageCurrent=1,this.getTableData()},changeChartTab:function(t,e,i){this.getChartData(t,i)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(),this.getChartData(),this.getTableData()):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chartTab,a=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),n=(this.paginationOptions.pageCurrent,t.database());n.collection("uni-stat-result").where(a).field("".concat((0,r.stringifyField)(s.default,i),", start_time, channel_id")).groupBy("channel_id,start_time").groupField((0,r.stringifyGroupField)(s.default,i)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var a=t.result,n=(a.count,a.data),u={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},c=u.categories;if("hour"===e.dimension)for(var l=0;l<24;++l){var d=l<10?"0"+l:l,f="".concat(d,":00 ~ ").concat(d,":59");c.push(f)}var h=[];n.forEach((function(t){h.indexOf(t.channel_id)<0&&h.push(t.channel_id)}));var p=[];e.getChannels().then((function(t){p=t.result.data})).finally((function(){h.forEach((function(t,a){var l=p.find((function(e){return e._id===t})),d=u.series[a]={name:l&&l.channel_name||"\u672a\u77e5",data:[]};if("hour"===e.dimension)for(var f=0;f<24;++f)d.data[f]=0;var h=s.default.filter((function(t){return t.field===i}));h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="";var m,g=o(n);try{for(g.s();!(m=g.n()).done;){var _=m.value;(0,r.mapfields)(h,_,_);var v=_.start_time,b=(0,r.formatDate)(v,e.dimension),y=_[i],x=c.indexOf(b);t===_.channel_id&&(x<0?(c.push(b),d.data.push(y)):d.data[x]=y)}}catch(w){g.e(w)}finally{g.f()}})),u.series=u.series.sort((function(t,e){return t.name.localeCompare(e.name)})),e.chartData=u}))})).catch((function(t){})).finally((function(){}))},getChannels:function(){var e=t.database();return e.collection("uni-stat-app-channels").where((0,r.stringifyQuery)({appid:this.query.appid,platform_id:this.query.platform_id})).get()},getTableData:function(){var e=this,i=(0,r.stringifyQuery)(this.query,!1,["uni_platform"]),a=this.paginationOptions.pageCurrent;this.loading=!0;var n=t.database();n.collection("uni-stat-result").where(i).field("".concat((0,r.stringifyField)(s.default),",appid, channel_id")).groupBy("appid, channel_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("new_device_count","desc").skip((a-1)*this.paginationOptions.pageSize).limit(this.paginationOptions.pageSize).get({getCount:!0}).then((function(t){var i=t.result,a=i.count,n=i.data;e.getChannels().then((function(t){var e,i=t.result.data,a=o(n);try{var r=function(){var t=e.value;i.forEach((function(e){t.channel_id===e._id&&(t.channel_code=e.channel_code,t.channel_name=e.channel_name)}))};for(a.s();!(e=a.n()).done;)r()}catch(s){a.e(s)}finally{a.f()}})).finally((function(){var t,i=o(n);try{for(i.s();!(t=i.n()).done;){var u=t.value;(0,r.mapfields)(s.default,u,u,"total_")}}catch(c){i.e(c)}finally{i.f()}e.tableData=[],e.paginationOptions.total=a,e.tableData=n,e.loading=!1}))})).catch((function(t){e.loading=!1}))},createStr:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",a=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var n=t.field;a.push("".concat(e,"(").concat(n,") as ").concat(i+n))}})),a.join()},getPanelData:function(){var e=this,i=JSON.parse(JSON.stringify(this.query));i.dimension="day";var a=(0,r.stringifyQuery)(i,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(a).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc").get().then((function(t){var a=t.result.data[0];a&&(a.total_devices=0),r.getFieldTotal.call(e,i),e.panelData=[],e.panelData=(0,r.mapfields)(s.default,a)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(e){var i=this,a=t.database();a.collection("uni-stat-app-channels").where({channel_code:this.queryId}).update({channel_name:e}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),i.getTableData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"966d":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=a(i("7037")),o=i("5fc3"),u=function(t){return t?{name:"",extname:"",url:t}:{}};function c(t){var e={};for(var i in o.validator)t.includes(i)&&(e[i]=o.validator[i]);return e}var l=["mimarket","samsungapps","appmarket","oppomarket","vivomarket"],d=["xiaomi","samsung","huawei","oppo","vivo"],f={data:function(){var t={appid:"",name:"",icon_url:"",introduction:"",alias:"",description:"",screenshot:[],store_list:[],app_android:{},app_ios:{},mp_weixin:{},mp_alipay:{},mp_baidu:{},mp_toutiao:{},mp_qq:{},mp_lark:{},mp_kuaishou:{},mp_dingtalk:{},mp_jd:{},h5:{},quickapp:{}},e={formData:t,rules:Object.freeze(c(Object.keys(t))),mpPlatform:Object.freeze(o.mpPlatform),screenshotList:[],middleware_img:{},middleware_checkbox:{},appPackageInfo:{},appPlatformKeys:Object.freeze(["app_ios","app_android"]),appPlatformValues:Object.freeze({app_android:"Android",app_ios:"iOS"}),keepItems:Object.freeze([]),isEdit:!1,deletedStore:[]},i=Object.keys(o.mpPlatform);return e.mpPlatformKeys=Object.freeze(i),[].concat(i,["icon_url","quickapp"]).forEach((function(t){return e.middleware_img[t]={}})),e.platFormKeys=Object.freeze([].concat(i,e.appPlatformKeys)),e.platFormKeys.forEach((function(t){return e.middleware_checkbox[t]=!1})),e},methods:{requestCloudFunction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$request(t,e,{functionName:"uni-upgrade-center"})},hasValue:function(t){return"object"!==(0,s.default)(t)?!!t:t instanceof Array?!!t.length:!(!t||!Object.keys(t).length)},initFormData:function(t){if(t&&Object.keys(t).length)for(var e in t){var i=t[e];switch(e){case"icon_url":this.middleware_img[e]=u(i);break;case"screenshot":this.screenshotList=i.map((function(t){return u(t)}));break;default:-1===e.indexOf("mp")&&-1===e.indexOf("app")||!this.hasValue(i)||(this.setPlatformChcekbox(e,!0),i.qrcode_url&&(this.middleware_img[e]=u(i.qrcode_url)));break}this.setFormData(e,i)}},setFormData:function(t,e){var i=-1!==t.indexOf(".")?t.split("."):[t],a=i.length-1,n=this.formData;i.forEach((function(t,i){var r=n[t];"object"===(0,s.default)(r)&&i<a?n=r:n[t]=e}))},getFormData:function(t){for(var e=-1!==t.indexOf(".")?t.split("."):[t],i=(e.length,this.formData),a=0;a<e.length;a++){var n=e[a];if(i=i[n],null==i)return!1}return i},formatFormData:function(){var t=this;this.setFormData("screenshot",this.screenshotList.map((function(t){return t.fileID||t.url})));for(var e=0;e<this.formData.store_list.length;e++){var i=this.formData.store_list[e];if(0!==i.scheme.trim().length){var a=l.indexOf((i.scheme.match(/(.*):\/\//)||[])[1]);-1!==a&&(i.id!==d[a]&&this.deletedStore.push(i.id),i.id=d[a]),i.priority=parseFloat(i.priority)}else this.formData.store_list.splice(e,1),e--}this.keepItems=this.platFormKeys.filter((function(e){return t.getPlatformChcekbox(e)&&(t.formData[e].url||t.formData[e].qrcode_url)})).concat(["icon_url","screenshot","create_date","store_list"]),this.formData.h5&&this.formData.h5.url&&this.keepItems.push("h5")},autoFill:function(){var t=this,e=this.getFormData("appid");e&&(uni.showLoading({mask:!0}),this.requestCloudFunction("getAppInfo",{appid:e}).then((function(e){if(e.success)return t.setFormData("description",e.description),void t.setFormData("name",e.name)})).catch((function(t){})).finally((function(){uni.hideLoading()})))},autoFillApp:function(){var t=this,e=this.getFormData("appid");e&&this.appPlatformKeys.forEach((function(i){t.fetchAppInfo(e,t.appPlatformValues[i]).then((function(e){if(e&&e.success)return t.setPlatformChcekbox(i,!0),void t.setFormData(i,{name:e.name,url:e.url})}))}))},fetchAppInfo:function(t,e){return uni.showLoading({mask:!0}),this.requestCloudFunction("getAppVersionInfo",{appid:t,platform:e}).then((function(t){return t})).catch((function(t){})).finally((function(){uni.hideLoading()}))},iconUrlSuccess:function(t,e){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:500}),this.setFormData(e,t.tempFilePaths[0])},iconUrlDelete:function(t,e){var i=this;return(0,r.default)(n.default.mark((function a(){var r;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.requestCloudFunction("deleteFile",{fileList:[t.tempFile.fileID||t.tempFile.url]});case 2:if(r=a.sent,r=r.fileList?r.fileList[0]:r[0],!r.success&&"SUCCESS"!==r.code){a.next=10;break}if(uni.showToast({icon:"success",title:"\u5220\u9664\u6210\u529f",duration:800}),e){a.next=8;break}return a.abrupt("return");case 8:i.setFormData(e,""),i.$refs.form.clearValidate(e);case 10:case"end":return a.stop()}}),a)})))()},getPlatformChcekbox:function(t){return this.middleware_checkbox[t]},setPlatformChcekbox:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.middleware_checkbox[t]=e},selectFile:function(){this.hasPackage&&uni.showToast({icon:"none",title:"\u53ea\u53ef\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u8bf7\u5220\u9664\u5df2\u4e0a\u4f20\u540e\u91cd\u8bd5",duration:1e3})}},computed:{hasPackage:function(){return this.appPackageInfo&&!!Object.keys(this.appPackageInfo).length}}};e.default=f}).call(this,i("0de9")["default"])},9670:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading6"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},96707:function(t,e,i){t.exports=i.p+"static/img/rotate.e0dadbe4.svg"},"970b":function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports["default"]=t.exports},9710:function(t,e,i){"use strict";i.r(e);var a=i("c3c2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},9733:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.text)?i("text",{staticClass:t._$s(0,"sc","uni-tag"),class:t._$s(0,"c",t.classes),style:t._$s(0,"s",t.customStyle),attrs:{_i:0},on:{click:t.onClick}},[t._v(t._$s(0,"t0-0",t._s(t.text)))]):t._e()},n=[]},"980c":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),s=i("5fc3"),o=i("26cb");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l=t.database(),d=[],f={ascending:"asc",descending:"desc"},h={data:function(){return{query:"",where:"",orderby:"create_date",orderByFieldName:"",selectedIndexs:[],options:c({pageSize:20,pageCurrent:1,filterData:{}},s.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"opendb-app-list.xls",type:"xls",fields:{AppID:"appid","\u5e94\u7528\u540d\u79f0":"name","\u5e94\u7528\u63cf\u8ff0":"description","\u521b\u5efa\u65f6\u95f4":"create_date"}},exportExcelData:[],addAppidLoading:!0,descriptionThWidth:380,buttonThWidth:400}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},computed:c({},(0,o.mapState)("app",["appName","appid"])),methods:{pageSizeChange:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},onqueryload:function(t){var e=this;t.find((function(t){return t.appid===e.appid}))?this.addAppidLoading=!1:this.addCurrentAppid({appid:this.appid,name:this.appName,description:"admin \u7ba1\u7406\u540e\u53f0"}),this.exportExcelData=t},changeSize:function(t){this.pageSizeIndex=t.detail.value},addCurrentAppid:function(t){var e=this;l.collection("opendb-app-list").add(t).then((function(t){e.loadData(),setTimeout((function(){uni.showModal({content:"\u68c0\u6d4b\u5230\u6570\u636e\u5e93\u4e2d\u65e0\u5f53\u524d\u5e94\u7528, \u5df2\u81ea\u52a8\u6dfb\u52a0\u5e94\u7528: ".concat(e.appName),showCancel:!1})}),500)})).catch((function(t){})).finally((function(){e.addAppidLoading=!1}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return d.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this.getWhere();this.where=t,this.loadData()},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{confirmContent:"\u662f\u5426\u5220\u9664\u8be5\u5e94\u7528",success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+f[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,s.filterToWhere)(this._filter,l.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))},publish:function(t){uni.navigateTo({url:"/pages/system/app/uni-portal/uni-portal?id="+t})}}};e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},9819:function(t,e,i){"use strict";i.r(e);var a=i("980c"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"985c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-stat-table",data:function(){return{}},props:{data:{type:Array,default:function(){return[]}},filedsMap:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1}}};e.default=a},"986f":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a"));var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",stat:0}],i=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-",stat:-1}];e&&(t=i).push.apply(t,(0,n.default)(e));var a=[1,2,3,4,5,6,7,14,30],r=a.map((function(t){return{title:"".concat(t,"\u5929\u540e"),field:"d_".concat(t),computed:"d_".concat(t,"/").concat(e[0].field),formatter:"%",tooltip:""}}));return i=i.concat(r),i};e.default=r},9888:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6132")),r=a(i("4d46")),s=a(i("e84b")),o=a(i("fb23")),u=a(i("6f6d")),c={components:{Loading1:n.default,Loading2:r.default,Loading3:s.default,Loading4:o.default,Loading5:u.default},name:"qiun-loading",props:{loadingType:{type:Number,default:2}},data:function(){return{}}};e.default=c},"98eb":function(t,e,i){"use strict";i.r(e);var a=i("931a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"98f3":function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("06ce"),s=a(i("a3e1")),o=i("5294");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",fieldsMap:o.fieldsMap,chartData:{},errorMessage:"",notData:!1,opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right",linearType:"custom",minSize:20}}},dateTabs:{time:Date.now(),timeStr:"",index:0,list:[{_id:"day",name:"\u65e5\u7ef4\u5ea6"},{_id:"week",name:"\u5468\u7ef4\u5ea6"},{_id:"month",name:"\u6708\u7ef4\u5ea6"}]}}},created:function(){var t=this;this.getCloudDataDebounce=(0,r.debounce)((function(){t.getCloudData()}),400),this.getCloudDataDebounce()},methods:{calcPercentage:function(t,e){return e>0?parseFloat((t/e*100).toFixed(2)):0},getCloudData:function(){var e=this,i=this.query;if(i.appid){var a=this.getWhere(),n=c(c({},i),a);n=(0,r.stringifyQuery)(n,!1,["uni_platform"]);var s=t.database();s.collection(this.tableName).where(n).field("".concat((0,r.stringifyField)(o.fieldsMap),", dimension, stat_date.date_str as stat_time, start_time")).groupBy("null").groupField((0,r.stringifyGroupField)(o.fieldsMap)).get().then((function(t){var i=t.result.data;if(i.length){e.errorMessage="",i.map((function(t){for(var e in t)e.indexOf("_amount")>1&&(t[e]=Number((t[e]/100).toFixed(2)))}));var a=i[0]||{},n=a.activity_device_count,r=void 0===n?0:n,s=a.activity_user_count,o=void 0===s?0:s,u=a.pay_user_count,c=void 0===u?0:u;e.notData=!(r||o||c);var l={series:[{data:[{name:"\u6d3b\u8dc3\u8bbe\u5907\u6570\u91cf",value:r,centerText:"".concat(r),labelText:"\u6d3b\u8dc3\u8bbe\u5907\u6570"},{name:"\u6d3b\u8dc3\u7528\u6237\u6570\u91cf",value:o,centerText:"".concat(o),labelText:"\u6d3b\u8dc3\u7528\u6237\u6570\uff08\u7528\u6237\u8f6c\u5316\u7387\uff1a".concat(e.calcPercentage(o,r),"%\uff09")},{name:"\u652f\u4ed8\u7528\u6237\u6570\u91cf",value:c,centerText:"".concat(c),labelText:"\u652f\u4ed8\u7528\u6237\u6570\uff08\u652f\u4ed8\u8f6c\u5316\u7387\uff1a".concat(e.calcPercentage(c,o),"%\uff09")}]}]};e.chartData=l}else e.errorMessage="\u6682\u65e0\u6570\u636e"}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},dateTabsChange:function(t,e){this.dateTabs.index=e,this.getCloudData()},datePickerChange:function(t){this.dateTabs.time=t,this.getCloudData()},getWhere:function(){var t=this.dateTabs.time,e=this.dateTabs.list[this.dateTabs.index]._id||"day",i=[];if("day"===e){var a=s.default.getOffsetStartAndEnd("day",0,t),n=a.startTime,r=a.endTime;i=[n,r]}else if("week"===e){var o=s.default.getOffsetStartAndEnd("week",0,t),u=o.startTime,c=o.endTime;i=[u,c]}else if("month"===e){var l=s.default.getOffsetStartAndEnd("month",0,t),d=l.startTime,f=l.endTime;i=[d,f]}return this.dateTabs.timeStr="".concat(s.default.timeFormat(i[0])," ~ ").concat(s.default.timeFormat(i[1])),{dimension:e,start_time:i}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=l}).call(this,i("a9ff")["default"])},"9a4a":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9ad2":function(t,e,i){"use strict";i.r(e);var a=i("6e25"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9ae3":function(t,e,i){"use strict";i.r(e);var a=i("ceff"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9aed":function(t,e,i){"use strict";i.r(e);var a=i("c41e"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9b17":function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"Success","uniCloud.component.update.success":"Success","uniCloud.component.remove.showModal.title":"Tips","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},"9b32":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),i("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[i("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"11-"+n}},[i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"role_id")},"sort-change":function(e){return t.sortChange(e,"role_id")}}},[t._v("\u552f\u4e00ID")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"role_name")},"sort-change":function(e){return t.sortChange(e,"role_name")}}},[t._v("\u540d\u79f0")]),i("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("\u6743\u9650")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"comment")},"sort-change":function(e){return t.sortChange(e,"comment")}}},[t._v("\u5907\u6ce8")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",_i:"17-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("18-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("18-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"18-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(a._$s("19-"+n+o,"t0-0",t._s(e.role_id)))]),i("uni-td",{attrs:{align:"center",_i:"20-"+n+o}},[t._v(a._$s("20-"+n+o,"t0-0",t._s(e.role_name)))]),i("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[t._v(a._$s("21-"+n+o,"t0-0",t._s(e.permission)))]),i("uni-td",{attrs:{align:"center",_i:"22-"+n+o}},[t._v(a._$s("22-"+n+o,"t0-0",t._s(e.comment)))]),i("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"24-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[i("view",{staticClass:a._$s("26-"+n+o,"sc","uni-group"),attrs:{_i:"26-"+n+o}},[i("button",{staticClass:a._$s("27-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+n+o},on:{click:function(i){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(a._$s("27-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),i("button",{staticClass:a._$s("28-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"28-"+n+o},on:{click:function(i){return t.confirmDelete(e._id)}}},[t._v(a._$s("28-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),i("view",{staticClass:a._$s("29-"+n,"sc","uni-pagination-box"),attrs:{_i:"29-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"30-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("30-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("fix-window",{attrs:{_i:31}})],1)},r=[]},"9b42":function(t,e){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,n,r,s,o=[],u=!0,c=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;u=!1}else for(;!(u=(a=r.call(i)).done)&&(o.push(a.value),o.length!==e);u=!0);}catch(l){c=!0,n=l}finally{try{if(!u&&null!=i["return"]&&(s=i["return"](),Object(s)!==s))return}finally{if(c)throw n}}return o}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"9bed":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("986f"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,tableData:[],chartData:{},field:"new_device",fields:[{_id:"new_device",name:"\u65b0\u589e\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u65b0\u589e\uff08\u5373\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"},{_id:"active_device",name:"\u6d3b\u8dc3\u7559\u5b58",tooltip:"\u6307\u5b9a\u65f6\u95f4\u6d3b\u8dc3\uff08\u5373\u8bbf\u95ee\u5e94\u7528\uff09\u7528\u6237\uff0c\u5728\u4e4b\u540e\u7684\u7b2cN\u5929\uff0c\u518d\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\u5360\u6bd4"}],key:1,channelData:[],errorMessage:""}},computed:{fieldsMap:function(){var t="active_device"===this.field?"\u6d3b\u8dc3\u7528\u6237":"\u65b0\u589e\u7528\u6237",e=[{title:t,field:"".concat(this.field,"_count"),stat:0}];return(0,s.default)(e)},fieldName:function(){var t=this,e="";return this.fields.forEach((function(i){i._id===t.field&&(e=i.name)})),e},keyName:function(){var t=this;return this.keys.forEach((function(e){if(e._id===t.key)return e.name}))},keys:function(){return[1,2,3,4,5,6,7,14,30].map((function(t){return{_id:t,name:"".concat(t,"\u5929\u540e")}}))},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},key:function(){this.debounceGet()},field:function(){this.debounceGet()}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},stringifyField:function(t,e,i){var a=this;e&&(t=t.filter((function(t){return t.field===e}))),i&&(t=t.filter((function(t){return t.field&&t.hasOwnProperty(i)})));var n=t.map((function(t){return-1===t.stat?t.field:0===t.stat?"".concat(t.field," as ").concat("temp_"+t.field):"retention.".concat(a.field,".").concat(t.field,".device_count as ").concat("temp_"+t.field)})).join();return n},createStr:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"device_count",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=e||[1,2,3,4,5,6,7,14,30],r="d",s=this.fields.map((function(t){return t._id}));i=i||s;var o=n.map((function(e){return i.map((function(i){return"retention.".concat(i,".").concat(r+"_"+e,".").concat(t," as ").concat(r+"_"+e)}))}));a&&o.push(a);var u=o.join();return u},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.key,this.keyName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.key;this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);this.createStr("device_count",[a],[this.field]);var n=t.database();n.collection("uni-stat-result").where(e).field("".concat(this.stringifyField(this.fieldsMap,"d_".concat(a)),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap,"d_".concat(a))).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e,n=t.result,s=(n.count,n.data),u={categories:[],series:[{name:"".concat(a,"\u5929\u540e").concat(i.fieldName),data:[]}]},c=o(s);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=(0,r.formatDate)(l.start_time,"day"),f=l["d_".concat(a)];u.series[0].data.push(f),u.categories.push(d)}}catch(h){c.e(h)}finally{c.f()}i.chartData=u})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this,a=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var n=this.field+"_count";this.createStr("user_rate","",[this.field],n);this.loading=!0;var s=t.database();s.collection("uni-stat-result").where(e).field(this.stringifyField(this.fieldsMap)).groupBy("start_time").groupField((0,r.stringifyGroupField)(this.fieldsMap)).orderBy("start_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,a=t.result,n=a.count,s=a.data,u=o(s);try{for(u.s();!(e=u.n()).done;){var c=e.value;(0,r.mapfields)(i.fieldsMap,c,c)}}catch(l){u.e(l)}finally{u.f()}i.options.total=n,i.tableData=[],i.tableData=s})).catch((function(t){})).finally((function(){i.loading=!1}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},"9bfb":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("06ce"),r=a(i("0b7d")),s=a(i("dabe")),o=a(i("eeb1")),u={components:{statPanelTotal:r.default,statPanelToday:s.default,trendChart:o.default},data:function(){return{query:{appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:""}}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,n.stringifyQuery)({appid:e,uni_platform:i});return a},channelQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=(0,n.stringifyQuery)({appid:e,platform_id:i});return a}},created:function(){},methods:{platformChange:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code}},watch:{}};e.default=u},"9c14":function(t,e,i){"use strict";i.r(e);var a=i("464b"),n=i("4915");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"2f090059",null,!1,a["a"],void 0);e["default"]=o.exports},"9c83":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(7,"sc","uni-stat--x flex"),attrs:{_i:7}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",today:!0,_i:8},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(9,"sc","uni-stat-datetime-picker"),class:t._$s(9,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:9},on:{change:t.useDatetimePicker},model:{value:t._$s(9,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-stat--x"),attrs:{_i:10}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:11},on:{change:t.changePlatform},model:{value:t._$s(11,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(12,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{staticClass:t._$s(12,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:12},model:{value:t._$s(12,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,contrast:!0,_i:13}}),i("view",{staticClass:t._$s(14,"sc","uni-stat--x p-m"),attrs:{_i:14}},[i("view",{staticClass:t._$s(15,"sc","uni-stat-card-header"),attrs:{_i:15}}),i("uni-stat-tabs",{staticClass:t._$s(16,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:16},on:{change:t.changeChartTab},model:{value:t._$s(16,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(17,"sc","uni-charts-box"),attrs:{_i:17}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:t.eopts,echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:18}})],1)],1),i("view",{staticClass:t._$s(19,"sc","dispaly-grid"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","uni-stat-card-header"),attrs:{_i:21}},[i("view"),i("view",{staticClass:t._$s(23,"sc","uni-stat-card-header-link"),attrs:{_i:23},on:{click:function(e){return t.navTo("/pages/uni-stat/page-res/page-res")}}})]),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:24}},[i("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.resFieldsMap}),(function(e,a,n,r){return[t._$s("27-"+r,"i",e.title)?i("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"27-"+r}},[i("uni-tooltip",{attrs:{_i:"28-"+r},scopedSlots:t._u([t._$s("30-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("31-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"31-"+r+"-"+s}},[t._v(n._$s("31-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title))),t._$s("29-"+r,"i",e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"29-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(32,"f",{forItems:t.resTableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(32,"f",{forIndex:n,key:a}),attrs:{_i:"32-"+r}},[t._l(t._$s("33-"+r,"f",{forItems:t.resFieldsMap}),(function(a,n,s,o){return[t._$s("34-"+r+"-"+o,"i",a.title)?i("uni-td",{key:t._$s("33-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:0===n?"left":"center",_i:"34-"+r+"-"+o}},[t._v(t._$s("34-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))]):t._e()]}))],2)}))],2)],1),i("view",{staticClass:t._$s(35,"sc","uni-stat--x uni-stat-card p-m"),attrs:{_i:35}},[i("view",{staticClass:t._$s(36,"sc","uni-stat-card-header"),attrs:{_i:36}},[i("view"),i("view",{staticClass:t._$s(38,"sc","uni-stat-card-header-link"),attrs:{_i:38},on:{click:function(e){return t.navTo("/pages/uni-stat/page-ent/page-ent")}}})]),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:"\u6682\u65e0\u6570\u636e",_i:39}},[i("uni-tr",{attrs:{_i:40}},[t._l(t._$s(41,"f",{forItems:t.entFieldsMap}),(function(e,a,n,r){return[t._$s("42-"+r,"i",e.title)?i("uni-th",{key:t._$s(41,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"42-"+r}},[i("uni-tooltip",{attrs:{_i:"43-"+r},scopedSlots:t._u([t._$s("45-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("46-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"46-"+r+"-"+s}},[t._v(n._$s("46-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("43-"+r,"t0-0",t._s(e.title))),t._$s("44-"+r,"i",e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"44-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(47,"f",{forItems:t.entTableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(47,"f",{forIndex:n,key:a}),attrs:{_i:"47-"+r}},[t._l(t._$s("48-"+r,"f",{forItems:t.entFieldsMap}),(function(a,n,s,o){return[t._$s("49-"+r+"-"+o,"i",a.title)?i("uni-td",{key:t._$s("48-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),attrs:{align:0===n?"left":"center",_i:"49-"+r+"-"+o}},[t._v(t._$s("49-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))]):t._e()]}))],2)}))],2)],1)])],1),i("fix-window",{attrs:{_i:50}})],1)},r=[]},"9ca7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniLoadMore:i("5673").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-data-checklist"),style:t._$s(0,"s",{"margin-top":t.isTop+"px"}),attrs:{_i:0}},[t._$s(1,"i",!t.isLocal)?[i("view",{staticClass:t._$s(2,"sc","uni-data-loading"),attrs:{_i:2}},[t._$s(3,"i",!t.mixinDatacomErrorMessage)?i("uni-load-more",{attrs:{status:"loading",iconType:"snow",iconSize:18,"content-text":t.contentText,_i:3}}):i("text",[t._v(t._$s(4,"t0-0",t._s(t.mixinDatacomErrorMessage)))])],1)]:[t._$s(6,"i",t.multiple)?i("checkbox-group",{staticClass:t._$s(6,"sc","checklist-group"),class:t._$s(6,"c",{"is-list":"list"===t.mode||t.wrap}),attrs:{_i:6},on:{change:t.chagne}},t._l(t._$s(7,"f",{forItems:t.dataList}),(function(e,a,n,r){return i("label",{key:t._$s(7,"f",{forIndex:n,key:a}),staticClass:t._$s("7-"+r,"sc","checklist-box"),class:t._$s("7-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==a&&"list"===t.mode?"is-list-border":""]),style:t._$s("7-"+r,"s",e.styleBackgroud),attrs:{_i:"7-"+r}},[i("checkbox",{staticClass:t._$s("8-"+r,"sc","hidden"),attrs:{disabled:t._$s("8-"+r,"a-disabled",t.disabled||!!e.disabled),value:t._$s("8-"+r,"a-value",e[t.map.value]+""),checked:t._$s("8-"+r,"a-checked",e.selected),_i:"8-"+r}}),t._$s("9-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?i("view",{staticClass:t._$s("9-"+r,"sc","checkbox__inner"),style:t._$s("9-"+r,"s",e.styleIcon),attrs:{_i:"9-"+r}},[i("view",{staticClass:t._$s("10-"+r,"sc","checkbox__inner-icon"),attrs:{_i:"10-"+r}})]):t._e(),i("view",{staticClass:t._$s("11-"+r,"sc","checklist-content"),class:t._$s("11-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"11-"+r}},[i("text",{staticClass:t._$s("12-"+r,"sc","checklist-text"),style:t._$s("12-"+r,"s",e.styleIconText),attrs:{_i:"12-"+r}},[t._v(t._$s("12-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("13-"+r,"i","list"===t.mode&&"right"===t.icon)?i("view",{staticClass:t._$s("13-"+r,"sc","checkobx__list"),style:t._$s("13-"+r,"s",e.styleBackgroud),attrs:{_i:"13-"+r}}):t._e()])])})),0):i("radio-group",{staticClass:t._$s(14,"sc","checklist-group"),class:t._$s(14,"c",{"is-list":"list"===t.mode,"is-wrap":t.wrap}),attrs:{_i:14},on:{change:t.chagne}},t._l(t._$s(15,"f",{forItems:t.dataList}),(function(e,a,n,r){return i("label",{key:t._$s(15,"f",{forIndex:n,key:a}),staticClass:t._$s("15-"+r,"sc","checklist-box"),class:t._$s("15-"+r,"c",["is--"+t.mode,e.selected?"is-checked":"",t.disabled||e.disabled?"is-disable":"",0!==a&&"list"===t.mode?"is-list-border":""]),style:t._$s("15-"+r,"s",e.styleBackgroud),attrs:{_i:"15-"+r}},[i("radio",{staticClass:t._$s("16-"+r,"sc","hidden"),attrs:{disabled:t._$s("16-"+r,"a-disabled",t.disabled||e.disabled),value:t._$s("16-"+r,"a-value",e[t.map.value]+""),checked:t._$s("16-"+r,"a-checked",e.selected),_i:"16-"+r}}),t._$s("17-"+r,"i","tag"!==t.mode&&"list"!==t.mode||"list"===t.mode&&"left"===t.icon)?i("view",{staticClass:t._$s("17-"+r,"sc","radio__inner"),style:t._$s("17-"+r,"s",e.styleBackgroud),attrs:{_i:"17-"+r}},[i("view",{staticClass:t._$s("18-"+r,"sc","radio__inner-icon"),style:t._$s("18-"+r,"s",e.styleIcon),attrs:{_i:"18-"+r}})]):t._e(),i("view",{staticClass:t._$s("19-"+r,"sc","checklist-content"),class:t._$s("19-"+r,"c",{"list-content":"list"===t.mode&&"left"===t.icon}),attrs:{_i:"19-"+r}},[i("text",{staticClass:t._$s("20-"+r,"sc","checklist-text"),style:t._$s("20-"+r,"s",e.styleIconText),attrs:{_i:"20-"+r}},[t._v(t._$s("20-"+r,"t0-0",t._s(e[t.map.text])))]),t._$s("21-"+r,"i","list"===t.mode&&"right"===t.icon)?i("view",{staticClass:t._$s("21-"+r,"sc","checkobx__list"),style:t._$s("21-"+r,"s",e.styleRightIcon),attrs:{_i:"21-"+r}}):t._e()])])})),0)]],2)},r=[]},"9d2d":function(t,e,i){"use strict";i.r(e);var a=i("a664"),n=i("7753");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"9d54":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),i("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),i("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:19}})],1)],1),i("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),i("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("fix-window",{attrs:{_i:24}})],1)},r=[]},"9d548":function(t,e,i){"use strict";i.r(e);var a=i("6867"),n=i("1b26");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},"9dc2":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r=a(i("68ab")),s=a(i("1c12")),o={name:"UniDataPicker",emits:["popupopened","popupclosed","nodeclick","input","change","update:modelValue"],mixins:[r.default],components:{DataPickerView:s.default},props:{options:{type:[Object,Array],default:function(){return{}}},popupTitle:{type:String,default:"\u8bf7\u9009\u62e9"},placeholder:{type:String,default:"\u8bf7\u9009\u62e9"},heightMobile:{type:String,default:""},readonly:{type:Boolean,default:!1},clearIcon:{type:Boolean,default:!0},border:{type:Boolean,default:!0},split:{type:String,default:"/"},ellipsis:{type:Boolean,default:!0}},data:function(){return{isOpened:!1,inputSelected:[]}},created:function(){var t=this;this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this)),this.$nextTick((function(){t.load()}))},methods:{clear:function(){this.inputSelected.splice(0),this._dispatchEvent([])},onPropsChange:function(){this._treeData=[],this.selectedIndex=0,this.load()},load:function(){var t=this;this.readonly?this._processReadonly(this.localdata,this.dataValue):this.isLocaldata?(this.loadData(),this.inputSelected=this.selected.slice(0)):this.parentField||this.selfField||!this.hasValue?this.hasValue&&this.getTreePath((function(){t.inputSelected=t.selected.slice(0)})):this.getNodeData((function(){t.inputSelected=t.selected.slice(0)}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},show:function(){var t=this;this.isOpened=!0,setTimeout((function(){t.$refs.pickerView.updateData({treeData:t._treeData,selected:t.selected,selectedIndex:t.selectedIndex})}),200),this.$emit("popupopened")},hide:function(){this.isOpened=!1,this.$emit("popupclosed")},handleInput:function(){this.readonly||this.show()},handleClose:function(t){this.hide()},onnodeclick:function(t){this.$emit("nodeclick",t)},ondatachange:function(t){this._treeData=this.$refs.pickerView._treeData},onchange:function(t){var e=this;this.hide(),this.$nextTick((function(){e.inputSelected=t})),this._dispatchEvent(t)},_processReadonly:function(t,e){var i,a=t.findIndex((function(t){return t.children}));if(a>-1)return Array.isArray(e)?(i=e[e.length-1],"object"===(0,n.default)(i)&&i.value&&(i=i.value)):i=e,void(this.inputSelected=this._findNodePath(i,this.localdata));if(this.hasValue){for(var r=[],s=0;s<e.length;s++){var o=e[s],u=t.find((function(t){return t.value==o}));u&&r.push(u)}r.length&&(this.inputSelected=r)}else this.inputSelected=[]},_filterForArray:function(t,e){for(var i=[],a=0;a<e.length;a++){var n=e[a],r=t.find((function(t){return t.value==n}));r&&i.push(r)}return i},_dispatchEvent:function(t){var e={};if(t.length){for(var i=new Array(t.length),a=0;a<t.length;a++)i[a]=t[a].value;e=t[t.length-1]}else e.value="";this.formItem&&this.formItem.setValue(e.value),this.$emit("input",e.value),this.$emit("update:modelValue",e.value),this.$emit("change",{detail:{value:t}})}}};e.default=o},"9de8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniTable",options:{virtualHost:!0},emits:["selection-change"],props:{data:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},type:{type:String,default:""},emptyText:{type:String,default:"\u6ca1\u6709\u66f4\u591a\u6570\u636e"},loading:{type:Boolean,default:!1},rowKey:{type:String,default:""}},data:function(){return{noData:!0,minWidth:0,multiTableHeads:[]}},watch:{loading:function(t){},data:function(t){this.theadChildren;this.theadChildren&&this.theadChildren.rowspan,this.noData=!1}},created:function(){this.trChildren=[],this.thChildren=[],this.theadChildren=null,this.backData=[],this.backIndexData=[]},methods:{isNodata:function(){this.theadChildren;var t=1;this.theadChildren&&(t=this.theadChildren.rowspan),this.noData=this.trChildren.length-t<=0},selectionAll:function(){var t=this,e=1,i=this.theadChildren;this.theadChildren?e=i.rowspan-1:i=this.trChildren[0];var a=this.data&&this.data.length>0;i.checked=!0,i.indeterminate=!1,this.trChildren.forEach((function(i,n){if(!i.disabled){if(i.checked=!0,a&&i.keyValue){var r=t.data.find((function(e){return e[t.rowKey]===i.keyValue}));t.backData.find((function(e){return e[t.rowKey]===r[t.rowKey]}))||t.backData.push(r)}n>e-1&&-1===t.backIndexData.indexOf(n-e)&&t.backIndexData.push(n-e)}})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},toggleRowSelection:function(t,e){var i=this;t=[].concat(t),this.trChildren.forEach((function(a,n){var r=t.findIndex((function(t){return"number"===typeof t?t===n-1:t[i.rowKey]===a.keyValue})),s=a.checked;-1!==r&&(a.checked="boolean"===typeof e?e:!a.checked,s!==a.checked&&i.check(a.rowData||a,a.checked,a.rowData?a.keyValue:null,!0))})),this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})},clearSelection:function(){var t=this.theadChildren;this.theadChildren||(t=this.trChildren[0]),t.checked=!1,t.indeterminate=!1,this.trChildren.forEach((function(t){t.checked=!1})),this.backData=[],this.backIndexData=[],this.$emit("selection-change",{detail:{value:[],index:[]}})},toggleAllSelection:function(){var t=[],e=1,i=this.theadChildren;this.theadChildren?e=i.rowspan-1:i=this.trChildren[0],this.trChildren.forEach((function(i,a){i.disabled||a>e-1&&t.push(a-e)})),this.toggleRowSelection(t)},check:function(t,e,i,a){var n=this,r=this.theadChildren;this.theadChildren||(r=this.trChildren[0]);var s=this.trChildren.findIndex((function(e,i){return t===e}));s<0&&(s=this.data.findIndex((function(t){return t[n.rowKey]===i}))+1);this.trChildren.filter((function(t){return!t.disabled&&t.keyValue})).length;if(0!==s){if(e)i&&this.backData.push(t),this.backIndexData.push(s-1);else{var o=this.backData.findIndex((function(t){return t[n.rowKey]===i})),u=this.backIndexData.findIndex((function(t){return t===s-1}));i&&this.backData.splice(o,1),this.backIndexData.splice(u,1)}var c=this.trChildren.find((function(t,e){return e>0&&!t.checked&&!t.disabled}));c?(r.indeterminate=!0,r.checked=!1):(r.indeterminate=!1,r.checked=!0),0===this.backIndexData.length&&(r.indeterminate=!1),a||this.$emit("selection-change",{detail:{value:this.backData,index:this.backIndexData}})}else e?this.selectionAll():this.clearSelection()}}};e.default=a},"9e09":function(t,e,i){"use strict";i.r(e);var a=i("6fed"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9e30":function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),s=i("06ce"),o=n(i("aca5"));function u(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var l={data:function(){return{fieldsMap:o.default,query:{dimension:"hour",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,currentDimensionTab:0,tableData:[],panelData:o.default.filter((function(t){return t.hasOwnProperty("value")})),chartData:{},chartTab:"new_user_count",channelData:[],tabName:"\u65b0\u589e\u7528\u6237",errorMessage:""}},computed:{chartTabs:function(){var t=[];return o.default.forEach((function(e){var i=e.field,a=e.title,n=e.hasOwnProperty("value");i&&a&&n&&t.push({_id:i,name:a})})),t},dimensionTabs:function(){var t=[{_id:"hour",name:"\u6309\u65f6"},{_id:"day",name:"\u6309\u65e5"},{_id:"week",name:"\u6309\u5468"},{_id:"month",name:"\u6309\u6708"}];return this.getDays()?(this.query.dimension="day",t.forEach((function(t,e){"hour"===t._id?t.disabled=!0:t.disabled=!1})),this.currentDimensionTab=1):(this.query.dimension="hour",t.forEach((function(t,e){"hour"===t._id?t.disabled=!1:t.disabled=!0})),this.currentDimensionTab=0),t},channelQuery:function(){var t=this.query.platform_id;return(0,s.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.debounceGet()}}},methods:{getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],i=t[1],a=i-e>=864e5;return a},useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,s.getTimeOfSomeDayAgo)(t),a=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.getTabelData(this.query)},changeChartTab:function(t,e,i){this.tabName=i,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t,this.chartTab,this.tabName),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTab,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65b0\u589e\u7528\u6237";e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var r=this.query.dimension,c=t.database();c.collection("uni-stat-result").where(e).field("".concat((0,s.stringifyField)(o.default,a),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default,a)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,c=(e.count,e.data),l={categories:[],series:[{name:n,data:[]}]},d=o.default.filter((function(t){return t.field===a}));d=JSON.parse(JSON.stringify(d)),delete d[0].value,d[0].formatter="";var f,h=u(c);try{for(h.s();!(f=h.n()).done;){var p=f.value;(0,s.mapfields)(d,p,p);var m=(0,s.formatDate)(p.start_time,r),g=p[a];l.series[0].data.push(g),l.categories.push(m)}}catch(_){h.e(_)}finally{h.f()}i.chartData=l})).catch((function(t){})).finally((function(){i.loading=!1}))},getTabelData:function(e){var i=this,a=this.options.pageCurrent;e=(0,s.stringifyQuery)(e,!0,["uni_platform"]),this.options.pageCurrent=1,this.loading=!0;var n=t.database();n.collection("uni-stat-result").where(e).field((0,s.stringifyField)(o.default)).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.default)).orderBy("start_time","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e,a=t.result,n=a.count,r=a.data,c=u(r);try{for(c.s();!(e=c.n()).done;){var l=e.value,d=l.start_time;if(d){var f=i.query.dimension;l.start_time=(0,s.formatDate)(d,f)}(0,s.mapfields)(o.default,l,l)}}catch(h){c.e(h)}finally{c.f()}i.tableData=[],i.options.total=n,i.tableData=r})).catch((function(t){})).finally((function(){i.loading=!1}))},getPanelData:function(){var e=this,i=JSON.parse(JSON.stringify(this.query));i.dimension="day";var a=(0,s.stringifyQuery)(i,null,["uni_platform"]),n=t.database();n.collection("uni-stat-result").where(a).field("".concat((0,s.stringifyField)(o.default),",stat_date")).groupBy("appid").groupField((0,s.stringifyGroupField)(o.default)).orderBy("stat_date","desc").get().then((function(t){var i=t.result.data[0];i&&(i.total_users=0),e.panelData=[],e.panelData=(0,s.mapfields)(o.default,i),s.getFieldTotal.call(e,a,"total_users")}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=l}).call(this,i("a9ff")["default"],i("0de9")["default"])},"9ed2":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-calendar-item__weeks-box"),class:t._$s(0,"c",{"uni-calendar-item--disable":t.weeks.disable,"uni-calendar-item--before-checked-x":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked-x":t.weeks.afterMultiple}),attrs:{_i:0},on:{click:function(e){return t.choiceDate(t.weeks)},mouseenter:function(e){return t.handleMousemove(t.weeks)}}},[i("view",{staticClass:t._$s(1,"sc","uni-calendar-item__weeks-box-item"),class:t._$s(1,"c",{"uni-calendar-item--checked":t.calendar.fullDate===t.weeks.fullDate&&(t.calendar.userChecked||!t.checkHover),"uni-calendar-item--checked-range-text":t.checkHover,"uni-calendar-item--before-checked":t.weeks.beforeMultiple,"uni-calendar-item--multiple":t.weeks.multiple,"uni-calendar-item--after-checked":t.weeks.afterMultiple,"uni-calendar-item--disable":t.weeks.disable}),attrs:{_i:1}},[t._$s(2,"i",t.selected&&t.weeks.extraInfo)?i("text",{staticClass:t._$s(2,"sc","uni-calendar-item__weeks-box-circle"),attrs:{_i:2}}):t._e(),i("text",{staticClass:t._$s(3,"sc","uni-calendar-item__weeks-box-text uni-calendar-item__weeks-box-text-disable uni-calendar-item--checked-text"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.weeks.date)))])]),i("view",{class:t._$s(4,"c",{"uni-calendar-item--isDay":t.weeks.isDay}),attrs:{_i:4}})])},n=[]},"9f76":function(t,e,i){"use strict";i.r(e);var a=i("b0d2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"9fe8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-stat-panel",data:function(){return{}},props:{items:{type:Array,default:function(){return[]}},contrast:{type:Boolean,default:!1}}};e.default=a},a0c2:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--x p-m"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-stat-card-header"),attrs:{_i:1}}),i("view",{staticClass:t._$s(2,"sc","flex"),attrs:{_i:2}},[i("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:3},on:{change:t.dateTabsChange}}),i("uni-datetime-picker",{staticClass:t._$s(4,"sc","uni-stat-datetime-picker"),attrs:{type:"daterange",end:Date.now(),"return-type":"timestamp","clear-icon":!1,_i:4},on:{change:t.datePickerChange},model:{value:t._$s(4,"v-model",t.dateTabs.time),callback:function(e){t.$set(t.dateTabs,"time",e)},expression:"dateTabs.time"}}),t._$s(5,"i",t.dateTabs.timeStr)?i("view",{staticClass:t._$s(5,"sc","uni-stat--tips"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.dateTabs.timeStr)))]):t._e()],1),i("uni-stat-tabs",{staticClass:t._$s(6,"sc","mb-l"),attrs:{type:"box",current:t.statTabs.index,tabs:t.statTabs.list,_i:6},on:{change:t.statTabsChange}}),i("view",{staticClass:t._$s(7,"sc","uni-charts-box"),attrs:{_i:7}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,opts:t.opts,errorMessage:t.errorMessage,_i:8}})],1)],1)},r=[]},a128:function(t,e,i){var a=i("36c6"),n=i("4a4b"),r=i("c5f7"),s=i("b17c");function o(e){var i="function"===typeof Map?new Map:void 0;return t.exports=o=function(t){if(null===t||!r(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return s(t,arguments,a(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n(e,t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},a16b:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7etagid",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u7684tagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),i("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),i("navigator",{},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},a1c1:function(t,e,i){"use strict";i.r(e);var a=i("1b7a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a1d9:function(t,e,i){"use strict";i.r(e);var a=i("5a6b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a264:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a8e0")),r=a(i("bd6b")),s=a(i("fc10")),o={en:n.default,"zh-Hans":r.default,"zh-Hant":s.default};e.default=o},a34a:function(t,e,i){var a=i("7037"),n=i("7ec2")();t.exports=n;try{regeneratorRuntime=n}catch(r){"object"===("undefined"===typeof globalThis?"undefined":a(globalThis))?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},a376:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading1",data:function(){return{}}}},a395:function(t,e,i){var a=i("7037")["default"],n=i("e50d");t.exports=function(t){var e=n(t,"string");return"symbol"===a(e)?e:String(e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},a3e1:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r={getDateObject:function(t){return t?("string"!==typeof t||isNaN(t)||(t=Number(t)),"number"===typeof t?(10==t.toString().length&&(t*=1e3),e=new Date(t)):"object"===(0,n.default)(t)&&(e=new Date(t.getTime())),e):"";var e},timeFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";try{if(!t)return"";var i=r.getDateObject(t),a={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e}catch(s){return time}},getDateInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=r.getDateObject(t),i=e.getFullYear()+"",a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate(),s=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),u=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),c=e.getMilliseconds(),l=e.getDay(),d=Math.floor((e.getMonth()+3)/3);return{year:Number(i),month:Number(a),day:Number(n),hour:Number(s),minute:Number(o),second:Number(u),millisecond:Number(c),week:Number(l),quarter:Number(d)}},getOffsetStartAndEnd:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,s=r.getDateObject(n);if("hour"===i){var o=36e5,u=r.getDateInfo(new Date(s.getTime()+1*o*a));t=new Date("".concat(u.year,"/").concat(u.month,"/").concat(u.day," ").concat(u.hour,":00:00")).getTime(),e=new Date("".concat(u.year,"/").concat(u.month,"/").concat(u.day," ").concat(u.hour,":00:00")).getTime()+(o-1)}else if("day"===i){var c=864e5,l=r.getDateInfo(new Date(s.getTime()+1*c*a));t=new Date("".concat(l.year,"/").concat(l.month,"/").concat(l.day)).getTime(),e=new Date("".concat(l.year,"/").concat(l.month,"/").concat(l.day)).getTime()+(c-1)}else if("week"===i){s.setDate(s.getDate()-s.getDay()+1+7*a);var d=r.getDateInfo(s);s.setDate(s.getDate()+7);var f=r.getDateInfo(s);t=new Date("".concat(d.year,"/").concat(d.month,"/").concat(d.day)).getTime(),e=new Date("".concat(f.year,"/").concat(f.month,"/").concat(f.day)).getTime()-1}else if("month"===i){var h=r.getDateInfo(s),p=h.month+a,m=h.year;p>12?(m+=Math.floor(p/12),p=Math.abs(p)%12):p<=0&&(m=m-1-Math.floor(Math.abs(p)/12),p=12-Math.abs(p)%12);var g=new Date(m,p,0).getDate();t=new Date("".concat(m,"/").concat(p,"/1")).getTime(),e=new Date("".concat(m,"/").concat(p,"/").concat(g)).getTime()+86399999}else if("quarter"===i){s.setMonth(s.getMonth()+3*a);var _=r.getDateInfo(s),v=_.month;[1,2,3].indexOf(v)>-1?v=1:[4,5,6].indexOf(v)>-1?v=4:[7,8,9].indexOf(v)>-1?v=7:[10,11,12].indexOf(v)>-1&&(v=10),s.setMonth(v-1);var b=r.getDateInfo(s);s.setMonth(s.getMonth()+3);var y=r.getDateInfo(s);t=new Date("".concat(b.year,"/").concat(b.month,"/1")).getTime(),e=new Date("".concat(y.year,"/").concat(y.month,"/1")).getTime()-1}else if("year"===i){var x=r.getDateInfo(s),w=x.year+a;t=new Date("".concat(w,"/1/1")).getTime(),e=new Date("".concat(w,"/12/31")).getTime()+86399999}return{startTime:t,endTime:e}}},s=r;e.default=s},a431:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDeviceUUID=function(){var t=uni.getStorageSync("uni_deviceId")||uni.getSystemInfoSync().deviceId||uni.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2);return uni.setStorageSync("uni_deviceId",t),t},e.initUtil=function(t){t.prototype.$formatDate=a.formatDate,t.prototype.$formatBytes=n};var a=i("2707");function n(t){var e=["B","KB","MB","GB","TB"];if(0==t)return"n/a";var i=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return 0==i?t+" "+e[i]:(t/Math.pow(1024,i)).toFixed(1)+" "+e[i]}},a46a:function(t,e,i){"use strict";i.r(e);var a=i("3fc0"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a4bf:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))]),i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(6,"t0-0",t._s(t.$t("common.button.add"))))]),i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}},[t._v(t._$s(7,"t0-0",t._s(t.$t("common.button.batchDelete"))))])])],1),i("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[i("unicloud-db",{ref:"udb",attrs:{collection:"opendb-app-list",field:"appid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:9},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[i("uni-table",{ref:"table",staticClass:a._$s("10-"+n,"sc","table-pc"),attrs:{loading:o||t.addAppidLoading,emptyText:u.message||t.$t("common.empty"),border:!0,stripe:!0,type:"selection",_i:"10-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"11-"+n}},[i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"12-"+n},on:{"filter-change":function(e){return t.filterChange(e,"appid")},"sort-change":function(e){return t.sortChange(e,"appid")}}},[t._v("AppID")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"13-"+n},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u5e94\u7528\u540d\u79f0")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,width:t.descriptionThWidth,_i:"14-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u5e94\u7528\u63cf\u8ff0")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",width:t.buttonThWidth,_i:"16-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("17-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("17-"+n,"f",{forIndex:s,key:r}),attrs:{disabled:e.appid===t.appid,_i:"17-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"18-"+n+o}},[t._v(a._$s("18-"+n+o,"t0-0",t._s(e.appid)))]),i("uni-td",{attrs:{align:"center",_i:"19-"+n+o}},[t._v(a._$s("19-"+n+o,"t0-0",t._s(e.name)))]),i("uni-td",{attrs:{align:"left",_i:"20-"+n+o}},[t._v(a._$s("20-"+n+o,"t0-0",t._s(e.description)))]),i("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"22-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"23-"+n+o}},[a._$s("24-"+n+o,"i",e.appid===t.appid)?i("view",{attrs:{_i:"24-"+n+o}},[t._v("-")]):i("view",{staticClass:a._$s("25-"+o,"sc","uni-group"),attrs:{_i:"25-"+o}},[i("button",{staticClass:a._$s("26-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"26-"+o},on:{click:function(i){return t.publish(e._id)}}},[t._v(a._$s("26-"+o+n,"t0-0",t._s(t.$t("common.button.publish"))))]),i("button",{staticClass:a._$s("27-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"27-"+o},on:{click:function(i){return t.navigateTo("/uni_modules/uni-upgrade-center/pages/version/list?appid="+e.appid,!1)}}},[t._v(a._$s("27-"+o+n,"t0-0",t._s(t.$t("common.button.version"))))]),i("button",{staticClass:a._$s("28-"+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"28-"+o},on:{click:function(i){return t.navigateTo("./add?id="+e.appid,!1)}}},[t._v(a._$s("28-"+o+n,"t0-0",t._s(t.$t("common.button.edit"))))]),i("button",{staticClass:a._$s("29-"+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"29-"+o},on:{click:function(i){return t.confirmDelete(e._id)}}},[t._v(a._$s("29-"+o+n,"t0-0",t._s(t.$t("common.button.delete"))))])])])],1)}))],2),i("view",{staticClass:a._$s("30-"+n,"sc","uni-pagination-box"),attrs:{_i:"30-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"31-"+n},on:{change:t.onPageChanged,pageSizeChange:t.pageSizeChange},model:{value:t._$s("31-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("fix-window",{attrs:{_i:32}})],1)},r=[]},a4c5:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("821b");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database(),c=["permission_id","permission_name"],l={ascending:"asc",descending:"desc"},d={data:function(){return{query:"",where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],options:o({pageSize:20,pageCurrent:1,filterData:{}},r.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-id-permissions.xls",type:"xls",fields:{"\u6743\u9650ID":"permission_id","\u6743\u9650\u540d\u79f0":"permission_name","\u5907\u6ce8":"comment"}},exportExcelData:[]}},onLoad:function(){this._filter={}},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},getWhere:function(){var t=this.query.trim();if(!t)return"";var e=new RegExp(t,"i");return c.map((function(t){return e+".test("+t+")"})).join(" || ")},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},confirmDelete:function(t){var e=this;this.$refs.udb.remove(t,{success:function(t){e.$refs.table.clearSelection()}})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+l[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,r.filterToWhere)(this._filter,u.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))}}};e.default=d}).call(this,i("a9ff")["default"])},a4e3:function(t,e,i){"use strict";i.r(e);var a=i("0a4c"),n=i("9ad2");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"72e79676",null,!1,a["a"],void 0);e["default"]=o.exports},a586:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={appid:"__UNI__2424621"}},a5e8:function(t,e,i){"use strict";i.r(e);var a=i("d42d"),n=i("4723");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},a664:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default,uniPagination:i("2487").default,uniPopup:i("46c2").default,uniLoadMore:i("5673").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group hide-on-phone"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,yesterday:!1,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x"),attrs:{_i:15}},[i("uni-stat-panel",{staticClass:t._$s(16,"sc","uni-stat-panel"),attrs:{items:t.panelData,_i:16}}),i("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},model:{value:t._$s(17,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,eopts:{notMerge:!0},echartsH5:!0,echartsApp:!0,tooltipFormat:"tooltipCustom",errorMessage:t.errorMessage,_i:19}})],1)],1),i("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[i("view",{staticClass:t._$s(21,"sc","flex-between"),attrs:{_i:21}},[i("view",{staticClass:t._$s(22,"sc","uni-stat-card-header"),attrs:{_i:22}}),i("view",{staticClass:t._$s(23,"sc","uni-group"),attrs:{_i:23}})]),i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:24}},[i("uni-tr",{attrs:{_i:25}},[t._l(t._$s(26,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("27-"+r,"i",e.title)?i("uni-th",{key:t._$s(26,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"27-"+r}},[i("uni-tooltip",{attrs:{_i:"28-"+r},scopedSlots:t._u([t._$s("30-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("31-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"31-"+r+"-"+s}},[t._v(n._$s("31-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title))),t._$s("29-"+r,"i",e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"29-"+r}}):t._e()],1)],1):t._e()]})),t._$s(32,"i",t.sourceMapEnabled)?i("uni-th",{attrs:{align:"center",_i:32}},[t._v("")]):t._e()],2),t._l(t._$s(33,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(33,"f",{forIndex:n,key:a}),attrs:{_i:"33-"+r}},[t._l(t._$s("34-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return[t._$s("35-"+r+"-"+o,"i","count"===a.field)?i("uni-td",{key:t._$s("34-"+r,"f",{forIndex:s,keyIndex:0,key:a.field+"_"+n+"_0"}),attrs:{align:"center",_i:"35-"+r+"-"+o}},[i("text",{staticClass:t._$s("36-"+r+"-"+o,"sc","link-btn"),attrs:{_i:"36-"+r+"-"+o},on:{click:function(i){return t.navTo("detail",e)}}},[t._v(t._$s("36-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]):i("uni-td",{key:t._$s("34-"+r,"f",{forIndex:s,keyIndex:-1,key:a.field}),attrs:{align:"center",_i:"37-"+r+"-"+o}},[t._v(t._$s("37-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])]})),t._$s("38-"+r,"i",t.sourceMapEnabled)?i("uni-td",{attrs:{_i:"38-"+r}},[i("button",{attrs:{_i:"39-"+r},on:{click:function(i){return t.openErrPopup(e)}}})]):t._e()],2)}))],2),i("view",{staticClass:t._$s(40,"sc","uni-pagination-box"),attrs:{_i:40}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:41},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("uni-popup",{ref:"errMsg",attrs:{type:"center",animation:!1,maskClick:!0,_i:42},on:{change:t.errMsgPopupChange}},[i("view",{staticClass:t._$s(43,"sc","modal black-theme"),attrs:{_i:43}},[i("view",{staticClass:t._$s(44,"sc","modal-header"),attrs:{_i:44}}),i("scroll-view",{},[i("view",{staticClass:t._$s(46,"sc","modal-content"),attrs:{_i:46}},[t._$s(47,"i",t.msgLoading)?i("view",[i("uni-load-more",{staticClass:t._$s(48,"sc","mb-m"),attrs:{showText:!1,status:"loading",_i:48}}),i("view")],1):t._e(),i("text",[t._v(t._$s(50,"t0-0",t._s(t.errMsg)))])])]),i("view",{staticClass:t._$s(51,"sc","dialog-close"),attrs:{_i:51},on:{click:t.closeErrPopup}},[i("view",{staticClass:t._$s(52,"sc","dialog-close-plus"),attrs:{_i:52}}),i("view",{staticClass:t._$s(53,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:53}})])])]),i("fix-window",{attrs:{_i:54}})],1)},r=[]},a683:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniDataChecklist",mixins:[t.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return""}},modelValue:{type:[Array,String,Number],default:function(){return""}},localdata:{type:Array,default:function(){return[]}},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"\u6682\u65e0\u6570\u636e"},disabled:{type:Boolean,default:!1},map:{type:Object,default:function(){return{text:"text",value:"value"}}}},watch:{localdata:{handler:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},deep:!0},mixinDatacomResData:function(t){this.range=t,this.dataList=this.getDataList(this.getSelectedValue(t))},value:function(t){this.dataList=this.getDataList(t)},modelValue:function(t){this.dataList=this.getDataList(t)}},data:function(){return{dataList:[],range:[],contentText:{contentdown:"\u67e5\u770b\u66f4\u591a",contentrefresh:"\u52a0\u8f7d\u4e2d",contentnomore:"\u6ca1\u6709\u66f4\u591a"},isLocal:!0,styles:{selectedColor:"#2979ff",selectedTextColor:"#666"},isTop:0}},computed:{dataValue:function(){return""===this.value?this.modelValue:(this.modelValue,this.value)}},created:function(){this.localdata&&0!==this.localdata.length?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData:function(){var t=this;this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,0===t.mixinDatacomResData.length?(t.isLocal=!1,t.mixinDatacomErrorMessage=t.emptyText):t.isLocal=!0})).catch((function(e){t.mixinDatacomErrorMessage=e.message}))},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},chagne:function(t){var e=this,i=t.detail.value,a={value:[],data:[]};if(this.multiple)this.range.forEach((function(t){i.includes(t[e.map.value]+"")&&(a.value.push(t[e.map.value]),a.data.push(t))}));else{var n=this.range.find((function(t){return t[e.map.value]+""===i}));n&&(a={value:n[this.map.value],data:n})}this.$emit("input",a.value),this.$emit("update:modelValue",a.value),this.$emit("change",{detail:a}),this.multiple?this.dataList=this.getDataList(a.value,!0):this.dataList=this.getDataList(a.value)},getDataList:function(t){var e=this,i=JSON.parse(JSON.stringify(this.range)),a=[];return this.multiple&&(Array.isArray(t)||(t=[])),i.forEach((function(i,n){if(i.disabled=i.disable||i.disabled||!1,e.multiple)if(t.length>0){var r=t.find((function(t){return t===i[e.map.value]}));i.selected=void 0!==r}else i.selected=!1;else i.selected=t===i[e.map.value];a.push(i)})),this.setRange(a)},setRange:function(t){var e=this,i=t.filter((function(t){return t.selected})),a=Number(this.min)||0,n=Number(this.max)||"";return t.forEach((function(r,s){if(e.multiple){if(i.length<=a){var o=i.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0!==o&&(r.disabled=!0)}if(i.length>=n&&""!==n){var u=i.find((function(t){return t[e.map.value]===r[e.map.value]}));void 0===u&&(r.disabled=!0)}}e.setStyles(r,s),t[s]=r})),t},setStyles:function(t,e){t.styleBackgroud=this.setStyleBackgroud(t),t.styleIcon=this.setStyleIcon(t),t.styleIconText=this.setStyleIconText(t),t.styleRightIcon=this.setStyleRightIcon(t)},getSelectedValue:function(t){var e=this;if(!this.multiple)return this.dataValue;var i=[];return t.forEach((function(t){t.selected&&i.push(t[e.map.value])})),this.dataValue.length>0?this.dataValue:i},setStyleBackgroud:function(t){var e={},i=this.selectedColor?this.selectedColor:"#2979ff";this.selectedColor&&("list"!==this.mode&&(e["border-color"]=t.selected?i:"#DCDFE6"),"tag"===this.mode&&(e["background-color"]=t.selected?i:"#f5f5f5"));var a="";for(var n in e)a+="".concat(n,":").concat(e[n],";");return a},setStyleIcon:function(t){var e={},i="";if(this.selectedColor){var a=this.selectedColor?this.selectedColor:"#2979ff";e["background-color"]=t.selected?a:"#fff",e["border-color"]=t.selected?a:"#DCDFE6",!t.selected&&t.disabled&&(e["background-color"]="#F2F6FC",e["border-color"]=t.selected?a:"#DCDFE6")}for(var n in e)i+="".concat(n,":").concat(e[n],";");return i},setStyleIconText:function(t){var e={},i="";if(this.selectedColor){var a=this.selectedColor?this.selectedColor:"#2979ff";"tag"===this.mode?e.color=t.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":e.color=t.selected?this.selectedTextColor?this.selectedTextColor:a:"#666",!t.selected&&t.disabled&&(e.color="#999")}for(var n in e)i+="".concat(n,":").concat(e[n],";");return i},setStyleRightIcon:function(t){var e={},i="";for(var a in"list"===this.mode&&(e["border-color"]=t.selected?this.styles.selectedColor:"#DCDFE6"),e)i+="".concat(a,":").concat(e[a],";");return i}}};e.default=i}).call(this,i("a9ff")["default"])},a6df:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{id:""}},onLoad:function(t){var e=t.id;this.id=e},methods:{publish:function(){this.id?this.$request("createPublishHtml",{id:this.id},{functionName:"uni-portal",showModal:!1}).then((function(t){})).catch((function(t){uni.showModal({content:t.errMsg,showCancel:!1})})):uni.showModal({content:"\u9875\u9762\u51fa\u9519\uff0c\u8bf7\u8fd4\u56de\u91cd\u8fdb",showCancel:!1,success:function(t){uni.redirectTo({url:"/pages/system/app/list"})}})}}};e.default=a},a6e4:function(t,e,i){"use strict";i.r(e);var a=i("6f42"),n=i("1e7d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},a7ac:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniNoticeBar:i("b44d").default,uniForms:i("074f").default,uniCard:i("8105").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniFilePicker:i("cb7f").default,showInfo:i("b029").default,uniPopup:i("46c2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-notice-bar",{attrs:{showIcon:!0,text:"\u672c\u9875\u9762\u4fe1\u606f\uff0c\u5728\u5e94\u7528\u53d1\u5e03\u3001app\u5347\u7ea7\u6a21\u5757\u4e2d\uff0c\u90fd\u4f1a\u5173\u8054\u4f7f\u7528\uff0c\u8bf7\u8ba4\u771f\u586b\u5199",_i:1}}),i("uni-forms",{ref:"form",attrs:{validateTrigger:"bind",labelWidth:t.labelWidth,rules:t.rules,_i:2},model:{value:t._$s(2,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[i("uni-card",{attrs:{title:"\u57fa\u7840\u4fe1\u606f",_i:3}},[i("uni-forms-item",{staticClass:t._$s(4,"sc","forn-item__flex"),attrs:{name:"appid",label:"AppID",required:!0,_i:4}},[i("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u7684AppID",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.appid),callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u5e94\u7528\u540d\u79f0",required:!0,_i:6}},[i("uni-easyinput",{attrs:{disabled:t.isEdit,placeholder:"\u5e94\u7528\u540d\u79f0",trim:"both",_i:7},model:{value:t._$s(7,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"introduction",label:"\u5e94\u7528\u7b80\u4ecb",_i:8}},[i("uni-easyinput",{attrs:{placeholder:"\u5e94\u7528\u7b80\u4ecb",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.introduction),callback:function(e){t.$set(t.formData,"introduction",e)},expression:"formData.introduction"}})],1),i("uni-forms-item",{attrs:{name:"description",label:"\u5e94\u7528\u63cf\u8ff0",_i:10}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(11,"sc","uni-textarea-border"),attrs:{maxlength:t._$s(11,"a-maxlength",-1),_i:11},domProps:{value:t._$s(11,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})])],1),i("uni-card",{attrs:{title:"\u56fe\u6807\u7d20\u6750",_i:12}},[i("uni-forms-item",{attrs:{label:"\u5e94\u7528\u56fe\u6807",_i:13}},[i("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:14},on:{success:function(e){return t.iconUrlSuccess(e,"icon_url")},delete:function(e){return t.iconUrlDelete(e,"icon_url")}},model:{value:t._$s(14,"v-model",t.middleware_img.icon_url),callback:function(e){t.$set(t.middleware_img,"icon_url",e)},expression:"middleware_img.icon_url"}})],1),i("uni-forms-item",{attrs:{label:"\u5e94\u7528\u622a\u56fe",_i:15}},[i("uni-file-picker",{attrs:{"file-mediatype":"image",mode:"grid","image-styles":{height:"500rpx",width:"300rpx"},_i:16},on:{delete:t.iconUrlDelete},model:{value:t._$s(16,"v-model",t.screenshotList),callback:function(e){t.screenshotList=e},expression:"screenshotList"}})],1)],1),i("uni-card",{staticClass:t._$s(17,"sc","app_platform"),attrs:{title:"App \u4fe1\u606f",_i:17}},[t._$s(18,"i",t.isEdit)?i("view",{staticClass:t._$s(18,"sc","extra-button"),attrs:{_i:18}},[i("button",{attrs:{_i:19},on:{click:t.autoFillApp}}),i("show-info",{attrs:{left:-10,top:-35,width:"230",content:"\u4eceApp\u5347\u7ea7\u4e2d\u5fc3\u540c\u6b65\u5e94\u7528\u5b89\u88c5\u5305\u4fe1\u606f",_i:20}})],1):t._e(),t._l(t._$s(21,"f",{forItems:t.appPlatformKeys}),(function(e,a,n,r){return i("view",{key:t._$s(21,"f",{forIndex:n,key:e})},[i("checkbox-group",{attrs:{_i:"22-"+r},on:{change:function(i){var a=i.detail.value;t.setPlatformChcekbox(e,!!a.length)}}},[i("label",{staticClass:t._$s("23-"+r,"sc","title_padding"),class:t._$s("23-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"23-"+r}},[i("checkbox",{attrs:{value:t._$s("24-"+r,"a-value",e),checked:t._$s("24-"+r,"a-checked",t.middleware_checkbox[e]),_i:"24-"+r}}),i("text",[t._v(t._$s("25-"+r,"t0-0",t._s(t.appPlatformValues[e])))])])]),t._$s("26-"+r,"i",t.getPlatformChcekbox(e))?[i("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"27-"+r}},[i("uni-easyinput",{attrs:{trim:"both",_i:"28-"+r},model:{value:t._$s("28-"+r,"v-model",t.formData[e].name),callback:function(i){t.$set(t.formData[e],"name",i)},expression:"formData[item].name"}})],1),t._$s("29-"+r,"i","app_android"===e)?i("uni-forms-item",{staticClass:t._$s("29-"+r,"sc","forn-item__flex"),attrs:{label:"\u4e0a\u4f20apk\u5305",_i:"29-"+r}},[i("uni-file-picker",{attrs:{"file-extname":"apk",disabled:t.hasPackage,returnType:"object","file-mediatype":"all",limit:"1",_i:"30-"+r},on:{success:function(i){return t.iconUrlSuccess(i,e+".url")},delete:function(i){return t.iconUrlDelete(i,e+".url")}},model:{value:t._$s("30-"+r,"v-model",t.appPackageInfo),callback:function(e){t.appPackageInfo=e},expression:"appPackageInfo"}},[i("view",{staticClass:t._$s("31-"+r,"sc","flex"),attrs:{_i:"31-"+r}},[i("button",{attrs:{_i:"32-"+r},on:{click:t.selectFile}}),i("text")])]),t._$s("34-"+r,"i",t.hasPackage)?i("text",[t._v(t._$s("34-"+r,"t0-0",t._s(t.appPackageInfo.size&&Number(t.appPackageInfo.size/1024/1024).toFixed(2)+"M")))]):t._e()],1):t._e(),i("uni-forms-item",{attrs:{label:"app_ios"===e?"AppStore":"\u4e0b\u8f7d\u94fe\u63a5",_i:"35-"+r}},[i("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"36-"+r},model:{value:t._$s("36-"+r,"v-model",t.formData[e].url),callback:function(i){t.$set(t.formData[e],"url",i)},expression:"formData[item].url"}})],1)]:t._e()],2)})),i("uni-popup",{ref:"scheme",attrs:{"background-color":"#fff",_i:37}},[i("view",{staticClass:t._$s(38,"sc","popup-content"),attrs:{_i:38}},[i("text"),i("view"),i("text")])]),i("uni-forms-item",{attrs:{name:"store_schemes",label:"Android\u5e94\u7528\u5e02\u573a",labelWidth:"120",_i:42}},[i("view",[i("view",{staticClass:t._$s(44,"sc","flex"),attrs:{_i:44}},[i("text",{staticClass:t._$s(45,"sc","pointer"),attrs:{_i:45},on:{click:t.schemeDemo}}),i("button",{attrs:{_i:46},on:{click:t.addStoreScheme}})]),t._l(t._$s(47,"f",{forItems:t.formData.store_list}),(function(e,a,n,r){return i("view",{key:t._$s(47,"f",{forIndex:n,key:e.id})},[i("uni-card",{attrs:{title:"",_i:"48-"+r}},[i("view",[i("view",[i("button",{attrs:{_i:"51-"+r},on:{click:function(i){return t.deleteStore(a,e)}}})])]),i("uni-forms-item",{attrs:{label:"\u5546\u5e97\u540d\u79f0",_i:"52-"+r}},[i("uni-easyinput",{attrs:{trim:"both",_i:"53-"+r},model:{value:t._$s("53-"+r,"v-model",e.name),callback:function(i){t.$set(e,"name",i)},expression:"item.name"}})],1),i("uni-forms-item",{attrs:{label:"Scheme",_i:"54-"+r}},[i("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:"55-"+r},model:{value:t._$s("55-"+r,"v-model",e.scheme),callback:function(i){t.$set(e,"scheme",i)},expression:"item.scheme"}})],1)],1)],1)}))],2)])],2),i("uni-card",{staticClass:t._$s(56,"sc","mp_platform"),attrs:{title:"\u5c0f\u7a0b\u5e8f/\u5feb\u5e94\u7528\u4fe1\u606f",_i:56}},t._l(t._$s(57,"f",{forItems:t.mpPlatformKeys}),(function(e,a,n,r){return i("view",{key:t._$s(57,"f",{forIndex:n,key:e})},[i("checkbox-group",{attrs:{_i:"58-"+r},on:{change:function(i){var a=i.detail.value;t.setPlatformChcekbox(e,!!a.length)}}},[i("label",{staticClass:t._$s("59-"+r,"sc","title_padding"),class:t._$s("59-"+r,"c",{font_bold:t.getPlatformChcekbox(e)}),attrs:{_i:"59-"+r}},[i("checkbox",{attrs:{value:t._$s("60-"+r,"a-value",e),checked:t._$s("60-"+r,"a-checked",t.middleware_checkbox[e]),_i:"60-"+r}}),i("text",[t._v(t._$s("61-"+r,"t0-0",t._s(t.mpPlatform[e])))])])]),t._$s("62-"+r,"i",t.mpAccordionStatus&&t.getPlatformChcekbox(e))?[i("uni-forms-item",{attrs:{label:"\u540d\u79f0",_i:"63-"+r}},[i("uni-easyinput",{attrs:{trim:"both",_i:"64-"+r},model:{value:t._$s("64-"+r,"v-model",t.formData[e].name),callback:function(i){t.$set(t.formData[e],"name",i)},expression:"formData[item].name"}})],1),i("uni-forms-item",{attrs:{label:t.mpPlatform[e].slice(-3)+"\u7801",_i:"65-"+r}},[i("uni-file-picker",{attrs:{"image-styles":{width:"200rpx"},"return-type":"object","file-mediatype":"image",limit:"1",mode:"grid",_i:"66-"+r},on:{success:function(i){return t.iconUrlSuccess(i,e+".qrcode_url")},delete:function(i){return t.iconUrlDelete(i,e+".qrcode_url")}},model:{value:t._$s("66-"+r,"v-model",t.middleware_img[e]),callback:function(i){t.$set(t.middleware_img,e,i)},expression:"middleware_img[item]"}})],1)]:t._e()],2)})),0),i("uni-card",{attrs:{title:"web\u4fe1\u606f",_i:67}},[i("uni-forms-item",{attrs:{label:"\u94fe\u63a5\u5730\u5740",_i:68}},[i("uni-easyinput",{attrs:{maxlength:-1,trim:"both",_i:69},model:{value:t._$s(69,"v-model",t.formData.h5.url),callback:function(e){t.$set(t.formData.h5,"url",e)},expression:"formData.h5.url"}}),i("span",[i("a",{})])],1)],1),t._$s(72,"i",t.isEdit)?i("uni-card",{attrs:{isShadow:!1,_i:72}},[i("text",[i("text")])]):t._e(),i("view",{staticClass:t._$s(75,"sc","uni-button-group"),attrs:{_i:75}},[i("button",{staticClass:t._$s(76,"sc","uni-button"),attrs:{_i:76},on:{click:t.submit}}),i("navigator",{},[i("button",{staticClass:t._$s(78,"sc","uni-button"),attrs:{_i:78}})])])],1)],1)},r=[]},a8a6:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2543")),r=function(){return t("log","\u4e3a\u5b9a\u4e49"," at uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue:34")},s={name:"uni-agreements",computed:{agreements:function(){if(!n.default.agreements)return[];var t=n.default.agreements,e=t.serviceUrl,i=t.privacyUrl;return[{url:e,title:"\u7528\u6237\u670d\u52a1\u534f\u8bae"},{url:i,title:"\u9690\u79c1\u653f\u7b56\u6761\u6b3e"}]}},props:{scope:{type:String,default:function(){return"register"}}},methods:{popupConfirm:function(){this.isAgree=!0,r()},popup:function(t){var e=this;this.needPopupAgreements=!0,this.$nextTick((function(){t&&(r=t),e.$refs.popupAgreement.open()}))},navigateTo:function(t){var e=t.url,i=t.title;uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e+"&title="+i,success:function(t){},fail:function(){},complete:function(){}})},hasAnd:function(t,e){return t.length-1>e},setAgree:function(t){this.isAgree=!this.isAgree,this.$emit("setAgree",this.isAgree)}},created:function(){var t;this.needAgreements=((null===n.default||void 0===n.default||null===(t=n.default.agreements)||void 0===t?void 0:t.scope)||[]).includes(this.scope)},data:function(){return{isAgree:!1,needAgreements:!0,needPopupAgreements:!1}}};e.default=s}).call(this,i("0de9")["default"])},a8e0:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"}')},a902:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,downloadExcel:i("071b").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniPagination:i("2487").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("uni-stat-breadcrumb",{attrs:{_i:3}})],1),i("view",{staticClass:t._$s(4,"sc","uni-group"),attrs:{_i:4}},[i("button",{staticClass:t._$s(5,"sc","uni-button"),attrs:{_i:5},on:{click:t.search}}),i("download-excel",{staticClass:t._$s(6,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:6}},[i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{_i:7}})])],1)]),i("view",{staticClass:t._$s(8,"sc","uni-container"),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex p-1015"),attrs:{_i:9}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:10},model:{value:t._$s(10,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(11,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:11},model:{value:t._$s(11,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.platformChange},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"channel_code as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_code),callback:function(e){t.$set(t.query,"channel_code",e)},expression:"query.channel_code"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","flex"),attrs:{_i:15}},[i("uni-stat-tabs",{attrs:{type:"box",current:t.dateTabs.index,tabs:t.dateTabs.list,_i:16},on:{change:t.dateTabsChange}}),i("uni-datetime-picker",{staticClass:t._$s(17,"sc","uni-stat-datetime-picker"),attrs:{type:"daterange",end:Date.now(),"return-type":"timestamp","clear-icon":!0,_i:17},on:{change:function(e){t.dateTabs.index=null}},model:{value:t._$s(17,"v-model",t.query.pay_date),callback:function(e){t.$set(t.query,"pay_date",e)},expression:"query.pay_date"}})],1),i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,field:"user_id,nickname,uni_platform,status,total_fee,appid,pay_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,groupby:"user_id","group-field":"sum(total_fee) as total_fee,sum(1) as count,last(nickname) as nickname",options:t.options,loadtime:"manual",_i:18},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[i("uni-table",{ref:"table",staticStyle:{"min-height":"900px"},attrs:{loading:o,emptyText:u.message||o?"\u8bf7\u6c42\u4e2d...":"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"",_i:"19-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"20-"+n}},[i("uni-th",{attrs:{align:"center",_i:"21-"+n}},[t._v("\u6392\u540d")]),i("uni-th",{attrs:{align:"center",sortable:!0,_i:"22-"+n},on:{"sort-change":function(e){return t.sortChange(e,"user_id")}}},[t._v("\u7528\u6237")]),i("uni-th",{attrs:{align:"center",sortable:!0,_i:"23-"+n},on:{"sort-change":function(e){return t.sortChange(e,"total_fee")}}},[t._v("\u652f\u4ed8\u91d1\u989d")]),i("uni-th",{attrs:{align:"center",sortable:!0,_i:"24-"+n},on:{"sort-change":function(e){return t.sortChange(e,"count")}}},[t._v("\u8ba2\u5355\u6570\u91cf")])],1),t._l(a._$s("25-"+n,"f",{forItems:r}),(function(e,r,o,u){return i("uni-tr",{key:a._$s("25-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"25-"+n+u}},[i("uni-td",{attrs:{align:"center",_i:"26-"+n+u}},[t._v(a._$s("26-"+n+u,"t0-0",t._s(parseInt(r+1+(s.current-1)*s.size))))]),i("uni-td",{attrs:{align:"center",_i:"27-"+n+u}},[i("text",{staticClass:a._$s("28-"+n+u,"sc","text-btn"),attrs:{_i:"28-"+n+u},on:{click:function(i){return t.pageToUser(e)}}},[t._v(a._$s("28-"+n+u,"t0-0",t._s(t.nameFormat(e))))])]),i("uni-td",{attrs:{align:"center",_i:"29-"+n+u}},[t._v(a._$s("29-"+n+u,"t0-0",t._s((e.total_fee/100).toFixed(2))))]),i("uni-td",{attrs:{align:"center",_i:"30-"+n+u}},[i("text",{staticClass:a._$s("31-"+n+u,"sc","text-btn"),attrs:{_i:"31-"+n+u},on:{click:function(i){return t.pageToOrder(e)}}},[t._v(a._$s("31-"+n+u,"t0-0",t._s(e.count)))])])],1)}))],2),i("view",{staticClass:a._$s("32-"+n,"sc","uni-pagination-box"),attrs:{_i:"32-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"33-"+n},on:{change:t.onPageChanged},model:{value:t._$s("33-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)])},r=[]},a925:function(t,e,i){"use strict";i.r(e);
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */
var a=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],n=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];var r=Array.isArray;function s(t){return null!==t&&"object"===typeof t}function o(t){return"boolean"===typeof t}function u(t){return"string"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function d(t){return null===t||void 0===t}function f(t){return"function"===typeof t}function h(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var i=null,a=null;return 1===t.length?s(t[0])||r(t[0])?a=t[0]:"string"===typeof t[0]&&(i=t[0]):2===t.length&&("string"===typeof t[0]&&(i=t[0]),(s(t[1])||r(t[1]))&&(a=t[1])),{locale:i,params:a}}function p(t){return JSON.parse(JSON.stringify(t))}function m(t,e){return!!~t.indexOf(e)}var g=Object.prototype.hasOwnProperty;function _(t,e){return g.call(t,e)}function v(t){for(var e=arguments,i=Object(t),a=1;a<arguments.length;a++){var n=e[a];if(void 0!==n&&null!==n){var r=void 0;for(r in n)_(n,r)&&(s(n[r])?i[r]=v(i[r],n[r]):i[r]=n[r])}}return i}function b(t,e){if(t===e)return!0;var i=s(t),a=s(e);if(!i||!a)return!i&&!a&&String(t)===String(e);try{var n=r(t),o=r(e);if(n&&o)return t.length===e.length&&t.every((function(t,i){return b(t,e[i])}));if(n||o)return!1;var u=Object.keys(t),c=Object.keys(e);return u.length===c.length&&u.every((function(i){return b(t[i],e[i])}))}catch(l){return!1}}function y(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(t[e]))})),t}var x={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var i=e.data,a=e.parent,n=e.props,r=e.slots,s=a.$i18n;if(s){var o=n.path,u=n.locale,c=n.places,l=r(),d=s.i(o,u,function(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}(l)||c?function(t,e){var i=e?function(t){0;return Array.isArray(t)?t.reduce(C,{}):Object.assign({},t)}(e):{};if(!t)return i;t=t.filter((function(t){return t.tag||""!==t.text.trim()}));var a=t.every($);0;return t.reduce(a?w:C,i)}(l.default,c):l),f=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return f?t(f,i,d):d}}};function w(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function C(t,e,i){return t[i]=e,t}function $(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var k,D={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var i=e.props,n=e.parent,r=e.data,o=n.$i18n;if(!o)return null;var c=null,l=null;u(i.format)?c=i.format:s(i.format)&&(i.format.key&&(c=i.format.key),l=Object.keys(i.format).reduce((function(t,e){var n;return m(a,e)?Object.assign({},t,(n={},n[e]=i.format[e],n)):t}),null));var d=i.locale||o.locale,f=o._ntp(i.value,d,c,l),h=f.map((function(t,e){var i,a=r.scopedSlots&&r.scopedSlots[t.type];return a?a((i={},i[t.type]=t.value,i.index=e,i.parts=f,i)):t.value})),p=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return p?t(p,{attrs:r.attrs,class:r["class"],staticClass:r.staticClass},h):h}};function S(t,e,i){P(t,i)&&M(t,e,i)}function T(t,e,i,a){if(P(t,i)){var n=i.context.$i18n;(function(t,e){var i=e.context;return t._locale===i.$i18n.locale})(t,i)&&b(e.value,e.oldValue)&&b(t._localeMessage,n.getLocaleMessage(n.locale))||M(t,e,i)}}function O(t,e,i,a){var n=i.context;if(n){var r=i.context.$i18n||{};e.modifiers.preserve||r.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}}function P(t,e){var i=e.context;return!!i&&!!i.$i18n}function M(t,e,i){var a,n,r=e.value,s=function(t){var e,i,a,n;u(t)?e=t:l(t)&&(e=t.path,i=t.locale,a=t.args,n=t.choice);return{path:e,locale:i,args:a,choice:n}}(r),o=s.path,c=s.locale,d=s.args,f=s.choice;if((o||c||d)&&o){var h=i.context;t._vt=t.textContent=null!=f?(a=h.$i18n).tc.apply(a,[o,f].concat(A(c,d))):(n=h.$i18n).t.apply(n,[o].concat(A(c,d))),t._locale=h.$i18n.locale,t._localeMessage=h.$i18n.getLocaleMessage(h.$i18n.locale)}}function A(t,e){var i=[];return t&&i.push(t),e&&(Array.isArray(e)||l(e))&&i.push(e),i}function I(t,e){void 0===e&&(e={bridge:!1}),I.installed=!0,k=t;k.version&&Number(k.version.split(".")[0]);(function(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var a=this.$i18n;return a._t.apply(a,[t,a.locale,a._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var i=[],a=arguments.length-2;while(a-- >0)i[a]=arguments[a+2];var n=this.$i18n;return n._tc.apply(n,[t,n.locale,n._getMessages(),this,e].concat(i))},t.prototype.$te=function(t,e){var i=this.$i18n;return i._te(t,i.locale,i._getMessages(),e)},t.prototype.$d=function(t){var e,i=[],a=arguments.length-1;while(a-- >0)i[a]=arguments[a+1];return(e=this.$i18n).d.apply(e,[t].concat(i))},t.prototype.$n=function(t){var e,i=[],a=arguments.length-1;while(a-- >0)i[a]=arguments[a+1];return(e=this.$i18n).n.apply(e,[t].concat(i))}})(k),k.mixin(function(t){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===t&&(t=!1),t?{mounted:e}:{beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n)if(t.i18n instanceof J){if(t.__i18nBridge||t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{},i=t.__i18nBridge||t.__i18n;i.forEach((function(t){e=v(e,JSON.parse(t))})),Object.keys(e).forEach((function(i){t.i18n.mergeLocaleMessage(i,e[i])}))}catch(u){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(l(t.i18n)){var a=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J?this.$root.$i18n:null;if(a&&(t.i18n.root=this.$root,t.i18n.formatter=a.formatter,t.i18n.fallbackLocale=a.fallbackLocale,t.i18n.formatFallbackMessages=a.formatFallbackMessages,t.i18n.silentTranslationWarn=a.silentTranslationWarn,t.i18n.silentFallbackWarn=a.silentFallbackWarn,t.i18n.pluralizationRules=a.pluralizationRules,t.i18n.preserveDirectiveContent=a.preserveDirectiveContent),t.__i18nBridge||t.__i18n)try{var n=t.i18n&&t.i18n.messages?t.i18n.messages:{},r=t.__i18nBridge||t.__i18n;r.forEach((function(t){n=v(n,JSON.parse(t))})),t.i18n.messages=n}catch(u){0}var s=t.i18n,o=s.sharedMessages;o&&l(o)&&(t.i18n.messages=v(t.i18n.messages,o)),this._i18n=new J(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),a&&a.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof J&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n?(t.i18n instanceof J||l(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof J||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof J)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}}}(e.bridge)),k.directive("t",{bind:S,update:T,unbind:O}),k.component(x.name,x),k.component(D.name,D);var i=k.config.optionMergeStrategies;i.i18n=function(t,e){return void 0===e?t:e}}var j=function(){this._caches=Object.create(null)};j.prototype.interpolate=function(t,e){if(!e)return[t];var i=this._caches[t];return i||(i=function(t){var e=[],i=0,a="";while(i<t.length){var n=t[i++];if("{"===n){a&&e.push({type:"text",value:a}),a="";var r="";n=t[i++];while(void 0!==n&&"}"!==n)r+=n,n=t[i++];var s="}"===n,o=F.test(r)?"list":s&&L.test(r)?"named":"unknown";e.push({value:r,type:o})}else"%"===n?"{"!==t[i]&&(a+=n):a+=n}return a&&e.push({type:"text",value:a}),e}(t),this._caches[t]=i),function(t,e){var i=[],a=0,n=Array.isArray(e)?"list":s(e)?"named":"unknown";if("unknown"===n)return i;while(a<t.length){var r=t[a];switch(r.type){case"text":i.push(r.value);break;case"list":i.push(e[parseInt(r.value,10)]);break;case"named":"named"===n&&i.push(e[r.value]);break;case"unknown":0;break}a++}return i}(i,e)};var F=/^(?:\d)+/,L=/^(?:\w)+/;var E=[];E[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},E[1]={ws:[1],".":[2],"[":[4],eof:[7]},E[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},E[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},E[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},E[5]={"'":[4,0],eof:8,else:[5,0]},E[6]={'"':[4,0],eof:8,else:[6,0]};var q=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function R(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function B(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(function(t){return q.test(t)}(e)?function(t){var e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e!==i||34!==e&&39!==e?t:t.slice(1,-1)}(e):"*"+e)}var N=function(){this._cache=Object.create(null)};N.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=function(t){var e,i,a,n,r,s,o,u=[],c=-1,l=0,d=0,f=[];function h(){var e=t[c+1];if(5===l&&"'"===e||6===l&&'"'===e)return c++,a="\\"+e,f[0](),!0}f[1]=function(){void 0!==i&&(u.push(i),i=void 0)},f[0]=function(){void 0===i?i=a:i+=a},f[2]=function(){f[0](),d++},f[3]=function(){if(d>0)d--,l=4,f[0]();else{if(d=0,void 0===i)return!1;if(i=B(i),!1===i)return!1;f[1]()}};while(null!==l)if(c++,e=t[c],"\\"!==e||!h()){if(n=R(e),o=E[l],r=o[n]||o["else"]||8,8===r)return;if(l=r[0],s=f[r[1]],s&&(a=r[2],a=void 0===a?e:a,!1===s()))return;if(7===l)return u}}(t),e&&(this._cache[t]=e)),e||[]},N.prototype.getPathValue=function(t,e){if(!s(t))return null;var i=this.parsePath(e);if(0===i.length)return null;var a=i.length,n=t,r=0;while(r<a){var o=n[i[r]];if(void 0===o||null===o)return null;n=o,r++}return n};var z,W=/<\/?[\w\s="/.':;#-\/]+>/,U=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,V=/^@(?:\.([a-zA-Z]+))?:/,H=/[()]/g,G={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},Q=new j,J=function(t){var e=this;void 0===t&&(t={}),!k&&"undefined"!==typeof window&&window.Vue&&I(window.Vue);var i=t.locale||"en-US",a=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),n=t.messages||{},r=t.dateTimeFormats||t.datetimeFormats||{},s=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||Q,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._fallbackRootWithEmptyString=void 0===t.fallbackRootWithEmptyString||!!t.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new N,this._dataListeners=new Set,this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in t&&(this.__VUE_I18N_BRIDGE__=t.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(t,i){var a=Object.getPrototypeOf(e);if(a&&a.getChoiceIndex){var n=a.getChoiceIndex;return n.call(e,t,i)}return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,i]):function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0}(t,i)},this._exist=function(t,i){return!(!t||!i)&&(!d(e._path.getPathValue(t,i))||!!t[i])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(n).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,n[t])})),this._initVM({locale:i,fallbackLocale:a,messages:n,dateTimeFormats:r,numberFormats:s})},Y={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};J.prototype._checkLocaleMessage=function(t,e,i){var a=function(t,e,i,n){if(l(i))Object.keys(i).forEach((function(r){var s=i[r];l(s)?(n.push(r),n.push("."),a(t,e,s,n),n.pop(),n.pop()):(n.push(r),a(t,e,s,n),n.pop())}));else if(r(i))i.forEach((function(i,r){l(i)?(n.push("["+r+"]"),n.push("."),a(t,e,i,n),n.pop(),n.pop()):(n.push("["+r+"]"),a(t,e,i,n),n.pop())}));else if(u(i)){var s=W.test(i);if(s)n.join("")}};a(e,t,i,[])},J.prototype._initVM=function(t){var e=k.config.silent;k.config.silent=!0,this._vm=new k({data:t,__VUE18N__INSTANCE__:!0}),k.config.silent=e},J.prototype.destroyVM=function(){this._vm.$destroy()},J.prototype.subscribeDataChanging=function(t){this._dataListeners.add(t)},J.prototype.unsubscribeDataChanging=function(t){(function(t,e){if(t.delete(e));})(this._dataListeners,t)},J.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){var e=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}(t._dataListeners),i=e.length;while(i--)k.nextTick((function(){e[i]&&e[i].$forceUpdate()}))}),{deep:!0})},J.prototype.watchLocale=function(t){if(t){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,i=this._vm;return this.vm.$watch("locale",(function(a){i.$set(i,"locale",a),e.__VUE_I18N_BRIDGE__&&t&&(t.locale.value=a),i.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var a=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){a.$set(a,"locale",t),a.$forceUpdate()}),{immediate:!0})},J.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},Y.vm.get=function(){return this._vm},Y.messages.get=function(){return p(this._getMessages())},Y.dateTimeFormats.get=function(){return p(this._getDateTimeFormats())},Y.numberFormats.get=function(){return p(this._getNumberFormats())},Y.availableLocales.get=function(){return Object.keys(this.messages).sort()},Y.locale.get=function(){return this._vm.locale},Y.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},Y.fallbackLocale.get=function(){return this._vm.fallbackLocale},Y.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},Y.formatFallbackMessages.get=function(){return this._formatFallbackMessages},Y.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},Y.missing.get=function(){return this._missing},Y.missing.set=function(t){this._missing=t},Y.formatter.get=function(){return this._formatter},Y.formatter.set=function(t){this._formatter=t},Y.silentTranslationWarn.get=function(){return this._silentTranslationWarn},Y.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},Y.silentFallbackWarn.get=function(){return this._silentFallbackWarn},Y.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},Y.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},Y.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},Y.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},Y.warnHtmlInMessage.set=function(t){var e=this,i=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,i!==t&&("warn"===t||"error"===t)){var a=this._getMessages();Object.keys(a).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,a[t])}))}},Y.postTranslation.get=function(){return this._postTranslation},Y.postTranslation.set=function(t){this._postTranslation=t},Y.sync.get=function(){return this._sync},Y.sync.set=function(t){this._sync=t},J.prototype._getMessages=function(){return this._vm.messages},J.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},J.prototype._getNumberFormats=function(){return this._vm.numberFormats},J.prototype._warnDefault=function(t,e,i,a,n,r){if(!d(i))return i;if(this._missing){var s=this._missing.apply(null,[t,e,a,n]);if(u(s))return s}else 0;if(this._formatFallbackMessages){var o=h.apply(void 0,n);return this._render(e,r,o.params,e)}return e},J.prototype._isFallbackRoot=function(t){return(this._fallbackRootWithEmptyString?!t:d(t))&&!d(this._root)&&this._fallbackRoot},J.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},J.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},J.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},J.prototype._interpolate=function(t,e,i,a,n,s,o){if(!e)return null;var c,h=this._path.getPathValue(e,i);if(r(h)||l(h))return h;if(d(h)){if(!l(e))return null;if(c=e[i],!u(c)&&!f(c))return null}else{if(!u(h)&&!f(h))return null;c=h}return u(c)&&(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(t,e,c,a,"raw",s,o)),this._render(c,n,s,i)},J.prototype._link=function(t,e,i,a,n,s,o){var u=i,c=u.match(U);for(var l in c)if(c.hasOwnProperty(l)){var d=c[l],f=d.match(V),h=f[0],p=f[1],g=d.replace(h,"").replace(H,"");if(m(o,g))return u;o.push(g);var _=this._interpolate(t,e,g,a,"raw"===n?"string":n,"raw"===n?void 0:s,o);if(this._isFallbackRoot(_)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;_=v._translate(v._getMessages(),v.locale,v.fallbackLocale,g,a,n,s)}_=this._warnDefault(t,g,_,a,r(s)?s:[s],n),this._modifiers.hasOwnProperty(p)?_=this._modifiers[p](_):G.hasOwnProperty(p)&&(_=G[p](_)),o.pop(),u=_?u.replace(d,_):u}return u},J.prototype._createMessageContext=function(t,e,i,a){var n=this,o=r(t)?t:[],u=s(t)?t:{},c=this._getMessages(),l=this.locale;return{list:function(t){return o[t]},named:function(t){return u[t]},values:t,formatter:e,path:i,messages:c,locale:l,linked:function(t){return n._interpolate(l,c[l]||{},t,null,a,void 0,[t])}}},J.prototype._render=function(t,e,i,a){if(f(t))return t(this._createMessageContext(i,this._formatter||Q,a,e));var n=this._formatter.interpolate(t,i,a);return n||(n=Q.interpolate(t,i,a)),"string"!==e||u(n)?n:n.join("")},J.prototype._appendItemToChain=function(t,e,i){var a=!1;return m(t,e)||(a=!0,e&&(a="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),i&&i[e]&&(a=i[e]))),a},J.prototype._appendLocaleToChain=function(t,e,i){var a,n=e.split("-");do{var r=n.join("-");a=this._appendItemToChain(t,r,i),n.splice(-1,1)}while(n.length&&!0===a);return a},J.prototype._appendBlockToChain=function(t,e,i){for(var a=!0,n=0;n<e.length&&o(a);n++){var r=e[n];u(r)&&(a=this._appendLocaleToChain(t,r,i))}return a},J.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var i=this._localeChainCache[t];if(!i){e||(e=this.fallbackLocale),i=[];var a,n=[t];while(r(n))n=this._appendBlockToChain(i,n,e);a=r(e)?e:s(e)?e["default"]?e["default"]:null:e,n=u(a)?[a]:a,n&&this._appendBlockToChain(i,n,null),this._localeChainCache[t]=i}return i},J.prototype._translate=function(t,e,i,a,n,r,s){for(var o,u=this._getLocaleChain(e,i),c=0;c<u.length;c++){var l=u[c];if(o=this._interpolate(l,t[l],a,n,r,s,[a]),!d(o))return o}return null},J.prototype._t=function(t,e,i,a){var n,r=[],s=arguments.length-4;while(s-- >0)r[s]=arguments[s+4];if(!t)return"";var o=h.apply(void 0,r);this._escapeParameterHtml&&(o.params=y(o.params));var u=o.locale||e,c=this._translate(i,u,this.fallbackLocale,t,a,"string",o.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(n=this._root).$t.apply(n,[t].concat(r))}return c=this._warnDefault(u,t,c,a,r,"string"),this._postTranslation&&null!==c&&void 0!==c&&(c=this._postTranslation(c,t)),c},J.prototype.t=function(t){var e,i=[],a=arguments.length-1;while(a-- >0)i[a]=arguments[a+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(i))},J.prototype._i=function(t,e,i,a,n){var r=this._translate(i,e,this.fallbackLocale,t,a,"raw",n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,n)}return this._warnDefault(e,t,r,a,[n],"raw")},J.prototype.i=function(t,e,i){return t?(u(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,i)):""},J.prototype._tc=function(t,e,i,a,n){var r,s=[],o=arguments.length-5;while(o-- >0)s[o]=arguments[o+5];if(!t)return"";void 0===n&&(n=1);var u={count:n,n:n},c=h.apply(void 0,s);return c.params=Object.assign(u,c.params),s=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((r=this)._t.apply(r,[t,e,i,a].concat(s)),n)},J.prototype.fetchChoice=function(t,e){if(!t||!u(t))return null;var i=t.split("|");return e=this.getChoiceIndex(e,i.length),i[e]?i[e].trim():t},J.prototype.tc=function(t,e){var i,a=[],n=arguments.length-2;while(n-- >0)a[n]=arguments[n+2];return(i=this)._tc.apply(i,[t,this.locale,this._getMessages(),null,e].concat(a))},J.prototype._te=function(t,e,i){var a=[],n=arguments.length-3;while(n-- >0)a[n]=arguments[n+3];var r=h.apply(void 0,a).locale||e;return this._exist(i[r],t)},J.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},J.prototype.getLocaleMessage=function(t){return p(this._vm.messages[t]||{})},J.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},J.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,v("undefined"!==typeof this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?Object.assign({},this._vm.messages[t]):{},e))},J.prototype.getDateTimeFormat=function(t){return p(this._vm.dateTimeFormats[t]||{})},J.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},J.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,v(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},J.prototype._clearDateTimeFormat=function(t,e){for(var i in e){var a=t+"__"+i;this._dateTimeFormatters.hasOwnProperty(a)&&delete this._dateTimeFormatters[a]}},J.prototype._localizeDateTime=function(t,e,i,a,n,r){for(var s=e,o=a[s],u=this._getLocaleChain(e,i),c=0;c<u.length;c++){var l=u[c];if(o=a[l],s=l,!d(o)&&!d(o[n]))break}if(d(o)||d(o[n]))return null;var f,h=o[n];if(r)f=new Intl.DateTimeFormat(s,Object.assign({},h,r));else{var p=s+"__"+n;f=this._dateTimeFormatters[p],f||(f=this._dateTimeFormatters[p]=new Intl.DateTimeFormat(s,h))}return f.format(t)},J.prototype._d=function(t,e,i,a){if(!i){var n=a?new Intl.DateTimeFormat(e,a):new Intl.DateTimeFormat(e);return n.format(t)}var r=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),i,a);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,i,e)}return r||""},J.prototype.d=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var a=this.locale,r=null,o=null;return 1===e.length?(u(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(a=e[0].locale),e[0].key&&(r=e[0].key)),o=Object.keys(e[0]).reduce((function(t,i){var a;return m(n,i)?Object.assign({},t,(a={},a[i]=e[0][i],a)):t}),null)):2===e.length&&(u(e[0])&&(r=e[0]),u(e[1])&&(a=e[1])),this._d(t,a,r,o)},J.prototype.getNumberFormat=function(t){return p(this._vm.numberFormats[t]||{})},J.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},J.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,v(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},J.prototype._clearNumberFormat=function(t,e){for(var i in e){var a=t+"__"+i;this._numberFormatters.hasOwnProperty(a)&&delete this._numberFormatters[a]}},J.prototype._getNumberFormatter=function(t,e,i,a,n,r){for(var s=e,o=a[s],u=this._getLocaleChain(e,i),c=0;c<u.length;c++){var l=u[c];if(o=a[l],s=l,!d(o)&&!d(o[n]))break}if(d(o)||d(o[n]))return null;var f,h=o[n];if(r)f=new Intl.NumberFormat(s,Object.assign({},h,r));else{var p=s+"__"+n;f=this._numberFormatters[p],f||(f=this._numberFormatters[p]=new Intl.NumberFormat(s,h))}return f},J.prototype._n=function(t,e,i,a){if(!J.availabilities.numberFormat)return"";if(!i){var n=a?new Intl.NumberFormat(e,a):new Intl.NumberFormat(e);return n.format(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),i,a),s=r&&r.format(t);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:i,locale:e},a))}return s||""},J.prototype.n=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var n=this.locale,r=null,o=null;return 1===e.length?u(e[0])?r=e[0]:s(e[0])&&(e[0].locale&&(n=e[0].locale),e[0].key&&(r=e[0].key),o=Object.keys(e[0]).reduce((function(t,i){var n;return m(a,i)?Object.assign({},t,(n={},n[i]=e[0][i],n)):t}),null)):2===e.length&&(u(e[0])&&(r=e[0]),u(e[1])&&(n=e[1])),this._n(t,n,r,o)},J.prototype._ntp=function(t,e,i,a){if(!J.availabilities.numberFormat)return[];if(!i){var n=a?new Intl.NumberFormat(e,a):new Intl.NumberFormat(e);return n.formatToParts(t)}var r=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),i,a),s=r&&r.formatToParts(t);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,i,a)}return s||[]},Object.defineProperties(J.prototype,Y),Object.defineProperty(J,"availabilities",{get:function(){if(!z){var t="undefined"!==typeof Intl;z={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return z}}),J.install=I,J.version="8.28.2",e["default"]=J},a959:function(t,e,i){"use strict";i.r(e);var a=i("9b32"),n=i("bb79");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},a9ce:function(t,e,i){"use strict";i.r(e);var a=i("4e96"),n=i("dc57");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},a9ff:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("278c")),o=n(i("7037")),u=n(i("448a")),c=n(i("c973")),l=n(i("9523")),d=n(i("970b")),f=n(i("5bc3")),h=n(i("ed6d")),p=n(i("6b58")),m=n(i("36c6")),g=n(i("a128")),_=i("37dc"),v=n(i("8330"));function b(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){(0,l.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,a=(0,m.default)(t);if(e){var n=(0,m.default)(this).constructor;i=Reflect.construct(a,arguments,n)}else i=a.apply(this,arguments);return(0,p.default)(this,i)}}function $(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&i.path)}},i.exports),i.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var k=$((function(t,e){var i;t.exports=(i=i||function(t,e){var i=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),a={},n=a.lib={},r=n.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,i=t.words,a=this.sigBytes,n=t.sigBytes;if(this.clamp(),a%4)for(var r=0;r<n;r++){var s=i[r>>>2]>>>24-r%4*8&255;e[a+r>>>2]|=s<<24-(a+r)%4*8}else for(r=0;r<n;r+=4)e[a+r>>>2]=i[r>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i,a=[],n=function(e){e=e;var i=987654321,a=4294967295;return function(){var n=((i=36969*(65535&i)+(i>>16)&a)<<16)+(e=18e3*(65535&e)+(e>>16)&a)&a;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},r=0;r<e;r+=4){var o=n(4294967296*(i||t.random()));i=987654071*o(),a.push(4294967296*o()|0)}return new s.init(a,e)}}),o=a.enc={},u=o.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,a=[],n=0;n<i;n++){var r=e[n>>>2]>>>24-n%4*8&255;a.push((r>>>4).toString(16)),a.push((15&r).toString(16))}return a.join("")},parse:function(t){for(var e=t.length,i=[],a=0;a<e;a+=2)i[a>>>3]|=parseInt(t.substr(a,2),16)<<24-a%8*4;return new s.init(i,e/2)}},c=o.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,a=[],n=0;n<i;n++){var r=e[n>>>2]>>>24-n%4*8&255;a.push(String.fromCharCode(r))}return a.join("")},parse:function(t){for(var e=t.length,i=[],a=0;a<e;a++)i[a>>>2]|=(255&t.charCodeAt(a))<<24-a%4*8;return new s.init(i,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,a=i.words,n=i.sigBytes,r=this.blockSize,o=n/(4*r),u=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*r,c=t.min(4*u,n);if(u){for(var l=0;l<u;l+=r)this._doProcessBlock(a,l);var d=a.splice(0,u);i.sigBytes-=c}return new s.init(d,c)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=d.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new f.HMAC.init(t,i).finalize(e)}}});var f=a.algo={};return a}(Math),i)})),D=k,S=($((function(t,e){var i;t.exports=(i=D,function(t){var e=i,a=e.lib,n=a.WordArray,r=a.Hasher,s=e.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var a=e+i,n=t[a];t[a]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var r=this._hash.words,s=t[e+0],u=t[e+1],h=t[e+2],p=t[e+3],m=t[e+4],g=t[e+5],_=t[e+6],v=t[e+7],b=t[e+8],y=t[e+9],x=t[e+10],w=t[e+11],C=t[e+12],$=t[e+13],k=t[e+14],D=t[e+15],S=r[0],T=r[1],O=r[2],P=r[3];S=c(S,T,O,P,s,7,o[0]),P=c(P,S,T,O,u,12,o[1]),O=c(O,P,S,T,h,17,o[2]),T=c(T,O,P,S,p,22,o[3]),S=c(S,T,O,P,m,7,o[4]),P=c(P,S,T,O,g,12,o[5]),O=c(O,P,S,T,_,17,o[6]),T=c(T,O,P,S,v,22,o[7]),S=c(S,T,O,P,b,7,o[8]),P=c(P,S,T,O,y,12,o[9]),O=c(O,P,S,T,x,17,o[10]),T=c(T,O,P,S,w,22,o[11]),S=c(S,T,O,P,C,7,o[12]),P=c(P,S,T,O,$,12,o[13]),O=c(O,P,S,T,k,17,o[14]),S=l(S,T=c(T,O,P,S,D,22,o[15]),O,P,u,5,o[16]),P=l(P,S,T,O,_,9,o[17]),O=l(O,P,S,T,w,14,o[18]),T=l(T,O,P,S,s,20,o[19]),S=l(S,T,O,P,g,5,o[20]),P=l(P,S,T,O,x,9,o[21]),O=l(O,P,S,T,D,14,o[22]),T=l(T,O,P,S,m,20,o[23]),S=l(S,T,O,P,y,5,o[24]),P=l(P,S,T,O,k,9,o[25]),O=l(O,P,S,T,p,14,o[26]),T=l(T,O,P,S,b,20,o[27]),S=l(S,T,O,P,$,5,o[28]),P=l(P,S,T,O,h,9,o[29]),O=l(O,P,S,T,v,14,o[30]),S=d(S,T=l(T,O,P,S,C,20,o[31]),O,P,g,4,o[32]),P=d(P,S,T,O,b,11,o[33]),O=d(O,P,S,T,w,16,o[34]),T=d(T,O,P,S,k,23,o[35]),S=d(S,T,O,P,u,4,o[36]),P=d(P,S,T,O,m,11,o[37]),O=d(O,P,S,T,v,16,o[38]),T=d(T,O,P,S,x,23,o[39]),S=d(S,T,O,P,$,4,o[40]),P=d(P,S,T,O,s,11,o[41]),O=d(O,P,S,T,p,16,o[42]),T=d(T,O,P,S,_,23,o[43]),S=d(S,T,O,P,y,4,o[44]),P=d(P,S,T,O,C,11,o[45]),O=d(O,P,S,T,D,16,o[46]),S=f(S,T=d(T,O,P,S,h,23,o[47]),O,P,s,6,o[48]),P=f(P,S,T,O,v,10,o[49]),O=f(O,P,S,T,k,15,o[50]),T=f(T,O,P,S,g,21,o[51]),S=f(S,T,O,P,C,6,o[52]),P=f(P,S,T,O,p,10,o[53]),O=f(O,P,S,T,x,15,o[54]),T=f(T,O,P,S,u,21,o[55]),S=f(S,T,O,P,b,6,o[56]),P=f(P,S,T,O,D,10,o[57]),O=f(O,P,S,T,_,15,o[58]),T=f(T,O,P,S,$,21,o[59]),S=f(S,T,O,P,m,6,o[60]),P=f(P,S,T,O,w,10,o[61]),O=f(O,P,S,T,h,15,o[62]),T=f(T,O,P,S,y,21,o[63]),r[0]=r[0]+S|0,r[1]=r[1]+T|0,r[2]=r[2]+O|0,r[3]=r[3]+P|0},_doFinalize:function(){var e=this._data,i=e.words,a=8*this._nDataBytes,n=8*e.sigBytes;i[n>>>5]|=128<<24-n%32;var r=t.floor(a/4294967296),s=a;i[15+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(i.length+1),this._process();for(var o=this._hash,u=o.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,i,a,n,r,s){var o=t+(e&i|~e&a)+n+s;return(o<<r|o>>>32-r)+e}function l(t,e,i,a,n,r,s){var o=t+(e&a|i&~a)+n+s;return(o<<r|o>>>32-r)+e}function d(t,e,i,a,n,r,s){var o=t+(e^i^a)+n+s;return(o<<r|o>>>32-r)+e}function f(t,e,i,a,n,r,s){var o=t+(i^(e|~a))+n+s;return(o<<r|o>>>32-r)+e}e.MD5=r._createHelper(u),e.HmacMD5=r._createHmacHelper(u)}(Math),i.MD5)})),$((function(t,e){var i;t.exports=(i=D,void function(){var t=i,e=t.lib.Base,a=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var r=this._oKey=e.clone(),s=this._iKey=e.clone(),o=r.words,u=s.words,c=0;c<i;c++)o[c]^=1549556828,u[c]^=909522486;r.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})}())})),$((function(t,e){t.exports=D.HmacMD5}))),T=$((function(t,e){t.exports=D.enc.Utf8})),O=$((function(t,e){var i;t.exports=(i=D,function(){var t=i,e=t.lib.WordArray;function a(t,i,a){for(var n=[],r=0,s=0;s<i;s++)if(s%4){var o=a[t.charCodeAt(s-1)]<<s%4*2,u=a[t.charCodeAt(s)]>>>6-s%4*2;n[r>>>2]|=(o|u)<<24-r%4*8,r++}return e.create(n,r)}t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,a=this._map;t.clamp();for(var n=[],r=0;r<i;r+=3)for(var s=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<i;o++)n.push(a.charAt(s>>>6*(3-o)&63));var u=a.charAt(64);if(u)for(;n.length%4;)n.push(u);return n.join("")},parse:function(t){var e=t.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var r=0;r<i.length;r++)n[i.charCodeAt(r)]=r}var s=i.charAt(64);if(s){var o=t.indexOf(s);-1!==o&&(e=o)}return a(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)})),P="FUNCTION",M="OBJECT";function A(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function I(t){return"object"===A(t)}function j(t){return"function"==typeof t}function F(t){return function(){try{return t.apply(t,arguments)}catch(t){}}}function L(t){return t&&"string"==typeof t?JSON.parse(t):t}var E,q=L([]);E="app";L(void 0);var R=L([{provider:"aliyun",spaceName:"lixing",spaceId:"mp-1541844f-f987-49ee-9a20-ae18bd390e1a",clientSecret:"bnZbIpQrWLu9Znam5HTE3A==",endpoint:"https://api.next.bspapp.com"}])||[];try{var B=i("a586").default||i("a586");B.appid}catch(Ji){}var N={};function z(t){var e,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=N,i=t,Object.prototype.hasOwnProperty.call(e,i)||(N[t]=a),N[t]}"app"===E&&(N=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var W=["invoke","success","fail","complete"],U=z("_globalUniCloudInterceptor");function V(t,e){U[t]||(U[t]={}),I(e)&&Object.keys(e).forEach((function(i){W.indexOf(i)>-1&&function(t,e,i){var a=U[t][e];a||(a=U[t][e]=[]),-1===a.indexOf(i)&&j(i)&&a.push(i)}(t,i,e[i])}))}function H(t,e){U[t]||(U[t]={}),I(e)?Object.keys(e).forEach((function(i){W.indexOf(i)>-1&&function(t,e,i){var a=U[t][e];if(a){var n=a.indexOf(i);n>-1&&a.splice(n,1)}}(t,i,e[i])})):delete U[t]}function G(t,e){return t&&0!==t.length?t.reduce((function(t,i){return t.then((function(){return i(e)}))}),Promise.resolve()):Promise.resolve()}function Q(t,e){return U[t]&&U[t][e]||[]}function J(t){V("callObject",t)}var Y=z("_globalUniCloudListener"),X="response",K="needLogin",Z="refreshToken",tt="clientdb",et="cloudfunction",it="cloudobject";function at(t){return Y[t]||(Y[t]=[]),Y[t]}function nt(t,e){var i=at(t);i.includes(e)||i.push(e)}function rt(t,e){var i=at(t),a=i.indexOf(e);-1!==a&&i.splice(a,1)}function st(t,e){for(var i=at(t),a=0;a<i.length;a++)(0,i[a])(e)}var ot,ut=!1;function ct(){return ot||(ot=new Promise((function(t){ut&&t(),function e(){if("function"==typeof getCurrentPages){var i=getCurrentPages();i&&i[0]&&(ut=!0,t())}ut||setTimeout((function(){e()}),30)}()})),ot)}function lt(t){var e={};for(var i in t){var a=t[i];j(a)&&(e[i]=F(a))}return e}function dt(t,e){return e?function(i){var a=this,n=!1;if("callFunction"===e){var r=i&&i.type||P;n=r!==P}var s,o="callFunction"===e&&!n;s=this.isReady?Promise.resolve():this.initUniCloud,i=i||{};var u=lt(i),c=u.success,l=u.fail,d=u.complete,f=s.then((function(){return n?Promise.resolve():G(Q(e,"invoke"),i)})).then((function(){return t.call(a,i)})).then((function(t){return n?Promise.resolve(t):G(Q(e,"success"),t).then((function(){return G(Q(e,"complete"),t)})).then((function(){return o&&st(X,{type:et,content:t}),Promise.resolve(t)}))}),(function(t){return n?Promise.reject(t):G(Q(e,"fail"),t).then((function(){return G(Q(e,"complete"),t)})).then((function(){return st(X,{type:et,content:t}),Promise.reject(t)}))}));if(!(c||l||d))return f;f.then((function(t){c&&c(t),d&&d(t),o&&st(X,{type:et,content:t})}),(function(t){l&&l(t),d&&d(t),o&&st(X,{type:et,content:t})}))}:function(e){e=e||{};var i=lt(e),a=i.success,n=i.fail,r=i.complete;if(!(a||n||r))return t.call(this,e);t.call(this,e).then((function(t){a&&a(t),r&&r(t)}),(function(t){n&&n(t),r&&r(t)}))}}var ft,ht,pt=function(t){(0,h.default)(i,t);var e=C(i);function i(t){var a;return(0,d.default)(this,i),a=e.call(this,t.message),a.errMsg=t.message||t.errMsg||"unknown system error",a.code=a.errCode=t.code||t.errCode||"SYSTEM_ERROR",a.errSubject=a.subject=t.subject||t.errSubject,a.cause=t.cause,a.requestId=t.requestId,a}return(0,f.default)(i,[{key:"toJson",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}]),i}((0,g.default)(Error)),mt={request:function(t){return uni.request(t)},uploadFile:function(t){return uni.uploadFile(t)},setStorageSync:function(t,e){return uni.setStorageSync(t,e)},getStorageSync:function(t){return uni.getStorageSync(t)},removeStorageSync:function(t){return uni.removeStorageSync(t)},clearStorageSync:function(){return uni.clearStorageSync()}};function gt(){return{token:mt.getStorageSync("uni_id_token")||mt.getStorageSync("uniIdToken"),tokenExpired:mt.getStorageSync("uni_id_token_expired")}}function _t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,i=t.tokenExpired;e&&mt.setStorageSync("uni_id_token",e),i&&mt.setStorageSync("uni_id_token_expired",i)}function vt(){return ft||(ft=uni.getSystemInfoSync()),ft}function bt(){var t=uni.getLocale&&uni.getLocale()||"en";if(ht)return w(w({},ht),{},{locale:t,LOCALE:t});for(var e=vt(),i=e.deviceId,a=e.osName,n=e.uniPlatform,r=e.appId,s=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"],o=0;o<s.length;o++)delete e[s[o]];return ht=w(w({PLATFORM:n,OS:a,APPID:r,DEVICEID:i},function(){var t,e;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;var i=uni.getLaunchOptionsSync(),a=i.scene,n=i.channel;t=n,e=a}}catch(t){}return{channel:t,scene:e}}()),e),w(w({},ht),{},{locale:t,LOCALE:t})}var yt,xt={sign:function(t,e){var i="";return Object.keys(t).sort().forEach((function(e){t[e]&&(i=i+"&"+e+"="+t[e])})),i=i.slice(1),S(i,e).toString()},wrappedRequest:function(t,e){return new Promise((function(i,a){e(Object.assign(t,{complete:function(t){t||(t={});var e=t.data&&t.data.header&&t.data.header["x-serverless-request-id"]||t.header&&t.header["request-id"];if(!t.statusCode||t.statusCode>=400)return a(new pt({code:"SYS_ERR",message:t.errMsg||"request:fail",requestId:e}));var n=t.data;if(n.error)return a(new pt({code:n.error.code,message:n.error.message,requestId:e}));n.result=n.data,n.requestId=e,delete n.data,i(n)}}))}))},toBase64:function(t){return O.stringify(T.parse(t))}},wt={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},Ct=(0,_.initVueI18n)({"zh-Hans":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},"zh-Hant":{"uniCloud.init.paramRequired":"\u7f3a\u5c11\u53c2\u6570\uff1a{param}","uniCloud.uploadFile.fileError":"filePath\u5e94\u4e3aFile\u5bf9\u8c61"},en:wt,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:wt},"zh-Hans"),$t=Ct.t,kt=function(){function t(e){(0,d.default)(this,t),["spaceId","clientSecret"].forEach((function(t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error($t("uniCloud.init.paramRequired",{param:t}))})),this.config=Object.assign({},{endpoint:"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=mt,this._getAccessTokenPromise=null,this._getAccessTokenPromiseStatus=null}return(0,f.default)(t,[{key:"hasAccessToken",get:function(){return!!this.accessToken}},{key:"setAccessToken",value:function(t){this.accessToken=t}},{key:"requestWrapped",value:function(t){return xt.wrappedRequest(t,this.adapter.request)}},{key:"requestAuth",value:function(t){return this.requestWrapped(t)}},{key:"request",value:function(t,e){var i=this;return Promise.resolve().then((function(){return i.hasAccessToken?e?i.requestWrapped(t):i.requestWrapped(t).catch((function(e){return new Promise((function(t,i){!e||"GATEWAY_INVALID_TOKEN"!==e.code&&"InvalidParameter.InvalidToken"!==e.code?i(e):t()})).then((function(){return i.getAccessToken()})).then((function(){var e=i.rebuildRequest(t);return i.request(e,!0)}))})):i.getAccessToken().then((function(){var e=i.rebuildRequest(t);return i.request(e,!0)}))}))}},{key:"rebuildRequest",value:function(t){var e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=xt.sign(e.data,this.config.clientSecret),e}},{key:"setupRequest",value:function(t,e){var i=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),a={"Content-Type":"application/json"};return"auth"!==e&&(i.token=this.accessToken,a["x-basement-token"]=this.accessToken),a["x-serverless-sign"]=xt.sign(i,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:a}}},{key:"getAccessToken",value:function(){var t=this;return"pending"===this._getAccessTokenPromiseStatus||(this._getAccessTokenPromiseStatus="pending",this._getAccessTokenPromise=this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){return new Promise((function(i,a){e.result&&e.result.accessToken?(t.setAccessToken(e.result.accessToken),t._getAccessTokenPromiseStatus="fulfilled",i(t.accessToken)):(t._getAccessTokenPromiseStatus="rejected",a(new pt({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"})))}))}),(function(e){return t._getAccessTokenPromiseStatus="rejected",Promise.reject(e)}))),this._getAccessTokenPromise}},{key:"authorize",value:function(){this.getAccessToken()}},{key:"callFunction",value:function(t){var e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}},{key:"getOSSUploadOptionsFromPath",value:function(t){var e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFileToOSS",value:function(t){var e=this,i=t.url,a=t.formData,n=t.name,r=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,u){var c=e.adapter.uploadFile({url:i,formData:a,name:n,filePath:r,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(e){e&&e.statusCode<400?t(e):u(new pt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){u(new pt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(t){var e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}},{key:"uploadFile",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a,n,s,o,u,c,l,d,f,h,p,m,g,_,v,b,y,x,w;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.filePath,a=e.cloudPath,n=e.fileType,s=void 0===n?"image":n,o=e.onUploadProgress,u=e.config,"string"===A(a)){t.next=3;break}throw new pt({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});case 3:if(a=a.trim()){t.next=5;break}throw new pt({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});case 5:if(!/:\/\//.test(a)){t.next=7;break}throw new pt({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});case 7:return c=u&&u.envType||this.config.envType,t.next=10,this.getOSSUploadOptionsFromPath({env:c,filename:a});case 10:return l=t.sent.result,d="https://"+l.cdnDomain+"/"+l.ossPath,f=l.securityToken,h=l.accessKeyId,p=l.signature,m=l.host,g=l.ossPath,_=l.id,v=l.policy,b=l.ossCallbackUrl,y={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:h,Signature:p,host:m,id:_,key:g,policy:v,success_action_status:200},f&&(y["x-oss-security-token"]=f),b&&(x=JSON.stringify({callbackUrl:b,callbackBody:JSON.stringify({fileId:_,spaceId:this.config.spaceId}),callbackBodyType:"application/json"}),y.callback=xt.toBase64(x)),w={url:"https://"+l.host,formData:y,fileName:"file",name:"file",filePath:i,fileType:s},t.next=25,this.uploadFileToOSS(Object.assign({},w,{onUploadProgress:o}));case 25:if(!b){t.next=27;break}return t.abrupt("return",{success:!0,filePath:i,fileID:d});case 27:return t.next=29,this.reportOSSUpload({id:_});case 29:if(!t.sent.success){t.next=31;break}return t.abrupt("return",{success:!0,filePath:i,fileID:d});case 31:throw new pt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"});case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;return new Promise((function(t,i){Array.isArray(e)&&0!==e.length||i(new pt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),t({fileList:e.map((function(t){return{fileID:t,tempFileURL:t}}))})}))}},{key:"getFileInfo",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:{},i=e.fileList,Array.isArray(i)&&0!==i.length){t.next=3;break}throw new pt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});case 3:return a={method:"serverless.file.resource.info",params:JSON.stringify({id:i.map((function(t){return t.split("?")[0]})).join(",")})},t.next=6,this.request(this.setupRequest(a));case 6:return t.t0=t.sent.result,t.abrupt("return",{fileList:t.t0});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),Dt={init:function(t){var e=new kt(t),i={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return i},e.customAuth=e.auth,e}},St="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(t){t.local="local",t.none="none",t.session="session"}(yt||(yt={}));var Tt,Ot=function(){},Pt=function(){var t;if(!Promise){t=function(){},t.promise={};var e=function(){throw new pt({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(t.promise,"then",{get:e}),Object.defineProperty(t.promise,"catch",{get:e}),t}var i=new Promise((function(e,i){t=function(t,a){return t?i(t):e(a)}}));return t.promise=i,t};function Mt(t){return void 0===t}function At(t){return"[object Null]"===Object.prototype.toString.call(t)}!function(t){t.WEB="web",t.WX_MP="wx_mp"}(Tt||(Tt={}));var It={adapter:null,runtime:void 0},jt=["anonymousUuidKey"],Ft=function(t){(0,h.default)(i,t);var e=C(i);function i(){var t;return(0,d.default)(this,i),t=e.call(this),It.adapter.root.tcbObject||(It.adapter.root.tcbObject={}),t}return(0,f.default)(i,[{key:"setItem",value:function(t,e){It.adapter.root.tcbObject[t]=e}},{key:"getItem",value:function(t){return It.adapter.root.tcbObject[t]}},{key:"removeItem",value:function(t){delete It.adapter.root.tcbObject[t]}},{key:"clear",value:function(){delete It.adapter.root.tcbObject}}]),i}(Ot);function Lt(t,e){switch(t){case"local":return e.localStorage||new Ft;case"none":return new Ft;default:return e.sessionStorage||new Ft}}var Et=function(){function t(e){if((0,d.default)(this,t),!this._storage){this._persistence=It.adapter.primaryStorage||e.persistence,this._storage=Lt(this._persistence,It.adapter);var i="access_token_".concat(e.env),a="access_token_expire_".concat(e.env),n="refresh_token_".concat(e.env),r="anonymous_uuid_".concat(e.env),s="login_type_".concat(e.env),o="user_info_".concat(e.env);this.keys={accessTokenKey:i,accessTokenExpireKey:a,refreshTokenKey:n,anonymousUuidKey:r,loginTypeKey:s,userInfoKey:o}}}return(0,f.default)(t,[{key:"updatePersistence",value:function(t){if(t!==this._persistence){var e="local"===this._persistence;this._persistence=t;var i=Lt(t,It.adapter);for(var a in this.keys){var n=this.keys[a];if(!e||!jt.includes(a)){var r=this._storage.getItem(n);Mt(r)||At(r)||(i.setItem(n,r),this._storage.removeItem(n))}}this._storage=i}}},{key:"setStore",value:function(t,e,i){if(this._storage){var a={version:i||"localCachev1",content:e},n=JSON.stringify(a);try{this._storage.setItem(t,n)}catch(t){throw t}}}},{key:"getStore",value:function(t,e){try{if(!this._storage)return}catch(t){return""}e=e||"localCachev1";var i=this._storage.getItem(t);return i&&i.indexOf(e)>=0?JSON.parse(i).content:""}},{key:"removeStore",value:function(t){this._storage.removeItem(t)}}]),t}(),qt={},Rt={};function Bt(t){return qt[t]}var Nt=(0,f.default)((function t(e,i){(0,d.default)(this,t),this.data=i||null,this.name=e})),zt=function(t){(0,h.default)(i,t);var e=C(i);function i(t,a){var n;return(0,d.default)(this,i),n=e.call(this,"error",{error:t,data:a}),n.error=t,n}return(0,f.default)(i)}(Nt),Wt=new(function(){function t(){(0,d.default)(this,t),this._listeners={}}return(0,f.default)(t,[{key:"on",value:function(t,e){return function(t,e,i){i[t]=i[t]||[],i[t].push(e)}(t,e,this._listeners),this}},{key:"off",value:function(t,e){return function(t,e,i){if(i&&i[t]){var a=i[t].indexOf(e);-1!==a&&i[t].splice(a,1)}}(t,e,this._listeners),this}},{key:"fire",value:function(t,e){if(t instanceof zt)return this;var i="string"==typeof t?new Nt(t,e||{}):t,a=i.name;if(this._listens(a)){i.target=this;var n,r=this._listeners[a]?(0,u.default)(this._listeners[a]):[],s=b(r);try{for(s.s();!(n=s.n()).done;){var o=n.value;o.call(this,i)}}catch(c){s.e(c)}finally{s.f()}}return this}},{key:"_listens",value:function(t){return this._listeners[t]&&this._listeners[t].length>0}}]),t}());function Ut(t,e){Wt.on(t,e)}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wt.fire(t,e)}function Ht(t,e){Wt.off(t,e)}var Gt,Qt="loginStateChanged",Jt="loginStateExpire",Yt="loginTypeChanged",Xt="anonymousConverted",Kt="refreshAccessToken";!function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"}(Gt||(Gt={}));var Zt=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],te={"X-SDK-Version":"1.3.5"};function ee(t,e,i){var a=t[e];t[e]=function(e){var n={},r={};i.forEach((function(i){var a=i.call(t,e),s=a.data,o=a.headers;Object.assign(n,s),Object.assign(r,o)}));var s=e.data;return s&&function(){var t;if(t=s,"[object FormData]"!==Object.prototype.toString.call(t))e.data=w(w({},s),n);else for(var i in n)s.append(i,n[i])}(),e.headers=w(w({},e.headers||{}),r),a.call(t,e)}}function ie(){var t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:w(w({},te),{},{"x-seqid":t})}}var ae=function(){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.default)(this,t),this.config=i,this._reqClass=new It.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=Bt(this.config.env),this._localCache=(e=this.config.env,Rt[e]),ee(this._reqClass,"post",[ie]),ee(this._reqClass,"upload",[ie]),ee(this._reqClass,"download",[ie])}return(0,f.default)(t,[{key:"post",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.post(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"upload",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.upload(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"download",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._reqClass.download(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"refreshAccessToken",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),t.prev=1,t.next=4,this._refreshAccessTokenPromise;case 4:e=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),i=t.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!i){t.next=12;break}throw i;case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"_refreshAccessToken",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o,u,c,l,d,f,h,p;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,i=e.accessTokenKey,a=e.accessTokenExpireKey,n=e.refreshTokenKey,s=e.loginTypeKey,o=e.anonymousUuidKey,this._cache.removeStore(i),this._cache.removeStore(a),u=this._cache.getStore(n),u){t.next=5;break}throw new pt({message:"\u672a\u767b\u5f55CloudBase"});case 5:return c={refresh_token:u},t.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",c);case 8:if(l=t.sent,!l.data.code){t.next=21;break}if(d=l.data.code,"SIGN_PARAM_INVALID"!==d&&"REFRESH_TOKEN_EXPIRED"!==d&&"INVALID_REFRESH_TOKEN"!==d){t.next=20;break}if(this._cache.getStore(s)!==Gt.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==d){t.next=19;break}return f=this._cache.getStore(o),h=this._cache.getStore(n),t.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:h});case 17:return p=t.sent,t.abrupt("return",(this.setRefreshToken(p.refresh_token),this._refreshAccessToken()));case 19:Vt(Jt),this._cache.removeStore(n);case 20:throw new pt({code:l.data.code,message:"\u5237\u65b0access token\u5931\u8d25\uff1a".concat(l.data.code)});case 21:if(!l.data.access_token){t.next=23;break}return t.abrupt("return",(Vt(Kt),this._cache.setStore(i,l.data.access_token),this._cache.setStore(a,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire}));case 23:l.data.refresh_token&&(this._cache.removeStore(n),this._cache.setStore(n,l.data.refresh_token),this._refreshAccessToken());case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this._cache.keys,i=e.accessTokenKey,a=e.accessTokenExpireKey,n=e.refreshTokenKey,this._cache.getStore(n)){t.next=3;break}throw new pt({message:"refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38"});case 3:if(s=this._cache.getStore(i),o=this._cache.getStore(a),u=!0,t.t0=this._shouldRefreshAccessTokenHook,!t.t0){t.next=9;break}return t.next=8,this._shouldRefreshAccessTokenHook(s,o);case 8:t.t0=!t.sent;case 9:if(t.t1=t.t0,!t.t1){t.next=12;break}u=!1;case 12:return t.abrupt("return",(!s||!o||o<Date.now())&&u?this.refreshAccessToken():{accessToken:s,accessTokenExpire:o});case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"request",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i,a){var n,s,o,u,c,l,d,f,h,p,m,g,_,v,b,y;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="x-tcb-trace_".concat(this.config.env),s="application/x-www-form-urlencoded",o=w({action:e,env:this.config.env,dataVersion:"2019-08-16"},i),-1!==Zt.indexOf(e)){t.next=10;break}if(u=this._cache.keys.refreshTokenKey,t.t0=this._cache.getStore(u),!t.t0){t.next=10;break}return t.next=9,this.getAccessToken();case 9:o.access_token=t.sent.accessToken;case 10:if("storage.uploadFile"===e){for(l in c=new FormData,c)c.hasOwnProperty(l)&&void 0!==c[l]&&c.append(l,o[l]);s="multipart/form-data"}else for(d in s="application/json",c={},o)void 0!==o[d]&&(c[d]=o[d]);return f={headers:{"content-type":s}},a&&a.onUploadProgress&&(f.onUploadProgress=a.onUploadProgress),h=this._localCache.getStore(n),h&&(f.headers["X-TCB-Trace"]=h),p=i.parse,m=i.inQuery,g=i.search,_={env:this.config.env},p&&(_.parse=!0),m&&(_=w(w({},m),_)),v=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=/\?/.test(e),n="";for(var r in i)""===n?!a&&(e+="?"):n+="&",n+="".concat(r,"=").concat(encodeURIComponent(i[r]));return/^http(s)?\:\/\//.test(e+=n)?e:"".concat(t).concat(e)}(St,"//tcb-api.tencentcloudapi.com/web",_),g&&(v+=g),t.next=22,this.post(w({url:v,data:c},f));case 22:if(b=t.sent,y=b.header&&b.header["x-tcb-trace"],y&&this._localCache.setStore(n,y),(200===Number(b.status)||200===Number(b.statusCode))&&b.data){t.next=26;break}throw new pt({code:"NETWORK_ERROR",message:"network request error"});case 26:return t.abrupt("return",b);case 27:case"end":return t.stop()}}),t,this)})));return function(e,i,a){return t.apply(this,arguments)}}()},{key:"send",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a,n,s=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,this.request(e,i,{onUploadProgress:i.onUploadProgress});case 3:if(a=t.sent,"ACCESS_TOKEN_EXPIRED"!==a.data.code||-1!==Zt.indexOf(e)){t.next=13;break}return t.next=7,this.refreshAccessToken();case 7:return t.next=9,this.request(e,i,{onUploadProgress:i.onUploadProgress});case 9:if(n=t.sent,!n.data.code){t.next=12;break}throw new pt({code:n.data.code,message:n.data.message});case 12:return t.abrupt("return",n.data);case 13:if(!a.data.code){t.next=15;break}throw new pt({code:a.data.code,message:a.data.message});case 15:return t.abrupt("return",a.data);case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setRefreshToken",value:function(t){var e=this._cache.keys,i=e.accessTokenKey,a=e.accessTokenExpireKey,n=e.refreshTokenKey;this._cache.removeStore(i),this._cache.removeStore(a),this._cache.setStore(n,t)}}]),t}(),ne={};function re(t){return ne[t]}var se=function(){function t(e){(0,d.default)(this,t),this.config=e,this._cache=Bt(e.env),this._request=re(e.env)}return(0,f.default)(t,[{key:"setRefreshToken",value:function(t){var e=this._cache.keys,i=e.accessTokenKey,a=e.accessTokenExpireKey,n=e.refreshTokenKey;this._cache.removeStore(i),this._cache.removeStore(a),this._cache.setStore(n,t)}},{key:"setAccessToken",value:function(t,e){var i=this._cache.keys,a=i.accessTokenKey,n=i.accessTokenExpireKey;this._cache.setStore(a,t),this._cache.setStore(n,e)}},{key:"refreshUserInfo",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,i=e.data,t.abrupt("return",(this.setLocalUserInfo(i),i));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t)}}]),t}(),oe=function(){function t(e){if((0,d.default)(this,t),!e)throw new pt({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=e,this._cache=Bt(this._envId),this._request=re(this._envId),this.setUserInfo()}return(0,f.default)(t,[{key:"linkWithTicket",value:function(t){if("string"!=typeof t)throw new pt({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}},{key:"linkWithRedirect",value:function(t){t.signInWithRedirect()}},{key:"updatePassword",value:function(t,e){return this._request.send("auth.updatePassword",{oldPassword:e,newPassword:t})}},{key:"updateEmail",value:function(t){return this._request.send("auth.updateEmail",{newEmail:t})}},{key:"updateUsername",value:function(t){if("string"!=typeof t)throw new pt({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}},{key:"getLinkedUidList",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return e=t.sent,i=e.data,a=!1,n=i.users,t.abrupt("return",(n.forEach((function(t){t.wxOpenId&&t.wxPublicId&&(a=!0)})),{users:n,hasPrimaryUid:a}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setPrimaryUid",value:function(t){return this._request.send("auth.setPrimaryUid",{uid:t})}},{key:"unlink",value:function(t){return this._request.send("auth.unlink",{platform:t})}},{key:"update",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a,n,s,o,u,c,l;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.nickName,a=e.gender,n=e.avatarUrl,s=e.province,o=e.country,u=e.city,t.next=8,this._request.send("auth.updateUserInfo",{nickName:i,gender:a,avatarUrl:n,province:s,country:o,city:u});case 8:c=t.sent,l=c.data,this.setLocalUserInfo(l);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"refresh",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.send("auth.getUserInfo",{});case 2:return e=t.sent,i=e.data,t.abrupt("return",(this.setLocalUserInfo(i),i));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setUserInfo",value:function(){var t=this,e=this._cache.keys.userInfoKey,i=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(e){t[e]=i[e]})),this.location={country:i.country,province:i.province,city:i.city}}},{key:"setLocalUserInfo",value:function(t){var e=this._cache.keys.userInfoKey;this._cache.setStore(e,t),this.setUserInfo()}}]),t}(),ue=function(){function t(e){if((0,d.default)(this,t),!e)throw new pt({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Bt(e);var i=this._cache.keys,a=i.refreshTokenKey,n=i.accessTokenKey,r=i.accessTokenExpireKey,s=this._cache.getStore(a),o=this._cache.getStore(n),u=this._cache.getStore(r);this.credential={refreshToken:s,accessToken:o,accessTokenExpire:u},this.user=new oe(e)}return(0,f.default)(t,[{key:"isAnonymousAuth",get:function(){return this.loginType===Gt.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===Gt.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===Gt.WECHAT||this.loginType===Gt.WECHAT_OPEN||this.loginType===Gt.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),t}(),ce=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"signIn",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._cache.updatePersistence("local"),e=this._cache.keys,i=e.anonymousUuidKey,a=e.refreshTokenKey,n=this._cache.getStore(i)||void 0,s=this._cache.getStore(a)||void 0,t.next=8,this._request.send("auth.signInAnonymously",{anonymous_uuid:n,refresh_token:s});case 8:if(o=t.sent,!o.uuid||!o.refresh_token){t.next=20;break}return this._setAnonymousUUID(o.uuid),this.setRefreshToken(o.refresh_token),t.next=14,this._request.refreshAccessToken();case 14:return Vt(Qt),Vt(Yt,{env:this.config.env,loginType:Gt.ANONYMOUS,persistence:"local"}),u=new ue(this.config.env),t.next=19,u.user.refresh();case 19:return t.abrupt("return",u);case 20:throw new pt({message:"\u533f\u540d\u767b\u5f55\u5931\u8d25"});case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this._cache.keys,a=i.anonymousUuidKey,n=i.refreshTokenKey,s=this._cache.getStore(a),o=this._cache.getStore(n),t.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:s,refresh_token:o,ticket:e});case 7:if(u=t.sent,!u.refresh_token){t.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(u.refresh_token),t.next=13,this._request.refreshAccessToken();case 13:return Vt(Xt,{env:this.config.env}),Vt(Yt,{loginType:Gt.CUSTOM,persistence:"local"}),t.abrupt("return",{credential:{refreshToken:u.refresh_token}});case 16:throw new pt({message:"\u533f\u540d\u8f6c\u5316\u5931\u8d25"});case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_setAnonymousUUID",value:function(t){var e=this._cache.keys,i=e.anonymousUuidKey,a=e.loginTypeKey;this._cache.removeStore(i),this._cache.setStore(i,t),this._cache.setStore(a,Gt.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),i}(se),le=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"signIn",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new pt({code:"PARAM_ERROR",message:"ticket must be a string"});case 2:return i=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(i)||""});case 5:if(a=t.sent,!a.refresh_token){t.next=15;break}return this.setRefreshToken(a.refresh_token),t.next=10,this._request.refreshAccessToken();case 10:return Vt(Qt),Vt(Yt,{env:this.config.env,loginType:Gt.CUSTOM,persistence:this.config.persistence}),t.next=14,this.refreshUserInfo();case 14:return t.abrupt("return",new ue(this.config.env));case 15:throw new pt({message:"\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25"});case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),i}(se),de=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"signIn",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){var a,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new pt({code:"PARAM_ERROR",message:"email must be a string"});case 2:return a=this._cache.keys.refreshTokenKey,t.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:i,refresh_token:this._cache.getStore(a)||""});case 5:if(n=t.sent,s=n.refresh_token,o=n.access_token,u=n.access_token_expire,!s){t.next=22;break}if(this.setRefreshToken(s),!o||!u){t.next=15;break}this.setAccessToken(o,u),t.next=17;break;case 15:return t.next=17,this._request.refreshAccessToken();case 17:return t.next=19,this.refreshUserInfo();case 19:return Vt(Qt),Vt(Yt,{env:this.config.env,loginType:Gt.EMAIL,persistence:this.config.persistence}),t.abrupt("return",new ue(this.config.env));case 22:throw n.code?new pt({code:n.code,message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: ".concat(n.message)}):new pt({message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25"});case 23:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"activate",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.activateEndUserMail",{token:e}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resetPasswordWithToken",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:i}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()}]),i}(se),fe=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"signIn",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){var a,n,s,o,u;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new pt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return"string"!=typeof i&&(i=""),a=this._cache.keys.refreshTokenKey,t.next=6,this._request.send("auth.signIn",{loginType:Gt.USERNAME,username:e,password:i,refresh_token:this._cache.getStore(a)||""});case 6:if(n=t.sent,s=n.refresh_token,o=n.access_token_expire,u=n.access_token,!s){t.next=23;break}if(this.setRefreshToken(s),!u||!o){t.next=16;break}this.setAccessToken(u,o),t.next=18;break;case 16:return t.next=18,this._request.refreshAccessToken();case 18:return t.next=20,this.refreshUserInfo();case 20:return Vt(Qt),Vt(Yt,{env:this.config.env,loginType:Gt.USERNAME,persistence:this.config.persistence}),t.abrupt("return",new ue(this.config.env));case 23:throw n.code?new pt({code:n.code,message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: ".concat(n.message)}):new pt({message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25"});case 24:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()}]),i}(se),he=function(){function t(e){(0,d.default)(this,t),this.config=e,this._cache=Bt(e.env),this._request=re(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Ut(Yt,this._onLoginTypeChanged)}return(0,f.default)(t,[{key:"currentUser",get:function(){var t=this.hasLoginState();return t&&t.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},{key:"anonymousAuthProvider",value:function(){return new ce(this.config)}},{key:"customAuthProvider",value:function(){return new le(this.config)}},{key:"emailAuthProvider",value:function(){return new de(this.config)}},{key:"usernameAuthProvider",value:function(){return new fe(this.config)}},{key:"signInAnonymously",value:function(){var t=(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new ce(this.config).signIn());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new de(this.config).signIn(e,i));case 1:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"signInWithUsernameAndPassword",value:function(t,e){return new fe(this.config).signIn(t,e)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new ce(this.config)),Ut(Xt,this._onAnonymousConverted),t.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signOut",value:function(){var t=(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loginType!==Gt.ANONYMOUS){t.next=2;break}throw new pt({message:"\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c"});case 2:if(e=this._cache.keys,i=e.refreshTokenKey,a=e.accessTokenKey,n=e.accessTokenExpireKey,s=this._cache.getStore(i),s){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,this._request.send("auth.logout",{refresh_token:s});case 7:return o=t.sent,t.abrupt("return",(this._cache.removeStore(i),this._cache.removeStore(a),this._cache.removeStore(n),Vt(Qt),Vt(Yt,{env:this.config.env,loginType:Gt.NULL,persistence:this.config.persistence}),o));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signUpWithEmailAndPassword",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:i}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"sendPasswordResetEmail",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:e}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onLoginStateChanged",value:function(t){var e=this;Ut(Qt,(function(){var i=e.hasLoginState();t.call(e,i)}));var i=this.hasLoginState();t.call(this,i)}},{key:"onLoginStateExpired",value:function(t){Ut(Jt,t.bind(this))}},{key:"onAccessTokenRefreshed",value:function(t){Ut(Kt,t.bind(this))}},{key:"onAnonymousConverted",value:function(t){Ut(Xt,t.bind(this))}},{key:"onLoginTypeChanged",value:function(t){var e=this;Ut(Yt,(function(){var i=e.hasLoginState();t.call(e,i)}))}},{key:"getAccessToken",value:function(){var t=(0,c.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._request.getAccessToken();case 2:return t.t0=t.sent.accessToken,t.t1=this.config.env,t.abrupt("return",{accessToken:t.t0,env:t.t1});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"hasLoginState",value:function(){var t=this._cache.keys.refreshTokenKey;return this._cache.getStore(t)?new ue(this.config.env):null}},{key:"isUsernameRegistered",value:function(){var t=(0,c.default)(r.default.mark((function t(e){var i,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("string"==typeof e){t.next=2;break}throw new pt({code:"PARAM_ERROR",message:"username must be a string"});case 2:return t.next=4,this._request.send("auth.isUsernameRegistered",{username:e});case 4:return i=t.sent,a=i.data,t.abrupt("return",a&&a.isRegistered);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var t=(0,c.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new le(this.config).signIn(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"shouldRefreshAccessToken",value:function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:w(w({},t.data),{},{requestId:t.seqId})}))}},{key:"getAuthHeader",value:function(){var t=this._cache.keys,e=t.refreshTokenKey,i=t.accessTokenKey,a=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(i)+"/@@/"+a}}},{key:"_onAnonymousConverted",value:function(t){var e=t.data.env;e===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(t){var e=t.data,i=e.loginType,a=e.persistence,n=e.env;n===this.config.env&&(this._cache.updatePersistence(a),this._cache.setStore(this._cache.keys.loginTypeKey,i))}}]),t}(),pe=function(t,e){e=e||Pt();var i=re(this.config.env),a=t.cloudPath,n=t.filePath,r=t.onUploadProgress,s=t.fileType,o=void 0===s?"image":s;return i.send("storage.getUploadMetadata",{path:a}).then((function(t){var s=t.data,u=s.url,c=s.authorization,l=s.token,d=s.fileId,f=s.cosFileId,h=t.requestId,p={key:a,signature:c,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":l};i.upload({url:u,data:p,file:n,name:a,fileType:o,onUploadProgress:r}).then((function(t){201===t.statusCode?e(null,{fileID:d,requestId:h}):e(new pt({code:"STORAGE_REQUEST_FAIL",message:"STORAGE_REQUEST_FAIL: ".concat(t.data)}))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},me=function(t,e){e=e||Pt();var i=re(this.config.env),a=t.cloudPath;return i.send("storage.getUploadMetadata",{path:a}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},ge=function(t,e){var i=t.fileList;if(e=e||Pt(),!i||!Array.isArray(i))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var a,n=b(i);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(!r||"string"!=typeof r)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(o){n.e(o)}finally{n.f()}var s={fileid_list:i};return re(this.config.env).send("storage.batchDeleteFile",s).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},_e=function(t,e){var i=t.fileList;e=e||Pt(),i&&Array.isArray(i)||e(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var a,n=[],r=b(i);try{for(r.s();!(a=r.n()).done;){var s=a.value;"object"==(0,o.default)(s)?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),n.push({fileid:s.fileID,max_age:s.maxAge})):"string"==typeof s?n.push({fileid:s}):e(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(c){r.e(c)}finally{r.f()}var u={file_list:n};return re(this.config.env).send("storage.batchGetDownloadUrl",u).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},ve=function(){var t=(0,c.default)(r.default.mark((function t(e,i){var a,n,s,o;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.fileID,t.next=3,_e.call(this,{fileList:[{fileID:a,maxAge:600}]});case 3:if(n=t.sent.fileList[0],"SUCCESS"===n.code){t.next=6;break}return t.abrupt("return",i?i(n):new Promise((function(t){t(n)})));case 6:if(s=re(this.config.env),o=n.download_url,o=encodeURI(o),i){t.next=10;break}return t.abrupt("return",s.download({url:o}));case 10:return t.t0=i,t.next=13,s.download({url:o});case 13:t.t1=t.sent,(0,t.t0)(t.t1);case 15:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),be=function(t,e){var i,a=t.name,n=t.data,r=t.query,s=t.parse,o=t.search,u=e||Pt();try{i=n?JSON.stringify(n):""}catch(a){return Promise.reject(a)}if(!a)return Promise.reject(new pt({code:"PARAM_ERROR",message:"\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"}));var c={inQuery:r,parse:s,search:o,function_name:a,request_data:i};return re(this.config.env).send("functions.invokeFunction",c).then((function(t){if(t.code)u(null,t);else{var e=t.data.response_data;if(s)u(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),u(null,{result:e,requestId:t.requestId})}catch(t){u(new pt({message:"response data must be json"}))}}return u.promise})).catch((function(t){u(t)})),u.promise},ye={timeout:15e3,persistence:"session"},xe={},we=function(){function t(e){(0,d.default)(this,t),this.config=e||this.config,this.authObj=void 0}return(0,f.default)(t,[{key:"init",value:function(e){switch(It.adapter||(this.requestClient=new It.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((e.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=w(w({},ye),e),!0){case this.config.timeout>6e5:this.config.timeout=6e5;break;case this.config.timeout<100:this.config.timeout=100}return new t(this.config)}},{key:"auth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.persistence;if(this.authObj)return this.authObj;var i,a=e||It.adapter.primaryStorage||ye.persistence;return a!==this.config.persistence&&(this.config.persistence=a),function(t){var e=t.env;qt[e]=new Et(t),Rt[e]=new Et(w(w({},t),{},{persistence:"local"}))}(this.config),i=this.config,ne[i.env]=new ae(i),this.authObj=new he(this.config),this.authObj}},{key:"on",value:function(t,e){return Ut.apply(this,[t,e])}},{key:"off",value:function(t,e){return Ht.apply(this,[t,e])}},{key:"callFunction",value:function(t,e){return be.apply(this,[t,e])}},{key:"deleteFile",value:function(t,e){return ge.apply(this,[t,e])}},{key:"getTempFileURL",value:function(t,e){return _e.apply(this,[t,e])}},{key:"downloadFile",value:function(t,e){return ve.apply(this,[t,e])}},{key:"uploadFile",value:function(t,e){return pe.apply(this,[t,e])}},{key:"getUploadMetadata",value:function(t,e){return me.apply(this,[t,e])}},{key:"registerExtension",value:function(t){xe[t.name]=t}},{key:"invokeExtension",value:function(){var t=(0,c.default)(r.default.mark((function t(e,i){var a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=xe[e],a){t.next=3;break}throw new pt({message:"\u6269\u5c55".concat(e," \u5fc5\u987b\u5148\u6ce8\u518c")});case 3:return t.next=5,a.invoke(i,this);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"useAdapters",value:function(t){var e=function(t){var e,i,a=(e=t,"[object Array]"===Object.prototype.toString.call(e)?t:[t]),n=b(a);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=r.isMatch,o=r.genAdapter,u=r.runtime;if(s())return{adapter:o(),runtime:u}}}catch(c){n.e(c)}finally{n.f()}}(t)||{},i=e.adapter,a=e.runtime;i&&(It.adapter=i),a&&(It.runtime=a)}}]),t}(),Ce=new we;function $e(t,e,i){void 0===i&&(i={});var a=/\?/.test(e),n="";for(var r in i)""===n?!a&&(e+="?"):n+="&",n+=r+"="+encodeURIComponent(i[r]);return/^http(s)?:\/\//.test(e+=n)?e:""+t+e}var ke=function(){function t(){(0,d.default)(this,t)}return(0,f.default)(t,[{key:"post",value:function(t){var e=t.url,i=t.data,a=t.headers;return new Promise((function(t,n){mt.request({url:$e("https:",e),data:i,method:"POST",header:a,success:function(e){t(e)},fail:function(t){n(t)}})}))}},{key:"upload",value:function(t){return new Promise((function(e,i){var a=t.url,n=t.file,r=t.data,s=t.headers,o=t.fileType,u=mt.uploadFile({url:$e("https:",a),name:"file",formData:Object.assign({},r),filePath:n,fileType:o,header:s,success:function(t){var i={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&r.success_action_status&&(i.statusCode=parseInt(r.success_action_status,10)),e(i)},fail:function(t){i(new Error(t.errMsg||"uploadFile:fail"))}});"function"==typeof t.onUploadProgress&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(e){t.onUploadProgress({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}}]),t}(),De={setItem:function(t,e){mt.setStorageSync(t,e)},getItem:function(t){return mt.getStorageSync(t)},removeItem:function(t){mt.removeStorageSync(t)},clear:function(){mt.clearStorageSync()}},Se={genAdapter:function(){return{root:{},reqClass:ke,localStorage:De,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Ce.useAdapters(Se);var Te=Ce,Oe=Te.init;Te.init=function(t){t.env=t.spaceId;var e=Oe.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;var i=e.auth;return e.auth=function(t){var e=i.call(this,t);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(t){e[t]=dt(e[t]).bind(e)})),e},e.customAuth=e.auth,e};var Pe=Te,Me=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"getAccessToken",value:function(){var t=this;return new Promise((function(e,i){var a="Anonymous_Access_token";t.setAccessToken(a),e(a)}))}},{key:"setupRequest",value:function(t,e){var i=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),a={"Content-Type":"application/json"};"auth"!==e&&(i.token=this.accessToken,a["x-basement-token"]=this.accessToken),a["x-serverless-sign"]=xt.sign(i,this.config.clientSecret);var n=bt();a["x-client-info"]=encodeURIComponent(JSON.stringify(n));var r=gt(),s=r.token;return a["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:JSON.parse(JSON.stringify(a))}}},{key:"uploadFileToOSS",value:function(t){var e=this,i=t.url,a=t.formData,n=t.name,r=t.filePath,s=t.fileType,o=t.onUploadProgress;return new Promise((function(t,u){var c=e.adapter.uploadFile({url:i,formData:a,name:n,filePath:r,fileType:s,success:function(e){e&&e.statusCode<400?t(e):u(new pt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(t){u(new pt({code:t.code||"UPLOAD_FAILED",message:t.message||t.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof o&&c&&"function"==typeof c.onProgressUpdate&&c.onProgressUpdate((function(t){o({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(t){var e,i=this,a=t.filePath,n=t.cloudPath,r=t.fileType,s=void 0===r?"image":r,o=t.onUploadProgress;if(!n)throw new pt({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getOSSUploadOptionsFromPath({cloudPath:n}).then((function(t){var n=t.result,r=n.url,u=n.formData,c=n.name;e=t.result.fileUrl;var l={url:r,formData:u,name:c,filePath:a,fileType:s};return i.uploadFileToOSS(Object.assign({},l,{onUploadProgress:o}))})).then((function(){return i.reportOSSUpload({cloudPath:n})})).then((function(t){return new Promise((function(i,n){t.success?i({success:!0,filePath:a,fileID:e}):n(new pt({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(t){var e=t.fileList,i={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(i)).then((function(t){if(t.success)return t.result;throw new pt({code:"DELETE_FILE_FAILED",message:"\u5220\u9664\u6587\u4ef6\u5931\u8d25"})}))}},{key:"getTempFileURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fileList;if(!Array.isArray(e)||0===e.length)throw new pt({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});var i={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(i)).then((function(t){if(t.success)return{fileList:t.result.fileList.map((function(t){return{fileID:t.fileID,tempFileURL:t.tempFileURL}}))};throw new pt({code:"GET_TEMP_FILE_URL_FAILED",message:"\u83b7\u53d6\u4e34\u65f6\u6587\u4ef6\u94fe\u63a5\u5931\u8d25"})}))}}]),i}(kt),Ae={init:function(t){var e=new Me(t),i={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return i},e.customAuth=e.auth,e}};function Ie(t){var e,i=t.data;e=bt();var a=JSON.parse(JSON.stringify(i||{}));if(Object.assign(a,{clientInfo:e}),!a.uniIdToken){var n=gt(),r=n.token;r&&(a.uniIdToken=r)}return a}var je=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],Fe=/[\\^$.*+?()[\]{}|]/g,Le=RegExp(Fe.source);function Ee(t,e,i){return t.replace(new RegExp((a=e)&&Le.test(a)?a.replace(Fe,"\\$&"):a,"g"),i);var a}var qe="request",Re="response";var Be;Be="0123456789abcdef";var Ne={code:2e4,message:"System error"},ze={code:20101,message:"Invalid client"};function We(t){var e=t||{},i=e.errSubject,a=e.subject,n=e.errCode,r=e.errMsg,s=e.code,o=e.message,u=e.cause;return new pt({subject:i||a||"uni-secure-network",code:n||s||Ne.code,message:r||o,cause:u})}var Ue;function Ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.secretType;return e===qe||e===Re||"both"===e}function He(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,i=t.data,a=void 0===i?{}:i;return"app"===E&&"DCloud-clientDB"===e&&"encryption"===a.redirectTo&&"getAppClientKey"===a.action}function Ge(t){var e=t.functionName,i=t.result;t.logPvd;if(this.__dev__.debugLog&&i&&i.requestId)JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:i.requestId})}function Qe(t){var e=t.callFunction,i=function(i){var a=this,n=i.name;i.data=Ie.call(t,{data:i.data});var r={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider],s=Ve(i),o=He(i),u=s||o;return e.call(this,i).then((function(t){return t.errCode=0,!u&&Ge.call(a,{functionName:n,result:t,logPvd:r}),Promise.resolve(t)}),(function(t){return!u&&Ge.call(a,{functionName:n,result:t,logPvd:r}),t&&t.message&&(t.message=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,i=void 0===e?"":e,a=t.extraInfo,n=void 0===a?{}:a,r=t.formatter,s=void 0===r?[]:r,o=0;o<s.length;o++){var u=s[o],c=u.rule,l=u.content,d=u.mode,f=i.match(c);if(f){for(var h=l,p=1;p<f.length;p++)h=Ee(h,"{$".concat(p,"}"),f[p]);for(var m in n)h=Ee(h,"{".concat(m,"}"),n[m]);return"replace"===d?h:i+h}}return i}({message:"[".concat(i.name,"]: ").concat(t.message),formatter:je,extraInfo:{functionName:n}})),Promise.reject(t)}))};t.callFunction=function(e){var a,n,r=t.config,s=r.provider,o=r.spaceId,u=e.name;return e.data=e.data||{},a=i,a=a.bind(t),n=He(e)?i.call(t,e):function(t){var e=t.name,i=t.data,a=void 0===i?{}:i;return"mp-weixin"===E&&"uni-id-co"===e&&"secureNetworkHandshakeByWeixin"===a.method}(e)?a.call(t,e):Ve(e)?new Ue({secretType:e.secretType,uniCloudIns:t}).wrapEncryptDataCallFunction(i.bind(t))(e):function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.provider,i=t.spaceId,a=t.functionName,n=vt(),r=n.appId,s=n.uniPlatform,o=n.osName,u=s;"app"===s&&(u=o);var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.provider,i=t.spaceId,a=q;if(!a)return{};e=function(t){return"tencent"===t?"tcb":t}(e);var n=a.find((function(t){return t.provider===e&&t.spaceId===i}));return n&&n.config}({provider:e,spaceId:i});if(!c||!c.accessControl||!c.accessControl.enable)return!1;var l=c.accessControl.function||{},d=Object.keys(l);if(0===d.length)return!0;var f=function(t,e){for(var i,a,n,r=0;r<t.length;r++){var s=t[r];s!==e?"*"!==s?s.split(",").map((function(t){return t.trim()})).indexOf(e)>-1&&(a=s):n=s:i=s}return i||a||n}(d,a);if(!f)return!1;if((l[f]||[]).find((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.appId===r&&(t.platform||"").toLowerCase()===u.toLowerCase()})))return!0;throw We(ze)}({provider:s,spaceId:o,functionName:u})?new Ue({secretType:e.secretType,uniCloudIns:t}).wrapVerifyClientCallFunction(i.bind(t))(e):a(e),Object.defineProperty(n,"result",{get:function(){return{}}}),n}}Ue="mp-weixin"!==E&&"app"!==E?function(){return(0,f.default)((function t(){throw(0,d.default)(this,t),We({message:"Platform ".concat(E," is not supported by secure network")})}))}():function(){return(0,f.default)((function t(){throw(0,d.default)(this,t),We({message:"Platform ".concat(E," is not enabled, please check whether secure network module is enabled in your manifest.json")})}))}();var Je=Symbol("CLIENT_DB_INTERNAL");function Ye(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=Je,t.inspect=null,t.__ob__=void 0,new Proxy(t,{get:function(t,i,a){if("_uniClient"===i)return null;if("symbol"==(0,o.default)(i))return t[i];if(i in t||"string"!=typeof i){var n=t[i];return"function"==typeof n?n.bind(t):n}return e.get(t,i,a)}})}function Xe(t){return{on:function(e,i){t[e]=t[e]||[],t[e].indexOf(i)>-1||t[e].push(i)},off:function(e,i){t[e]=t[e]||[];var a=t[e].indexOf(i);-1!==a&&t[e].splice(a,1)}}}var Ke=["db.Geo","db.command","command.aggregate"];function Ze(t,e){return Ke.indexOf("".concat(t,".").concat(e))>-1}function ti(t){switch(A(t)){case"array":return t.map((function(t){return ti(t)}));case"object":return t._internalType===Je||Object.keys(t).forEach((function(e){t[e]=ti(t[e])})),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function ei(t){return t&&t.content&&t.content.$method}var ii=function(){function t(e,i,a){(0,d.default)(this,t),this.content=e,this.prevStage=i||null,this.udb=null,this._database=a}return(0,f.default)(t,[{key:"toJSON",value:function(){for(var t=this,e=[t.content];t.prevStage;)t=t.prevStage,e.push(t.content);return{$db:e.reverse().map((function(t){return{$method:t.$method,$param:ti(t.$param)}}))}}},{key:"getAction",value:function(){var t=this.toJSON().$db.find((function(t){return"action"===t.$method}));return t&&t.$param&&t.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(t){return"action"!==t.$method}))}}},{key:"isAggregate",get:function(){for(var t=this;t;){var e=ei(t),i=ei(t.prevStage);if("aggregate"===e&&"collection"===i||"pipeline"===e)return!0;t=t.prevStage}return!1}},{key:"isCommand",get:function(){for(var t=this;t;){if("command"===ei(t))return!0;t=t.prevStage}return!1}},{key:"isAggregateCommand",get:function(){for(var t=this;t;){var e=ei(t),i=ei(t.prevStage);if("aggregate"===e&&"command"===i)return!0;t=t.prevStage}return!1}},{key:"getNextStageFn",value:function(t){var e=this;return function(){return ai({$method:t,$param:ti(Array.from(arguments))},e,e._database)}}},{key:"count",get:function(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}},{key:"remove",get:function(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",get:function(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",get:function(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")}}},{key:"_send",value:function(t,e){var i=this.getAction(),a=this.getCommand();return a.$db.push({$method:t,$param:ti(e)}),this._database._callCloudFunction({action:i,command:a})}}]),t}();function ai(t,e,i){return Ye(new ii(t,e,i),{get:function(t,e){var a="db";return t&&t.content&&(a=t.content.$method),Ze(a,e)?ai({$method:e},t,i):function(){return ai({$method:e,$param:ti(Array.from(arguments))},t,i)}}})}function ni(t){var e=t.path,i=t.method;return function(){function t(){(0,d.default)(this,t),this.param=Array.from(arguments)}return(0,f.default)(t,[{key:"toJSON",value:function(){return{$newDb:[].concat((0,u.default)(e.map((function(t){return{$method:t}}))),[{$method:i,$param:this.param}])}}}]),t}()}function ri(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ye(new t(e),{get:function(t,e){return Ze("db",e)?ai({$method:e},null,t):function(){return ai({$method:e,$param:ti(Array.from(arguments))},null,t)}}})}var si=function(t){(0,h.default)(i,t);var e=C(i);function i(){return(0,d.default)(this,i),e.apply(this,arguments)}return(0,f.default)(i,[{key:"_parseResult",value:function(t){return this._isJQL?t.result:t}},{key:"_callCloudFunction",value:function(t){var e=this,i=t.action,a=t.command,n=t.multiCommand,r=t.queryList;function s(t,e){if(n&&r)for(var i=0;i<r.length;i++){var a=r[i];a.udb&&"function"==typeof a.udb.setResult&&(e?a.udb.setResult(e):a.udb.setResult(t.result.dataList[i]))}}var o=this,u=this._isJQL?"databaseForJQL":"database";function c(t){return o._callback("error",[t]),G(Q(u,"fail"),t).then((function(){return G(Q(u,"complete"),t)})).then((function(){return s(null,t),st(X,{type:tt,content:t}),Promise.reject(t)}))}var l=G(Q(u,"invoke")),d=this._uniClient;return l.then((function(){return d.callFunction({name:"DCloud-clientDB",type:"CLIENT_DB",data:{action:i,command:a,multiCommand:n}})})).then((function(t){var i=t.result,a=i.code,n=i.message,r=i.token,l=i.tokenExpired,d=i.systemInfo,f=void 0===d?[]:d;if(f)for(var h=0;h<f.length;h++){var p=f[h],m=p.level,g=p.message,_=p.detail,v=console["app"===E&&"warn"===m?"error":m]||console.log,b="[System Info]"+g;_&&(b="".concat(b,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(_)),v(b)}if(a)return c(new pt({code:a,message:n,requestId:t.requestId}));t.result.errCode=t.result.errCode||t.result.code,t.result.errMsg=t.result.errMsg||t.result.message,r&&l&&(_t({token:r,tokenExpired:l}),e._callbackAuth("refreshToken",[{token:r,tokenExpired:l}]),e._callback("refreshToken",[{token:r,tokenExpired:l}]),st(Z,{token:r,tokenExpired:l}));for(var y=[{prop:"affectedDocs",tips:"affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"},{prop:"code",tips:"code\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errCode\u66ff\u4ee3"},{prop:"message",tips:"message\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errMsg\u66ff\u4ee3"}],x=function(e){var i=y[e],a=i.prop;i.tips;if(a in t.result){var n=t.result[a];Object.defineProperty(t.result,a,{get:function(){return n}})}},w=0;w<y.length;w++)x(w);return function(t){return G(Q(u,"success"),t).then((function(){return G(Q(u,"complete"),t)})).then((function(){s(t,null);var e=o._parseResult(t);return st(X,{type:tt,content:e}),Promise.resolve(e)}))}(t)}),(function(t){return/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(t.message),c(new pt({code:t.code||"SYSTEM_ERROR",message:t.message,requestId:t.requestId}))}))}}]),i}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.uniClient,a=void 0===i?{}:i,n=e.isJQL,r=void 0!==n&&n;(0,d.default)(this,t),this._uniClient=a,this._authCallBacks={},this._dbCallBacks={},a.isDefault&&(this._dbCallBacks=z("_globalUniCloudDatabaseCallback")),r||(this.auth=Xe(this._authCallBacks)),this._isJQL=r,Object.assign(this,Xe(this._dbCallBacks)),this.env=Ye({},{get:function(t,e){return{$env:e}}}),this.Geo=Ye({},{get:function(t,e){return ni({path:["Geo"],method:e})}}),this.serverDate=ni({path:[],method:"serverDate"}),this.RegExp=ni({path:[],method:"RegExp"})}return(0,f.default)(t,[{key:"getCloudEnv",value:function(t){if("string"!=typeof t||!t.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:t.replace("$cloudEnv_","")}}},{key:"_callback",value:function(t,e){var i=this._dbCallBacks;i[t]&&i[t].forEach((function(t){t.apply(void 0,(0,u.default)(e))}))}},{key:"_callbackAuth",value:function(t,e){var i=this._authCallBacks;i[t]&&i[t].forEach((function(t){t.apply(void 0,(0,u.default)(e))}))}},{key:"multiSend",value:function(){var t=Array.from(arguments),e=t.map((function(t){var e=t.getAction(),i=t.getCommand();if("getTemp"!==i.$db[i.$db.length-1].$method)throw new Error("multiSend\u53ea\u652f\u6301\u5b50\u547d\u4ee4\u5185\u4f7f\u7528getTemp");return{action:e,command:i}}));return this._callCloudFunction({multiCommand:e,queryList:t})}}]),t}()),oi="token\u65e0\u6548\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",ui="token\u8fc7\u671f\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",ci={TOKEN_INVALID_TOKEN_EXPIRED:ui,TOKEN_INVALID_INVALID_CLIENTID:oi,TOKEN_INVALID:oi,TOKEN_INVALID_WRONG_TOKEN:oi,TOKEN_INVALID_ANONYMOUS_USER:oi},li={"uni-id-token-expired":ui,"uni-id-check-token-failed":oi,"uni-id-token-not-exist":oi,"uni-id-check-device-feature-failed":oi};function di(t,e){var i="";return i=t?"".concat(t,"/").concat(e):e,i.replace(/^\//,"")}function fi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[],a=[];return t.forEach((function(t){!0===t.needLogin?i.push(di(e,t.path)):!1===t.needLogin&&a.push(di(e,t.path))})),{needLoginPage:i,notNeedLoginPage:a}}function hi(t){return t.split("?")[0].replace(/^\//,"")}function pi(){return function(t){var e=t&&t.$page&&t.$page.fullPath||"";return e?("/"!==e.charAt(0)&&(e="/"+e),e):e}(function(){var t=getCurrentPages();return t[t.length-1]}())}function mi(){return hi(pi())}function gi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;if(!(e&&e.list&&e.list.length))return!1;var i=e.list,a=hi(t);return i.some((function(t){return t.pagePath===a}))}var _i,vi=!!v.default.uniIdRouter,bi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.default,e=t.pages,i=void 0===e?[]:e,a=t.subPackages,n=void 0===a?[]:a,r=t.uniIdRouter,s=void 0===r?{}:r,o=t.tabBar,c=void 0===o?{}:o,l=s.loginPage,d=s.needLogin,f=void 0===d?[]:d,h=s.resToLogin,p=void 0===h||h,m=fi(i),g=m.needLoginPage,_=m.notNeedLoginPage,b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],i=[];return t.forEach((function(t){var a=t.root,n=t.pages,r=void 0===n?[]:n,s=fi(r,a),o=s.needLoginPage,c=s.notNeedLoginPage;e.push.apply(e,(0,u.default)(o)),i.push.apply(i,(0,u.default)(c))})),{needLoginPage:e,notNeedLoginPage:i}}(n),y=b.needLoginPage,x=b.notNeedLoginPage;return{loginPage:l,routerNeedLogin:f,resToLogin:p,needLoginPage:[].concat((0,u.default)(g),(0,u.default)(y)),notNeedLoginPage:[].concat((0,u.default)(_),(0,u.default)(x)),loginPageInTabBar:gi(l,c)}}(),yi=bi.loginPage,xi=bi.routerNeedLogin,wi=bi.resToLogin,Ci=bi.needLoginPage,$i=bi.notNeedLoginPage,ki=bi.loginPageInTabBar;if(Ci.indexOf(yi)>-1)throw new Error("Login page [".concat(yi,'] should not be "needLogin", please check your pages.json'));function Di(t){var e=mi();if("/"===t.charAt(0))return t;var i=t.split("?"),a=(0,s.default)(i,2),n=a[0],r=a[1],o=n.replace(/^\//,"").split("/"),u=e.split("/");u.pop();for(var c=0;c<o.length;c++){var l=o[c];".."===l?u.pop():"."!==l&&u.push(l)}return""===u[0]&&u.shift(),"/"+u.join("/")+(r?"?"+r:"")}function Si(t){var e=hi(Di(t));return!($i.indexOf(e)>-1)&&(Ci.indexOf(e)>-1||xi.some((function(e){return function(t,e){return new RegExp(e).test(t)}(t,e)})))}function Ti(t){var e=t.redirect,i=hi(e),a=hi(yi);return mi()!==a&&i!==a}function Oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.api,i=t.redirect;if(i&&Ti({redirect:i})){var a=function(t,e){return"/"!==t.charAt(0)&&(t="/"+t),e?t.indexOf("?")>-1?t+"&uniIdRedirectUrl=".concat(encodeURIComponent(e)):t+"?uniIdRedirectUrl=".concat(encodeURIComponent(e)):t}(yi,i);ki?"navigateTo"!==e&&"redirectTo"!==e||(e="switchTab"):"switchTab"===e&&(e="navigateTo");var n={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((function(){n[e]({url:a})}))}}function Pi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,i={abortLoginPageJump:!1,autoToLoginPage:!1},a=function(){var t,e=gt(),i=e.token,a=e.tokenExpired;if(i){if(a<Date.now()){var n="uni-id-token-expired";t={errCode:n,errMsg:li[n]}}}else{var r="uni-id-check-token-failed";t={errCode:r,errMsg:li[r]}}return t}();if(Si(e)&&a){if(a.uniIdRedirectUrl=e,at(K).length>0)return setTimeout((function(){st(K,a)}),0),i.abortLoginPageJump=!0,i;i.autoToLoginPage=!0}return i}function Mi(){!function(){var t=pi(),e=Pi({url:t}),i=e.abortLoginPageJump,a=e.autoToLoginPage;i||a&&Oi({api:"redirectTo",redirect:t})}();for(var t=["navigateTo","redirectTo","reLaunch","switchTab"],e=function(e){var i=t[e];uni.addInterceptor(i,{invoke:function(t){var e=Pi({url:t.url}),a=e.abortLoginPageJump,n=e.autoToLoginPage;return a?t:n?(Oi({api:i,redirect:Di(t.url)}),!1):t}})},i=0;i<t.length;i++)e(i)}function Ai(){this.onResponse((function(t){var e=t.type,i=t.content,a=!1;switch(e){case"cloudobject":a=function(t){var e=t.errCode;return e in li}(i);break;case"clientdb":a=function(t){var e=t.errCode;return e in ci}(i)}a&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=at(K);ct().then((function(){var i=pi();if(i&&Ti({redirect:i}))return e.length>0?st(K,Object.assign({uniIdRedirectUrl:i},t)):void(yi&&Oi({api:"navigateTo",redirect:i}))}))}(i)}))}function Ii(t){!function(t){t.onResponse=function(t){nt(X,t)},t.offResponse=function(t){rt(X,t)}}(t),function(t){t.onNeedLogin=function(t){nt(K,t)},t.offNeedLogin=function(t){rt(K,t)},vi&&(z("_globalUniCloudStatus").needLoginInit||(z("_globalUniCloudStatus").needLoginInit=!0,ct().then((function(){Mi.call(t)})),wi&&Ai.call(t)))}(t),function(t){t.onRefreshToken=function(t){nt(Z,t)},t.offRefreshToken=function(t){rt(Z,t)}}(t)}var ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Fi=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Li(){var t,e,i=gt().token||"",a=i.split(".");if(!i||3!==a.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse((e=a[1],decodeURIComponent(_i(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(i){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+i.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}_i="function"!=typeof atob?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Fi.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var i,a,n="",r=0;r<t.length;)e=ji.indexOf(t.charAt(r++))<<18|ji.indexOf(t.charAt(r++))<<12|(i=ji.indexOf(t.charAt(r++)))<<6|(a=ji.indexOf(t.charAt(r++))),n+=64===i?String.fromCharCode(e>>16&255):64===a?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return n}:atob;var Ei=$((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="chooseAndUploadFile:ok",n="chooseAndUploadFile:fail";function r(t,e){return t.tempFiles.forEach((function(t,i){t.name||(t.name=t.path.substring(t.path.lastIndexOf("/")+1)),e&&(t.fileType=e),t.cloudPath=Date.now()+"_"+i+t.name.substring(t.name.lastIndexOf("."))})),t.tempFilePaths||(t.tempFilePaths=t.tempFiles.map((function(t){return t.path}))),t}function s(t,e,a){var n=a.onChooseFile,r=a.onUploadProgress;return e.then((function(t){if(n){var e=n(t);if(void 0!==e)return Promise.resolve(e).then((function(e){return void 0===e?t:e}))}return t})).then((function(e){return!1===e?{errMsg:i,tempFilePaths:[],tempFiles:[]}:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3?arguments[3]:void 0;(e=Object.assign({},e)).errMsg=i;var r=e.tempFiles,s=r.length,o=0;return new Promise((function(i){for(;o<a;)u();function u(){var a=o++;if(a>=s)!r.find((function(t){return!t.url&&!t.errMsg}))&&i(e);else{var c=r[a];t.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,onUploadProgress:function(t){t.index=a,t.tempFile=c,t.tempFilePath=c.path,n&&n(t)}}).then((function(t){c.url=t.fileID,a<s&&u()})).catch((function(t){c.errMsg=t.errMsg||t.message,a<s&&u()}))}}}))}(t,e,5,r)}))}e.initChooseAndUploadFile=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===e.type?s(t,function(t){var e=t.count,i=t.sizeType,a=t.sourceType,s=void 0===a?["album","camera"]:a,o=t.extension;return new Promise((function(t,a){uni.chooseImage({count:e,sizeType:i,sourceType:s,extension:o,success:function(e){t(r(e,"image"))},fail:function(t){a({errMsg:t.errMsg.replace("chooseImage:fail",n)})}})}))}(e),e):"video"===e.type?s(t,function(t){var e=t.camera,i=t.compressed,a=t.maxDuration,s=t.sourceType,o=void 0===s?["album","camera"]:s,u=t.extension;return new Promise((function(t,s){uni.chooseVideo({camera:e,compressed:i,maxDuration:a,sourceType:o,extension:u,success:function(e){var i=e.tempFilePath,a=e.duration,n=e.size,s=e.height,o=e.width;t(r({errMsg:"chooseVideo:ok",tempFilePaths:[i],tempFiles:[{name:e.tempFile&&e.tempFile.name||"",path:i,size:n,type:e.tempFile&&e.tempFile.type||"",width:o,height:s,duration:a,fileType:"video",cloudPath:""}]},"video"))},fail:function(t){s({errMsg:t.errMsg.replace("chooseVideo:fail",n)})}})}))}(e),e):s(t,function(t){var e=t.count,i=t.extension;return new Promise((function(t,s){var o=uni.chooseFile;if("undefined"!=typeof a&&"function"==typeof a.chooseMessageFile&&(o=a.chooseMessageFile),"function"!=typeof o)return s({errMsg:n+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});o({type:"all",count:e,extension:i,success:function(e){t(r(e))},fail:function(t){s({errMsg:t.errMsg.replace("chooseFile:fail",n)})}})}))}(e),e)}}})),qi=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Ei);function Ri(t){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}},created:function(){var t=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(i){e.push(t[i])})),e}),(function(e,i){if("manual"!==t.loadtime){for(var a=!1,n=[],r=2;r<e.length;r++)e[r]!==i[r]&&(n.push(e[r]),a=!0);e[0]!==i[0]&&(t.mixinDatacomPage.current=t.pageCurrent),t.mixinDatacomPage.size=t.pageSize,t.onMixinDatacomPropsChange(a,n)}}))},methods:{onMixinDatacomPropsChange:function(t,e){},mixinDatacomEasyGet:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getone,a=void 0!==i&&i,n=e.success,r=e.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((function(e){t.mixinDatacomLoading=!1;var i=e.result,r=i.data,s=i.count;t.getcount&&(t.mixinDatacomPage.count=s),t.mixinDatacomHasMore=r.length<t.pageSize;var o=a?r.length?r[0]:void 0:r;t.mixinDatacomResData=o,n&&n(o)})).catch((function(e){t.mixinDatacomLoading=!1,t.mixinDatacomErrorMessage=e,r&&r(e)})))},mixinDatacomGet:function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.database(this.spaceInfo),n=i.action||this.action;n&&(a=a.action(n));var r=i.collection||this.collection;a=Array.isArray(r)?(e=a).collection.apply(e,(0,u.default)(r)):a.collection(r);var s=i.where||this.where;s&&Object.keys(s).length&&(a=a.where(s));var o=i.field||this.field;o&&(a=a.field(o));var c=i.foreignKey||this.foreignKey;c&&(a=a.foreignKey(c));var l=i.groupby||this.groupby;l&&(a=a.groupBy(l));var d=i.groupField||this.groupField;d&&(a=a.groupField(d)),!0===(void 0!==i.distinct?i.distinct:this.distinct)&&(a=a.distinct());var f=i.orderby||this.orderby;f&&(a=a.orderBy(f));var h=void 0!==i.pageCurrent?i.pageCurrent:this.mixinDatacomPage.current,p=void 0!==i.pageSize?i.pageSize:this.mixinDatacomPage.size,m=void 0!==i.getcount?i.getcount:this.getcount,g=void 0!==i.gettree?i.gettree:this.gettree,_=void 0!==i.gettreepath?i.gettreepath:this.gettreepath,v={getCount:m},b={limitLevel:void 0!==i.limitlevel?i.limitlevel:this.limitlevel,startWith:void 0!==i.startwith?i.startwith:this.startwith};return g&&(v.getTree=b),_&&(v.getTreePath=b),a=a.skip(p*(h-1)).limit(p).get(v),a}}}}function Bi(t){return z("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",t.config.spaceId))}function Ni(){return zi.apply(this,arguments)}function zi(){return zi=(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o,u=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=u.length>0&&void 0!==u[0]?u[0]:{},i=e.callLoginByWeixin,a=void 0!==i&&i,n=Bi(this),"mp-weixin"===E){t.next=4;break}throw new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `".concat(E,"`"));case 4:return t.next=6,new Promise((function(t,e){uni.login({success:function(e){t(e.code)},fail:function(t){e(new Error(t.errMsg))}})}));case 6:return s=t.sent,o=this.importObject("uni-id-co",{customUI:!0}),t.next=10,o.secureNetworkHandshakeByWeixin({code:s,callLoginByWeixin:a});case 10:return n.mpWeixinCode=s,t.abrupt("return",{code:s});case 12:case"end":return t.stop()}}),t,this)}))),zi.apply(this,arguments)}function Wi(t){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,c.default)(r.default.mark((function t(e){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=Bi(this),t.abrupt("return",(i.initPromise||(i.initPromise=Ni.call(this,e)),i.initPromise));case 2:case"end":return t.stop()}}),t,this)}))),Ui.apply(this,arguments)}function Vi(t){if(!t.initUniCloudStatus||"rejected"===t.initUniCloudStatus){var e=Promise.resolve();1,e=new Promise((function(t){setTimeout((function(){t()}),1)})),t.isReady=!1,t.isDefault=!1;var i=t.auth();t.initUniCloudStatus="pending",t.initUniCloud=e.then((function(){return i.getLoginState()})).then((function(t){return t?Promise.resolve():i.signInAnonymously()})).then((function(){return Promise.resolve()})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.address,t.port;return Promise.resolve()})).then((function(){t.isReady=!0,t.initUniCloudStatus="fulfilled"})).catch((function(e){t.initUniCloudStatus="rejected"}))}}var Hi={tcb:Pe,tencent:Pe,aliyun:Dt,private:Ae},Gi=new(function(){function t(){(0,d.default)(this,t)}return(0,f.default)(t,[{key:"init",value:function(t){var e={},i=Hi[t.provider];if(!i)throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570");e=i.init(t),e.__dev__={},e.__dev__.debugLog=!1;return Vi(e),e.reInit=function(){Vi(this)},Qe(e),function(t){var e=t.uploadFile;t.uploadFile=function(t){return e.call(this,t)}}(e),function(t){t.database=function(e){if(e&&Object.keys(e).length>0)return t.init(e).database();if(this._database)return this._database;var i=ri(si,{uniClient:t});return this._database=i,i},t.databaseForJQL=function(e){if(e&&Object.keys(e).length>0)return t.init(e).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;var i=ri(si,{uniClient:t,isJQL:!0});return this._databaseForJQL=i,i}}(e),function(t){t.getCurrentUserInfo=Li,t.chooseAndUploadFile=qi.initChooseAndUploadFile(t),Object.assign(t,{get mixinDatacom(){return Ri(t)}}),t.importObject=function(t){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.customUI=e.customUI||t.customUI,t.parseSystemError=e.parseSystemError||t.parseSystemError,Object.assign(t.loadingOptions,e.loadingOptions),Object.assign(t.errorOptions,e.errorOptions),"object"==(0,o.default)(e.secretMethods)&&(t.secretMethods=e.secretMethods),t}({customUI:!1,loadingOptions:{title:"\u52a0\u8f7d\u4e2d...",mask:!0},errorOptions:{type:"modal",retry:!1}},i);var a=i,n=a.customUI,s=a.loadingOptions,u=a.errorOptions,l=a.parseSystemError,d=!n;return new Proxy({},{get:function(a,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fn,i=t.interceptorName,a=t.getCallbackArgs;return(0,c.default)(r.default.mark((function t(){var n,s,o,u,c,l,d=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=d.length,s=new Array(n),o=0;o<n;o++)s[o]=d[o];return u=a?a({params:s}):{},t.prev=2,t.next=5,G(Q(i,"invoke"),w({},u));case 5:return t.next=7,e.apply(void 0,s);case 7:return c=t.sent,t.next=10,G(Q(i,"success"),w(w({},u),{},{result:c}));case 10:return t.abrupt("return",c);case 13:return t.prev=13,t.t0=t["catch"](2),l=t.t0,t.next=18,G(Q(i,"fail"),w(w({},u),{},{error:l}));case 18:throw l;case 19:return t.prev=19,t.next=22,G(Q(i,"complete"),w(w({},u),{},l?{error:l}:{result:c}));case 22:return t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[2,13,19,23]])})))}({fn:function(){var a=(0,c.default)(r.default.mark((function a(){var h,p,m,g,_,v,b,y,x,C,$,k,D,S,T,O=arguments;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(d&&uni.showLoading({title:s.title,mask:s.mask}),p=O.length,m=new Array(p),g=0;g<p;g++)m[g]=O[g];return _={name:e,type:M,data:{method:n,params:m}},"object"==(0,o.default)(i.secretMethods)&&function(t,e){var i=e.data.method,a=t.secretMethods||{},n=a[i]||a["*"];n&&(e.secretType=n)}(i,_),v=!1,a.prev=5,a.next=8,t.callFunction(_);case 8:h=a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),v=!0,h={result:new pt(a.t0)};case 14:if(b=h.result||{},y=b.errSubject,x=b.errCode,C=b.errMsg,$=b.newToken,d&&uni.hideLoading(),$&&$.token&&$.tokenExpired&&(_t($),st(Z,w({},$))),!x){a.next=39;break}if(k=C,!v||!l){a.next=24;break}return a.next=20,l({objectName:e,methodName:n,params:m,errSubject:y,errCode:x,errMsg:C});case 20:if(a.t1=a.sent.errMsg,a.t1){a.next=23;break}a.t1=C;case 23:k=a.t1;case 24:if(!d){a.next=37;break}if("toast"!==u.type){a.next=29;break}uni.showToast({title:k,icon:"none"}),a.next=37;break;case 29:if("modal"===u.type){a.next=31;break}throw new Error("Invalid errorOptions.type: ".concat(u.type));case 31:return a.next=33,(0,c.default)(r.default.mark((function t(){var e,i,a,n,s,o,u=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},i=e.title,a=e.content,n=e.showCancel,s=e.cancelText,o=e.confirmText,t.abrupt("return",new Promise((function(t,e){uni.showModal({title:i,content:a,showCancel:n,cancelText:s,confirmText:o,success:function(e){t(e)},fail:function(){t({confirm:!1,cancel:!0})}})})));case 2:case"end":return t.stop()}}),t)})))({title:"\u63d0\u793a",content:k,showCancel:u.retry,cancelText:"\u53d6\u6d88",confirmText:u.retry?"\u91cd\u8bd5":"\u786e\u5b9a"});case 33:if(D=a.sent,S=D.confirm,!u.retry||!S){a.next=37;break}return a.abrupt("return",f.apply(void 0,m));case 37:throw T=new pt({subject:y,code:x,message:C,requestId:h.requestId}),T.detail=h.result,st(X,{type:it,content:T}),T;case 39:return a.abrupt("return",(st(X,{type:it,content:h.result}),h.result));case 40:case"end":return a.stop()}}),a,null,[[5,11]])})));function f(){return a.apply(this,arguments)}return f}(),interceptorName:"callObject",getCallbackArgs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.params;return{objectName:e,methodName:n,params:i}}})}})}}(t),t.initSecureNetworkByWeixin=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.callLoginByWeixin,a=void 0!==i&&i;return Wi.call(t,{callLoginByWeixin:a})}}(t)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(t){if(e[t]){var i=e[t];e[t]=function(){return e.reInit(),i.apply(e,Array.from(arguments))},e[t]=dt(e[t],t).bind(e)}})),e.init=this.init,e}}]),t}());(function(){var t=R,e={};if(t&&1===t.length)e=t[0],Gi=Gi.init(e),Gi.isDefault=!0;else{var i;i=t&&t.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4",["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"].forEach((function(t){Gi[t]=function(){return Promise.reject(new pt({code:"SYS_ERR",message:i}))}}))}Object.assign(Gi,{get mixinDatacom(){return Ri(Gi)}}),Ii(Gi),Gi.addInterceptor=V,Gi.removeInterceptor=H,Gi.interceptObject=J})();var Qi=Gi;e.default=Qi}).call(this,i("c8ba"),i("fe07")["default"])},aa53:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-icons",{attrs:{type:"info",_i:1},nativeOn:{mouseenter:function(e){return t.mouseenter(e)},mouseleave:function(e){t.showStableInfo=!1}}}),t._$s(2,"i",t.showStableInfo)?i("view",{staticClass:t._$s(2,"sc","show-stable"),style:t._$s(2,"s",{top:t.top+"px",left:t.left+"px",width:t.width+"px"}),attrs:{_i:2}},[i("text",[t._v(t._$s(3,"t0-0",t._s(t.content)))])]):t._e()],1)},r=[]},aa65:function(t,e,i){"use strict";i.r(e);var a=i("c62f"),n=i("7663");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},ab02:function(t,e,i){"use strict";i.r(e);var a=i("8f46"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},abfe:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("3c8a")),r=a(i("88fe")),s={components:{topWindow:n.default,leftWindow:r.default},data:function(){return{visible:!1}},methods:{tiggerWindow:function(){this.visible=!this.visible}}};e.default=s},aca5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0}]},ad22:function(t,e,i){"use strict";i.r(e),function(t,a){i.d(e,"stacktracey",(function(){return et})),i.d(e,"uniStracktraceyPreset",(function(){return rt})),i.d(e,"utsStracktraceyPreset",(function(){return st}));var n=i("3e8f"),r=i.n(n);const s=Object,o="undefined"!==typeof window&&window.window===window&&window.navigator,u=o?null:t.require,c=t=>t[t.length-1],l=t=>t.replace(/\\/g,"/"),d=o?window.location.href:l(a.cwd())+"/";class f{constructor(t,e,i){this.itemsHeader=[],this.isMP=!1;const a=t,n=t&&t instanceof SyntaxError&&!o;if(t||(t=new Error,i=void 0===i?1:i),t instanceof Error&&(t=t.stack||""),"string"===typeof t&&(this.isMP="mp-weixin"===e,t=this.rawParse(t).slice(i).map(t=>this.extractEntryMetadata(t))),Array.isArray(t)){if(n){const e=u("util").inspect(a).split("\n"),i=e[0].split(":"),n=i.pop(),r=i.join(":");r&&t.unshift({file:l(r),line:n,column:(e[2]||"").indexOf("^")+1,sourceLine:e[1],callee:"(syntax error)",syntaxError:!0})}this.items=t}else this.items=[]}extractEntryMetadata(t){const e=this.decomposePath(t.file||""),i=e[0],a=e[1];return s.assign(t,{calleeShort:t.calleeShort||c((t.callee||"").split(".")),fileRelative:i,fileShort:this.shortenPath(i),fileName:c((t.file||"").split("/")),thirdParty:this.isThirdParty(i,a)&&!t.index,externalDomain:a})}shortenPath(t){return t.replace(/^node_modules\//,"").replace(/^webpack\/bootstrap\//,"").replace(/^__parcel_source_root\//,"")}decomposePath(t){let e=t;o&&(e=e.replace(d,""));const i=e.match(/^(http|https)\:\/\/?([^\/]+)\/{1,}(.*)/),a=i?i[2]:void 0;return e=i?i[3]:e,[l(e).replace(/^.*\:\/\/?\/?/,""),a]}isThirdParty(t,e){return this.isMP?"undefined"!==typeof e&&"usr"!==e:"~"===t[0]||"/"===t[0]||-1!==t.indexOf("@dcloudio")||-1!==t.indexOf("weex-main-jsfm")||0===t.indexOf("webpack/bootstrap")}rawParse(t){const e=(t||"").split("\n"),i=e.map((t,e)=>{t=t.trim();let i,a,n,r,s=[];if(-1!==t.indexOf("file:")&&(t=t.replace(/file:\/\/(.*)www/,"file://")),(n=t.match(/at (.+) \(eval at .+ \((.+)\), .+\)/))||(n=t.match(/at (.+) \((.+)\)/))||"at "!==t.slice(0,3)&&(n=t.match(/(.*)@(.*)/)))this.itemsHeader.push("%StacktraceyItem%"),i=n[1],a="native"===n[2],s=(n[2].match(/(.*):(\d+):(\d+)/)||n[2].match(/(.*):(\d+)/)||n[2].match(/\[(.*)\]/)||[]).slice(1);else{if(!(r=t.match(/^(at\s*)*(.*)\s+(.+):(\d+):(\d+)/)))return void this.itemsHeader.push(t);this.itemsHeader.push("%StacktraceyItem%"),i=r[2].trim(),s=r.slice(3)}if(i&&!s[0]){const t=i.split(".")[0];"Array"===t&&(a=!0)}return{beforeParse:t,callee:i||"",index:o&&s[0]===window.location.href,native:a||!1,file:l(s[0]||""),line:parseInt(s[1]||"",10)||void 0,column:parseInt(s[2]||"",10)||void 0}});return i.filter(t=>void 0!==t)}maxColumnWidths(){return{callee:30,file:60,sourceLine:80}}asTable(t){const e=t&&t.maxColumnWidths||this.maxColumnWidths(),i=this.filter(t=>!t.thirdParty).map(t=>m(t,e,this.isMP)),a=this.filter(t=>t.thirdParty).map(t=>m(t,e,this.isMP));return{items:i.items,thirdPartyItems:a.items}}}const h=(t,e)=>t&&(t.length>e?t.slice(0,e-1)+"\u2026":t),p=(t,e)=>t&&(t.length>e?"\u2026"+t.slice(-(e-1)):t);function m(t,e,i){if(!t.parsed)return t.beforeParse;const a=(i?t.file&&t.file:t.fileShort&&t.fileShort)+""+(t.line?":"+t.line:"")+(t.column?":"+t.column:"");return["at "+h(i?t.callee:t.calleeShort,e.callee),p(a||"",e.file),h((t.sourceLine||"").trim()||"",e.sourceLine)]}["map","filter","slice","concat"].forEach(t=>{f.prototype[t]=function(){return new f(this.items[t].apply(this.items,arguments))}});var g=f;const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");var v={encode:function(t){if(0<=t&&t<_.length)return _[t];throw new TypeError("Must be between 0 and 63: "+t)}},b=v;var y={encode:function(t){let e,i="",a=function(t){return t<0?1+(-t<<1):0+(t<<1)}(t);do{e=31&a,a>>>=5,a>0&&(e|=32),i+=b.encode(e)}while(a>0);return i}};function x(t){var e={exports:{}};return t(e,e.exports),e.exports}var w=x((function(t,e){e.getArg=function(t,e,i){if(e in t)return t[e];if(3===arguments.length)return i;throw new Error('"'+e+'" is a required argument.')};const i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function n(t){const e=t.match(i);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function r(t){let e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}e.urlParse=n,e.urlGenerate=r;const s=function(t){const e=[];return function(i){for(let t=0;t<e.length;t++)if(e[t].input===i){const i=e[0];return e[0]=e[t],e[t]=i,e[0].result}const a=t(i);return e.unshift({input:i,result:a}),e.length>32&&e.pop(),a}}((function(t){let i=t;const a=n(t);if(a){if(!a.path)return t;i=a.path}const s=e.isAbsolute(i),o=[];let u=0,c=0;while(1){if(u=c,c=i.indexOf("/",u),-1===c){o.push(i.slice(u));break}o.push(i.slice(u,c));while(c<i.length&&"/"===i[c])c++}let l=0;for(c=o.length-1;c>=0;c--){const t=o[c];"."===t?o.splice(c,1):".."===t?l++:l>0&&(""===t?(o.splice(c+1,l),l=0):(o.splice(c,2),l--))}return i=o.join("/"),""===i&&(i=s?"/":"."),a?(a.path=i,r(a)):i}));function o(t,e){""===t&&(t="."),""===e&&(e=".");const i=n(e),o=n(t);if(o&&(t=o.path||"/"),i&&!i.scheme)return o&&(i.scheme=o.scheme),r(i);if(i||e.match(a))return e;if(o&&!o.host&&!o.path)return o.host=e,r(o);const u="/"===e.charAt(0)?e:s(t.replace(/\/+$/,"")+"/"+e);return o?(o.path=u,r(o)):u}e.normalize=s,e.join=o,e.isAbsolute=function(t){return"/"===t.charAt(0)||i.test(t)},e.relative=function(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");let i=0;while(0!==e.indexOf(t+"/")){const a=t.lastIndexOf("/");if(a<0)return e;if(t=t.slice(0,a),t.match(/^([^\/]+:\/)?\/*$/))return e;++i}return Array(i+1).join("../")+e.substr(t.length+1)};const u=function(){const t=Object.create(null);return!("__proto__"in t)}();function c(t){return t}function l(t){if(!t)return!1;const e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(let i=e-10;i>=0;i--)if(36!==t.charCodeAt(i))return!1;return!0}function d(t,e){return t===e?0:null===t?1:null===e?-1:t>e?1:-1}e.toSetString=u?c:function(t){return l(t)?"$"+t:t},e.fromSetString=u?c:function(t){return l(t)?t.slice(1):t},e.compareByOriginalPositions=function(t,e,i){let a=d(t.source,e.source);return 0!==a?a:(a=t.originalLine-e.originalLine,0!==a?a:(a=t.originalColumn-e.originalColumn,0!==a||i?a:(a=t.generatedColumn-e.generatedColumn,0!==a?a:(a=t.generatedLine-e.generatedLine,0!==a?a:d(t.name,e.name)))))},e.compareByGeneratedPositionsDeflated=function(t,e,i){let a=t.generatedLine-e.generatedLine;return 0!==a?a:(a=t.generatedColumn-e.generatedColumn,0!==a||i?a:(a=d(t.source,e.source),0!==a?a:(a=t.originalLine-e.originalLine,0!==a?a:(a=t.originalColumn-e.originalColumn,0!==a?a:d(t.name,e.name)))))},e.compareByGeneratedPositionsInflated=function(t,e){let i=t.generatedLine-e.generatedLine;return 0!==i?i:(i=t.generatedColumn-e.generatedColumn,0!==i?i:(i=d(t.source,e.source),0!==i?i:(i=t.originalLine-e.originalLine,0!==i?i:(i=t.originalColumn-e.originalColumn,0!==i?i:d(t.name,e.name)))))},e.parseSourceMapInput=function(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(t,e,i){if(e=e||"",t&&("/"!==t[t.length-1]&&"/"!==e[0]&&(t+="/"),e=t+e),i){const t=n(i);if(!t)throw new Error("sourceMapURL could not be parsed");if(t.path){const e=t.path.lastIndexOf("/");e>=0&&(t.path=t.path.substring(0,e+1))}e=o(r(t),e)}return s(e)}}));class C{constructor(){this._array=[],this._set=new Map}static fromArray(t,e){const i=new C;for(let a=0,n=t.length;a<n;a++)i.add(t[a],e);return i}size(){return this._set.size}add(t,e){const i=this.has(t),a=this._array.length;i&&!e||this._array.push(t),i||this._set.set(t,a)}has(t){return this._set.has(t)}indexOf(t){const e=this._set.get(t);if(e>=0)return e;throw new Error('"'+t+'" is not in the set.')}at(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)}toArray(){return this._array.slice()}}var $=C,k={ArraySet:$},D=w;var S=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(t,e){this._array.forEach(t,e)}add(t){!function(t,e){const i=t.generatedLine,a=e.generatedLine,n=t.generatedColumn,r=e.generatedColumn;return a>i||a==i&&r>=n||D.compareByGeneratedPositionsInflated(t,e)<=0}(this._last,t)?(this._sorted=!1,this._array.push(t)):(this._last=t,this._array.push(t))}toArray(){return this._sorted||(this._array.sort(D.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}},T={MappingList:S},O=y,P=k,M=T;const A=P.ArraySet,I=M.MappingList;class j{constructor(t){t||(t={}),this._file=D.getArg(t,"file",null),this._sourceRoot=D.getArg(t,"sourceRoot",null),this._skipValidation=D.getArg(t,"skipValidation",!1),this._sources=new A,this._names=new A,this._mappings=new I,this._sourcesContents=null}static fromSourceMap(t){const e=t.sourceRoot,i=new j({file:t.file,sourceRoot:e});return t.eachMapping((function(t){const a={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(a.source=t.source,null!=e&&(a.source=D.relative(e,a.source)),a.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(a.name=t.name)),i.addMapping(a)})),t.sources.forEach((function(a){let n=a;null!==e&&(n=D.relative(e,a)),i._sources.has(n)||i._sources.add(n);const r=t.sourceContentFor(a);null!=r&&i.setSourceContent(a,r)})),i}addMapping(t){const e=D.getArg(t,"generated"),i=D.getArg(t,"original",null);let a=D.getArg(t,"source",null),n=D.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,i,a,n),null!=a&&(a=String(a),this._sources.has(a)||this._sources.add(a)),null!=n&&(n=String(n),this._names.has(n)||this._names.add(n)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=i&&i.line,originalColumn:null!=i&&i.column,source:a,name:n})}setSourceContent(t,e){let i=t;null!=this._sourceRoot&&(i=D.relative(this._sourceRoot,i)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[D.toSetString(i)]=e):this._sourcesContents&&(delete this._sourcesContents[D.toSetString(i)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(t,e,i){let a=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');a=t.file}const n=this._sourceRoot;null!=n&&(a=D.relative(n,a));const r=this._mappings.toArray().length>0?new A:this._sources,s=new A;this._mappings.unsortedForEach((function(e){if(e.source===a&&null!=e.originalLine){const a=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=a.source&&(e.source=a.source,null!=i&&(e.source=D.join(i,e.source)),null!=n&&(e.source=D.relative(n,e.source)),e.originalLine=a.line,e.originalColumn=a.column,null!=a.name&&(e.name=a.name))}const o=e.source;null==o||r.has(o)||r.add(o);const u=e.name;null==u||s.has(u)||s.add(u)}),this),this._sources=r,this._names=s,t.sources.forEach((function(e){const a=t.sourceContentFor(e);null!=a&&(null!=i&&(e=D.join(i,e)),null!=n&&(e=D.relative(n,e)),this.setSourceContent(e,a))}),this)}_validateMapping(t,e,i,a){if(e&&"number"!==typeof e.line&&"number"!==typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!e&&!i&&!a);else if(!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&i))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:i,original:e,name:a}))}_serializeMappings(){let t,e,i,a,n=0,r=1,s=0,o=0,u=0,c=0,l="";const d=this._mappings.toArray();for(let f=0,h=d.length;f<h;f++){if(e=d[f],t="",e.generatedLine!==r){n=0;while(e.generatedLine!==r)t+=";",r++}else if(f>0){if(!D.compareByGeneratedPositionsInflated(e,d[f-1]))continue;t+=","}t+=O.encode(e.generatedColumn-n),n=e.generatedColumn,null!=e.source&&(a=this._sources.indexOf(e.source),t+=O.encode(a-c),c=a,t+=O.encode(e.originalLine-1-o),o=e.originalLine-1,t+=O.encode(e.originalColumn-s),s=e.originalColumn,null!=e.name&&(i=this._names.indexOf(e.name),t+=O.encode(i-u),u=i)),l+=t}return l}_generateSourcesContent(t,e){return t.map((function(t){if(!this._sourcesContents)return null;null!=e&&(t=D.relative(e,t));const i=D.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null}),this)}toJSON(){const t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t}toString(){return JSON.stringify(this.toJSON())}}j.prototype._version=3;var F=x((function(t,e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,i,a,n){if(0===i.length)return-1;let r=function t(i,a,n,r,s,o){const u=Math.floor((a-i)/2)+i,c=s(n,r[u],!0);return 0===c?u:c>0?a-u>1?t(u,a,n,r,s,o):o==e.LEAST_UPPER_BOUND?a<r.length?a:-1:u:u-i>1?t(i,u,n,r,s,o):o==e.LEAST_UPPER_BOUND?u:i<0?-1:i}(-1,i.length,t,i,a,n||e.GREATEST_LOWER_BOUND);if(r<0)return-1;while(r-1>=0){if(0!==a(i[r],i[r-1],!0))break;--r}return r}})),L=x((function(t){{let e=null;t.exports=function(){if("string"===typeof e)return fetch(e).then(t=>t.arrayBuffer());if(e instanceof ArrayBuffer)return Promise.resolve(e);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},t.exports.initialize=t=>e=t}})),E=L;function q(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let R=null;var B=F,N=function(){if(R)return R;const t=[];return R=E().then(e=>WebAssembly.instantiate(e,{env:{mapping_callback(e,i,a,n,r,s,o,u,c,l){const d=new q;d.generatedLine=e+1,d.generatedColumn=i,a&&(d.lastGeneratedColumn=n-1),r&&(d.source=s,d.originalLine=o+1,d.originalColumn=u,c&&(d.name=l)),t[t.length-1](d)},start_all_generated_locations_for(){},end_all_generated_locations_for(){},start_compute_column_spans(){},end_compute_column_spans(){},start_generated_location_for(){},end_generated_location_for(){},start_original_location_for(){},end_original_location_for(){},start_parse_mappings(){},end_parse_mappings(){},start_sort_by_generated_location(){},end_sort_by_generated_location(){},start_sort_by_original_location(){},end_sort_by_original_location(){}}})).then(e=>({exports:e.instance.exports,withMappingCallback:(e,i)=>{t.push(e);try{i()}finally{t.pop()}}})).then(null,t=>{throw R=null,t}),R};const z=P.ArraySet,W=Symbol("smcInternal");class U{constructor(t,e){return t==W?Promise.resolve(this):function(t,e){let i=t;"string"===typeof t&&(i=D.parseSourceMapInput(t));const a=null!=i.sections?new Q(i,e):new H(i,e);return Promise.resolve(a)}(t,e)}static initialize(t){E.initialize(t["lib/mappings.wasm"])}static fromSourceMap(t,e){return function(t,e){return H.fromSourceMap(t,e)}(t,e)}static async with(t,e,i){const a=await new U(t,e);try{return await i(a)}finally{a.destroy()}}_parseMappings(t,e){throw new Error("Subclasses must implement _parseMappings")}eachMapping(t,e,i){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(t){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}U.prototype._version=3,U.GENERATED_ORDER=1,U.ORIGINAL_ORDER=2,U.GREATEST_LOWER_BOUND=1,U.LEAST_UPPER_BOUND=2;var V=U;class H extends U{constructor(t,e){return super(W).then(i=>{let a=t;"string"===typeof t&&(a=D.parseSourceMapInput(t));const n=D.getArg(a,"version");let r=D.getArg(a,"sources");const s=D.getArg(a,"names",[]);let o=D.getArg(a,"sourceRoot",null);const u=D.getArg(a,"sourcesContent",null),c=D.getArg(a,"mappings"),l=D.getArg(a,"file",null);if(n!=i._version)throw new Error("Unsupported version: "+n);return o&&(o=D.normalize(o)),r=r.map(String).map(D.normalize).map((function(t){return o&&D.isAbsolute(o)&&D.isAbsolute(t)?D.relative(o,t):t})),i._names=z.fromArray(s.map(String),!0),i._sources=z.fromArray(r,!0),i._absoluteSources=i._sources.toArray().map((function(t){return D.computeSourceURL(o,t,e)})),i.sourceRoot=o,i.sourcesContent=u,i._mappings=c,i._sourceMapURL=e,i.file=l,i._computedColumnSpans=!1,i._mappingsPtr=0,i._wasm=null,N().then(t=>(i._wasm=t,i))})}_findSourceIndex(t){let e=t;if(null!=this.sourceRoot&&(e=D.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);for(let i=0;i<this._absoluteSources.length;++i)if(this._absoluteSources[i]==t)return i;return-1}static fromSourceMap(t,e){return new H(t.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(t,e){const i=t.length,a=this._wasm.exports.allocate_mappings(i),n=new Uint8Array(this._wasm.exports.memory.buffer,a,i);for(let s=0;s<i;s++)n[s]=t.charCodeAt(s);const r=this._wasm.exports.parse_mappings(a);if(!r){const t=this._wasm.exports.get_last_error();let e=`Error parsing mappings (code ${t}): `;switch(t){case 1:e+="the mappings contained a negative line, column, source index, or name index";break;case 2:e+="the mappings contained a number larger than 2**32";break;case 3:e+="reached EOF while in the middle of parsing a VLQ";break;case 4:e+="invalid base 64 character while parsing a VLQ";break;default:e+="unknown error code";break}throw new Error(e)}this._mappingsPtr=r}eachMapping(t,e,i){const a=e||null,n=i||U.GENERATED_ORDER,r=this.sourceRoot;this._wasm.withMappingCallback(e=>{null!==e.source&&(e.source=this._sources.at(e.source),e.source=D.computeSourceURL(r,e.source,this._sourceMapURL),null!==e.name&&(e.name=this._names.at(e.name))),t.call(a,e)},()=>{switch(n){case U.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case U.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(t){let e=D.getArg(t,"source");const i=D.getArg(t,"line"),a=t.column||0;if(e=this._findSourceIndex(e),e<0)return[];if(i<1)throw new Error("Line numbers must be >= 1");if(a<0)throw new Error("Column numbers must be >= 0");const n=[];return this._wasm.withMappingCallback(t=>{let e=t.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),n.push({line:t.generatedLine,column:t.generatedColumn,lastColumn:e})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),e,i-1,"column"in t,a)}),n}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(t){const e={generatedLine:D.getArg(t,"line"),generatedColumn:D.getArg(t,"column")};if(e.generatedLine<1)throw new Error("Line numbers must be >= 1");if(e.generatedColumn<0)throw new Error("Column numbers must be >= 0");let i,a=D.getArg(t,"bias",U.GREATEST_LOWER_BOUND);if(null==a&&(a=U.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>i=t,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),e.generatedLine-1,e.generatedColumn,a)}),i&&i.generatedLine===e.generatedLine){let t=D.getArg(i,"source",null);null!==t&&(t=this._sources.at(t),t=D.computeSourceURL(this.sourceRoot,t,this._sourceMapURL));let e=D.getArg(i,"name",null);return null!==e&&(e=this._names.at(e)),{source:t,line:D.getArg(i,"originalLine",null),column:D.getArg(i,"originalColumn",null),name:e}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(t){return null==t})))}sourceContentFor(t,e){if(!this.sourcesContent)return null;const i=this._findSourceIndex(t);if(i>=0)return this.sourcesContent[i];let a,n=t;if(null!=this.sourceRoot&&(n=D.relative(this.sourceRoot,n)),null!=this.sourceRoot&&(a=D.urlParse(this.sourceRoot))){const t=n.replace(/^file:\/\//,"");if("file"==a.scheme&&this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];if((!a.path||"/"==a.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(e)return null;throw new Error('"'+n+'" is not in the SourceMap.')}generatedPositionFor(t){let e=D.getArg(t,"source");if(e=this._findSourceIndex(e),e<0)return{line:null,column:null,lastColumn:null};const i={source:e,originalLine:D.getArg(t,"line"),originalColumn:D.getArg(t,"column")};if(i.originalLine<1)throw new Error("Line numbers must be >= 1");if(i.originalColumn<0)throw new Error("Column numbers must be >= 0");let a,n=D.getArg(t,"bias",U.GREATEST_LOWER_BOUND);if(null==n&&(n=U.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(t=>a=t,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),i.source,i.originalLine-1,i.originalColumn,n)}),a&&a.source===i.source){let t=a.lastGeneratedColumn;return this._computedColumnSpans&&null===t&&(t=1/0),{line:D.getArg(a,"generatedLine",null),column:D.getArg(a,"generatedColumn",null),lastColumn:t}}return{line:null,column:null,lastColumn:null}}}H.prototype.consumer=U;var G=H;class Q extends U{constructor(t,e){return super(W).then(i=>{let a=t;"string"===typeof t&&(a=D.parseSourceMapInput(t));const n=D.getArg(a,"version"),r=D.getArg(a,"sections");if(n!=i._version)throw new Error("Unsupported version: "+n);i._sources=new z,i._names=new z,i.__generatedMappings=null,i.__originalMappings=null,i.__generatedMappingsUnsorted=null,i.__originalMappingsUnsorted=null;let s={line:-1,column:0};return Promise.all(r.map(t=>{if(t.url)throw new Error("Support for url field in sections not implemented.");const i=D.getArg(t,"offset"),a=D.getArg(i,"line"),n=D.getArg(i,"column");if(a<s.line||a===s.line&&n<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");s=i;const r=new U(D.getArg(t,"map"),e);return r.then(t=>({generatedOffset:{generatedLine:a+1,generatedColumn:n+1},consumer:t}))})).then(t=>(i._sections=t,i))})}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const t=this._generatedMappingsUnsorted;t.sort(D.compareByGeneratedPositionsDeflated),this.__generatedMappings=t}_sortOriginalMappings(){const t=this._originalMappingsUnsorted;t.sort(D.compareByOriginalPositions),this.__originalMappings=t}get sources(){const t=[];for(let e=0;e<this._sections.length;e++)for(let i=0;i<this._sections[e].consumer.sources.length;i++)t.push(this._sections[e].consumer.sources[i]);return t}originalPositionFor(t){const e={generatedLine:D.getArg(t,"line"),generatedColumn:D.getArg(t,"column")},i=B.search(e,this._sections,(function(t,e){const i=t.generatedLine-e.generatedOffset.generatedLine;return i||t.generatedColumn-e.generatedOffset.generatedColumn})),a=this._sections[i];return a?a.consumer.originalPositionFor({line:e.generatedLine-(a.generatedOffset.generatedLine-1),column:e.generatedColumn-(a.generatedOffset.generatedLine===e.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(t){return t.consumer.hasContentsOfAllSources()}))}sourceContentFor(t,e){for(let i=0;i<this._sections.length;i++){const e=this._sections[i],a=e.consumer.sourceContentFor(t,!0);if(a)return a}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')}generatedPositionFor(t){for(let e=0;e<this._sections.length;e++){const i=this._sections[e];if(-1===i.consumer._findSourceIndex(D.getArg(t,"source")))continue;const a=i.consumer.generatedPositionFor(t);if(a){const t={line:a.line+(i.generatedOffset.generatedLine-1),column:a.column+(i.generatedOffset.generatedLine===a.line?i.generatedOffset.generatedColumn-1:0)};return t}}return{line:null,column:null}}_parseMappings(t,e){const i=this.__generatedMappingsUnsorted=[],a=this.__originalMappingsUnsorted=[];for(let n=0;n<this._sections.length;n++){const t=this._sections[n],e=[];t.consumer.eachMapping(t=>e.push(t));for(let n=0;n<e.length;n++){const r=e[n];let s=D.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(s),s=this._sources.indexOf(s);let o=null;r.name&&(this._names.add(r.name),o=this._names.indexOf(r.name));const u={source:s,generatedLine:r.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:r.generatedColumn+(t.generatedOffset.generatedLine===r.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:r.originalLine,originalColumn:r.originalColumn,name:o};i.push(u),"number"===typeof u.originalLine&&a.push(u)}}}eachMapping(t,e,i){const a=e||null,n=i||U.GENERATED_ORDER;let r;switch(n){case U.GENERATED_ORDER:r=this._generatedMappings;break;case U.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const s=this.sourceRoot;r.map((function(t){let e=null;return null!==t.source&&(e=this._sources.at(t.source),e=D.computeSourceURL(s,e,this._sourceMapURL)),{source:e,generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}}),this).forEach(t,a)}_findMapping(t,e,i,a,n,r){if(t[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[i]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return B.search(t,e,n,r)}allGeneratedPositionsFor(t){const e=D.getArg(t,"line"),i={source:D.getArg(t,"source"),originalLine:e,originalColumn:D.getArg(t,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];if(i.originalLine<1)throw new Error("Line numbers must be >= 1");if(i.originalColumn<0)throw new Error("Column numbers must be >= 0");const a=[];let n=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",D.compareByOriginalPositions,B.LEAST_UPPER_BOUND);if(n>=0){let i=this._originalMappings[n];if(void 0===t.column){const t=i.originalLine;while(i&&i.originalLine===t){let t=i.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),a.push({line:D.getArg(i,"generatedLine",null),column:D.getArg(i,"generatedColumn",null),lastColumn:t}),i=this._originalMappings[++n]}}else{const t=i.originalColumn;while(i&&i.originalLine===e&&i.originalColumn==t){let t=i.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),a.push({line:D.getArg(i,"generatedLine",null),column:D.getArg(i,"generatedColumn",null),lastColumn:t}),i=this._originalMappings[++n]}}}return a}destroy(){for(let t=0;t<this._sections.length;t++)this._sections[t].consumer.destroy()}}var J=Q;var Y={SourceMapConsumer:V,BasicSourceMapConsumer:G,IndexedSourceMapConsumer:J};var X=Y,K=X.SourceMapConsumer;K.initialize&&K.initialize({"lib/mappings.wasm":"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm"});const Z=t=>t.replace(/\\/g,"/"),tt={};function et(t,e){const i=e.preset.parseStacktrace(t);let a=Promise.resolve();i.items.forEach((t,n)=>{const r=(t,a)=>{const{line:n=0,column:s=0,file:o,fileName:u,fileRelative:c}=t;if(t.thirdParty)return Promise.resolve();try{return function(t,i,a){return e.preset.getSourceMapContent(t,i,a).then(t=>{if(t)return function(t){return new Promise((e,i)=>{try{if(K.with)K.with(t,null,t=>{e(t)});else{const i=K(t);e(i)}}catch(a){i()}})}(t).then(t=>function(t,e){const{source:i,line:a,column:n}=t.originalPositionFor(e);if(i){const t=i.split("/"),e=t.slice(3).join("/"),r=t.pop();return{source:i,sourcePath:e,sourceLine:null===a?0:a,sourceColumn:null===n?0:n,fileName:r}}}(t,{line:n,column:s}))})}(o,u,c).then(e=>{if(e){const{source:n,sourcePath:s,sourceLine:o,sourceColumn:u,fileName:c=""}=e;i.items[a]=Object.assign({},t,{file:n,line:o,column:u,fileShort:s,fileRelative:n,fileName:c,thirdParty:it(s),parsed:!0});const l=i.items[a];if(i.isMP&&-1!==l.beforeParse.indexOf("app-service"))return r(l,a)}})}catch(l){return Promise.resolve()}};a=a.then(()=>new Promise((e,i)=>{setTimeout(()=>{r(t,n).then(e)},0)}))});const n=new Promise((n,r)=>{a.then(()=>{const a=e.preset.asTableStacktrace({stack:i,maxColumnWidths:{callee:999,file:999,sourceLine:999},stacktrace:t});n(a)}).catch(()=>{n(t)})});return n}function it(t){return-1!==t.indexOf("@dcloudio")}function at(t){try{return tt[t]||(tt[t]=new Promise((e,i)=>{try{/^[http|https]+:/i.test(t)?uni.request({url:t,success:i=>{200===i.statusCode?(tt[t]=i.data,e(tt[t])):e(tt[t]="")},fail(){e(tt[t]="")}}):(tt[t]=r.a.readFileSync(t,"utf-8"),e(tt[t]))}catch(a){e("")}}))}catch(e){return""}}function nt(t){if("string"===typeof t)return t;const e=t[0],i=t[1]?"  "+t[1]:"",a=t[2]?" "+t[2]:"";return`${e}${i}${a}`}function rt(t){const{base:e,sourceRoot:i,splitThirdParty:a,uniPlatform:n}=t;let r;return{parseSourceMapUrl(t,a,n){if(-1!==n.indexOf("(")&&(n=n.match(/\((.*)/)[1]),!e||!n)return"";if(i)return n.replace(i,e+"/")+".map";let s="";return r.isMP&&(-1!==n.indexOf("app-service.js")&&(s=(e.match(/\w$/)?"/":"")+"__WEIXIN__",n===a&&(s+="/__APP__"),n=n.replace(".js",".map")),s&&n.match(/^\w/)&&(s+="/")),`${e}${s}${n}.map`},getSourceMapContent(t,e,i){if(r.isMP&&-1===i.indexOf(".js"))return Promise.resolve("");const a=this.parseSourceMapUrl(t,e,i);return Promise.resolve(at(a))},parseStacktrace(t){return r=new g(t,n),r},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:i}){const n=e.split("\n")[0],r=i.asTable?i.asTable(t?{maxColumnWidths:t}:void 0):{items:[],thirdPartyItems:[]};if(r.items.length||r.thirdPartyItems.length){const{items:t,thirdPartyItems:e}=r,n=i.itemsHeader.map(e=>{if("%StacktraceyItem%"===e){const e=t.shift();return e?nt(e):""}return e}).filter(Boolean).join("\n"),s=e.length?e.map(nt).join("\n"):"";return a?{userError:n,thirdParty:s}:n+"\n"+s}return a?{userError:n,thirdParty:""}:n}}}function st(t){const{base:e,sourceRoot:i}=t;let a=[];return{parseSourceMapUrl(t,a,n){return i?t.replace(i,e+"/")+".map":`${e}/${t}.map`},getSourceMapContent(t,e,i){return Promise.resolve(at(this.parseSourceMapUrl(t,e,i)))},parseStacktrace(t){const e=(t||"").split("\n"),i=e.map((t,e)=>{t=t.trim();let i,n,r,s=[];if(!(n=t.match(/e: (.+\.kt)(.+\))*:\s*(.+)*/)))return void a.push(t);a.push("%StacktraceyItem%"),i="e: ",s=(n[2].match(/.*:.*\((\d+).+?(\d+)\)/)||[]).slice(1);const o=n[1]&&(r=n[1].match(/(.*)*\/(.+)/)||[])[2]||"";return{beforeParse:t,callee:i||"",index:!1,native:!1,file:Z(n[1]||""),line:parseInt(s[0]||"",10)||void 0,column:parseInt(s[1]||"",10)||void 0,fileName:o,fileShort:r?r[1]:"",errMsg:n[3]||"",calleeShort:"",fileRelative:"",thirdParty:!1}}).filter(t=>void 0!==t);return{items:i,itemsHeader:[]}},asTableStacktrace({maxColumnWidths:t,stacktrace:e,stack:i}){return a.map(t=>{if("%StacktraceyItem%"===t){const t=i.items.shift();if(t)return`${t.callee}${t.file}: (${t.line}, ${t.column}): ${t.errMsg}`}return t}).join("\n")}}}}.call(this,i("dd40")(t),i("4362"))},ad5e:function(t,e,i){"use strict";i.r(e);var a=i("eb4d"),n=i("3d72");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},ad63:function(t,e,i){"use strict";i.r(e);var a=i("2fc1"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},adb2:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("d2f6")),r=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),s={mixins:[n.default],data:function(){return{lock:!1,focusPhone:!0,focusPassword:!1,focusPassword2:!1,formData:{phone:"",code:"",password:"",password2:"",captcha:""},rules:{phone:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1\d{10}$/,errorMessage:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"}]},code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801"}]},password:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"}]},password2:{rules:[{required:!0,errorMessage:"\u8bf7\u786e\u8ba4\u5bc6\u7801"},{pattern:/^.{6,20}$/,errorMessage:"\u5bc6\u7801\u4e3a6 - 20\u4f4d"},{validateFunction:function(t,e,i,a){return e!=i.password&&a("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4"),!0}}]}},logo:"/static/logo.png"}},computed:{isPhone:function(){var t=/^1\d{10}$/.test(this.formData.phone);return t},isPwd:function(){var t=/^.{6,20}$/.test(this.formData.password);return t},isCode:function(){var t=/^\d{6}$/.test(this.formData.code);return t}},onLoad:function(t){t&&t.phoneNumber&&(this.formData.phone=t.phoneNumber,t.lock&&(this.lock=t.lock,this.focusPhone=!0))},onReady:function(){this.formData.phone&&this.$refs.shortCode.start(),this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){var i=t.formData,a=i["phone"],n=i["password"],s=i.captcha,o=i.code;r.resetPwdBySms({mobile:a,code:o,password:n,captcha:s}).then((function(t){uni.navigateBack()})).catch((function(e){"uni-id-captcha-required"==e.errCode&&t.$refs.popup.open()})).finally((function(e){t.formData.captcha=""}))})).catch((function(e){var i=e[0].key;if("code"==i)return t.$refs.shortCode.focusSmsCodeInput=!0;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))},retrieveByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/retrieve/retrieve-by-email"})},backLogin:function(){uni.redirectTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})}}};e.default=s}).call(this,i("a9ff")["default"])},aef7:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("831c")),r={name:"uniTr",components:{tableCheckbox:n.default},props:{disabled:{type:Boolean,default:!1},keyValue:{type:[String,Number],default:""}},options:{virtualHost:!0},data:function(){return{value:!1,border:!1,selection:!1,widthThArr:[],ishead:!0,checked:!1,indeterminate:!1}},created:function(){var t=this;this.root=this.getTable(),this.head=this.getTable("uniThead"),this.head&&(this.ishead=!1,this.head.init(this)),this.border=this.root.border,this.selection=this.root.type,this.root.trChildren.push(this);var e=this.root.data.find((function(e){return e[t.root.rowKey]===t.keyValue}));e&&(this.rowData=e),this.root.isNodata()},mounted:function(){if(this.widthThArr.length>0){var t="selection"===this.selection?50:0;this.root.minWidth=this.widthThArr.reduce((function(t,e){return Number(t)+Number(e)}))+t}},destroyed:function(){var t=this,e=this.root.trChildren.findIndex((function(e){return e===t}));this.root.trChildren.splice(e,1),this.root.isNodata()},methods:{minWidthUpdate:function(t){this.widthThArr.push(t)},checkboxSelected:function(t){var e=this,i=this.root.data.find((function(t){return t[e.root.rowKey]===e.keyValue}));this.checked=t.checked,this.root.check(i||this,t.checked,i?this.keyValue:null)},change:function(t){var e=this;this.root.trChildren.forEach((function(i){i===e&&e.root.check(e,t.detail.value.length>0)}))},getTable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniTable",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=r},afe6:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-table-scroll"),class:t._$s(0,"c",{"table--border":t.border,"border-none":!t.noData}),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-table"),class:t._$s(1,"c",{"table--stripe":t.stripe}),style:t._$s(1,"s",{"min-width":t.minWidth+"px"}),attrs:{_i:1}},[t._t("default",null,{_i:2}),t._$s(3,"i",t.noData)?i("view",{staticClass:t._$s(3,"sc","uni-table-loading"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-table-text"),class:t._$s(4,"c",{"empty-border":t.border}),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.emptyText)))])]):t._e(),t._$s(5,"i",t.loading)?i("view",{staticClass:t._$s(5,"sc","uni-table-mask"),class:t._$s(5,"c",{"empty-border":t.border}),attrs:{_i:5}},[i("div",{staticClass:t._$s(6,"sc","uni-table--loader"),attrs:{_i:6}})]):t._e()],2)])},n=[]},afe8:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.createAnimation=function(t,e){if(!e)return;return clearTimeout(e.timer),new c(t,e)};var n=a(i("9523")),r=a(i("970b")),s=a(i("5bc3"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=function(){function t(e,i){(0,r.default)(this,t),this.options=e,this.animation=uni.createAnimation(e),this.currentStepAnimates={},this.next=0,this.$=i}return(0,s.default)(t,[{key:"_nvuePushAnimates",value:function(t,e){var i=this.currentStepAnimates[this.next],a={};if(a=i||{styles:{},config:{}},l.includes(t)){a.styles.transform||(a.styles.transform="");var n="";"rotate"===t&&(n="deg"),a.styles.transform+="".concat(t,"(").concat(e+n,") ")}else a.styles[t]="".concat(e);this.currentStepAnimates[this.next]=a}},{key:"_animateRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.$.$refs["ani"].ref;if(i)return new Promise((function(a,n){nvueAnimation.transition(i,u({styles:t},e),(function(t){a()}))}))}},{key:"_nvueNextAnimate",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,n=t[i];if(n){var r=n.styles,s=n.config;this._animateRun(r,s).then((function(){i+=1,e._nvueNextAnimate(t,i,a)}))}else this.currentStepAnimates={},"function"===typeof a&&a(),this.isEnd=!0}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(t),this}},{key:"run",value:function(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof t&&t()}),this.$.durationTime)}}]),t}(),l=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];l.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((function(t){c.prototype[t]=function(){var e;return(e=this.animation)[t].apply(e,arguments),this}}))},b029:function(t,e,i){"use strict";i.r(e);var a=i("0aa6"),n=i("2e56");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4ac41209",null,!1,a["a"],void 0);e["default"]=o.exports},b07b:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("83c8");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={role_id:"",role_name:"",permission:[],comment:"",create_date:null};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){t.submitForm(e)})).catch((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;u.collection("uni-id-roles").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-roles").doc(t).field("role_id,role_name,permission,comment,create_date").get().then((function(t){var i=t.result.data[0];i&&(e.formData=i)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,i("a9ff")["default"])},b0d2:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r=(a(i("0b4c")),a(i("41a9"))),s=a(i("7156"));function o(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];for(var r in i)for(var s in i[r])i[r].hasOwnProperty(s)&&(t[s]=i[r][s]&&"object"===(0,n.default)(i[r][s])?o(Array.isArray(i[r][s])?[]:{},t[s],i[r][s]):i[r][s]);return t}function u(t){var e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a);var n=e+"-"+i+"-"+a;return n}var c={name:"qiun-data-charts",mixins:[t.mixinDatacom],props:{type:{type:String,default:null},canvasId:{type:String,default:"uchartsid"},canvas2d:{type:Boolean,default:!1},background:{type:String,default:"rgba(0,0,0,0)"},animation:{type:Boolean,default:!0},chartData:{type:Object,default:function(){return{categories:[],series:[]}}},opts:{type:Object,default:function(){return{}}},eopts:{type:Object,default:function(){return{}}},loadingType:{type:Number,default:2},errorShow:{type:Boolean,default:!0},errorReload:{type:Boolean,default:!0},errorMessage:{type:String,default:null},inScrollView:{type:Boolean,default:!1},reshow:{type:Boolean,default:!1},reload:{type:Boolean,default:!1},disableScroll:{type:Boolean,default:!1},optsWatch:{type:Boolean,default:!0},onzoom:{type:Boolean,default:!1},ontap:{type:Boolean,default:!0},ontouch:{type:Boolean,default:!1},onmouse:{type:Boolean,default:!0},onmovetip:{type:Boolean,default:!1},echartsH5:{type:Boolean,default:!1},echartsApp:{type:Boolean,default:!1},tooltipShow:{type:Boolean,default:!0},tooltipFormat:{type:String,default:void 0},tooltipCustom:{type:Object,default:void 0},startDate:{type:String,default:void 0},endDate:{type:String,default:void 0},textEnum:{type:Array,default:function(){return[]}},groupEnum:{type:Array,default:function(){return[]}},pageScrollTop:{type:Number,default:0},directory:{type:String,default:"/"},tapLegend:{type:Boolean,default:!0},menus:{type:Array,default:function(){return[]}}},data:function(){return{cid:"uchartsid",inWx:!1,inAli:!1,inTt:!1,inBd:!1,inH5:!1,inApp:!1,inWin:!1,type2d:!0,disScroll:!1,openmouse:!1,pixel:1,cWidth:375,cHeight:250,showchart:!1,echarts:!1,echartsResize:{state:!1},uchartsOpts:{},echartsOpts:{},drawData:{},lastDrawTime:null}},created:function(){if(this.cid=this.canvasId,"uchartsid"==this.canvasId||""==this.canvasId){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e=t.length,i="",a=0;a<32;a++)i+=t.charAt(Math.floor(Math.random()*e));this.cid=i}var n=uni.getSystemInfoSync();"windows"!==n.platform&&"mac"!==n.platform||(this.inWin=!0),this.type2d=!1,this.disScroll=this.disableScroll},mounted:function(){var t=this;this.inApp=!0,!0===this.echartsApp&&(this.echarts=!0,this.openmouse=!1),this.$nextTick((function(){t.beforeInit()}))},destroyed:function(){!0===this.echarts?(delete s.default.option[this.cid],delete s.default.instance[this.cid]):(delete r.default.option[this.cid],delete r.default.instance[this.cid]),uni.offWindowResize((function(){}))},watch:{chartDataProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&(this._clearChart(),t.series&&t.series.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this.showchart=!1,this.mixinDatacomErrorMessage=null)):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1achartData\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},localdata:{handler:function(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(t.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null))},immediate:!1,deep:!0},optsProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&!1===this.echarts&&1==this.optsWatch&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},eoptsProps:{handler:function(t,e){"object"===(0,n.default)(t)?JSON.stringify(t)!==JSON.stringify(e)&&!0===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aeopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},reshow:function(t,e){var i=this;!0===t&&!1===this.mixinDatacomLoading&&setTimeout((function(){i.mixinDatacomErrorMessage=null,i.echartsResize.state=!i.echartsResize.state,i.checkData(i.drawData)}),200)},reload:function(t,e){!0===t&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())},mixinDatacomErrorMessage:function(t,e){t&&(this.emitMsg({name:"error",params:{type:"error",errorShow:this.errorShow,msg:t,id:this.cid}}),this.errorShow)},errorMessage:function(t,e){t&&this.errorShow&&null!==t&&"null"!==t&&""!==t?(this.showchart=!1,this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=t):(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())}},computed:{optsProps:function(){return JSON.parse(JSON.stringify(this.opts))},eoptsProps:function(){return JSON.parse(JSON.stringify(this.eopts))},chartDataProps:function(){return JSON.parse(JSON.stringify(this.chartData))}},methods:{beforeInit:function(){this.mixinDatacomErrorMessage=null,"object"===(0,n.default)(this.chartData)&&null!=this.chartData&&void 0!==this.chartData.series&&this.chartData.series.length>0?(this.drawData=o({},this.chartData),this.mixinDatacomLoading=!1,this.showchart=!0,this.checkData(this.chartData)):this.localdata.length>0?(this.mixinDatacomLoading=!1,this.showchart=!0,this.localdataInit(this.localdata)):""!==this.collection?(this.mixinDatacomLoading=!1,this.getCloudData()):this.mixinDatacomLoading=!0},localdataInit:function(t){if(this.groupEnum.length>0)for(var e=0;e<t.length;e++)for(var i=0;i<this.groupEnum.length;i++)t[e].group===this.groupEnum[i].value&&(t[e].group=this.groupEnum[i].text);if(this.textEnum.length>0)for(var a=0;a<t.length;a++)for(var n=0;n<this.textEnum.length;n++)t[a].text===this.textEnum[n].value&&(t[a].text=this.textEnum[n].text);var c=!1,l={categories:[],series:[]},d=[],f=[];if(c=!0===this.echarts?s.default.categories.includes(this.type):r.default.categories.includes(this.type),!0===c){if(this.chartData&&this.chartData.categories&&this.chartData.categories.length>0)d=this.chartData.categories;else if(this.startDate&&this.endDate){var h=new Date(this.startDate),p=new Date(this.endDate);while(h<=p)d.push(u(h)),h=h.setDate(h.getDate()+1),h=new Date(h)}else{var m={};t.map((function(t,e){void 0==t.text||m[t.text]||(d.push(t.text),m[t.text]=!0)}))}l.categories=d}var g={};if(t.map((function(t,e){void 0==t.group||g[t.group]||(f.push({name:t.group,data:[]}),g[t.group]=!0)})),0==f.length)if(f=[{name:"\u9ed8\u8ba4\u5206\u7ec4",data:[]}],!0===c)for(var _=0;_<d.length;_++){for(var v=0,b=0;b<t.length;b++)t[b].text==d[_]&&(v=t[b].value);f[0].data.push(v)}else for(var y=0;y<t.length;y++)f[0].data.push({name:t[y].text,value:t[y].value});else for(var x=0;x<f.length;x++)if(d.length>0)for(var w=0;w<d.length;w++){for(var C=0,$=0;$<t.length;$++)f[x].name==t[$].group&&t[$].text==d[w]&&(C=t[$].value);f[x].data.push(C)}else for(var k=0;k<t.length;k++)f[x].name==t[k].group&&f[x].data.push(t[k].value);l.series=f,this.drawData=o({},l),this.checkData(l)},reloading:function(){!1!==this.errorReload&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,""!==this.collection?(this.mixinDatacomLoading=!1,this.onMixinDatacomPropsChange(!0)):this.beforeInit())},checkData:function(t){var e=this,i=this.cid;!0===this.echarts?(s.default.option[i]=o({},this.eopts),s.default.option[i].id=i,s.default.option[i].type=this.type):this.type&&r.default.type.includes(this.type)?(r.default.option[i]=o({},r.default[this.type],this.opts),r.default.option[i].canvasId=i):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aprops\u53c2\u6570\u4e2dtype\u7c7b\u578b\u4e0d\u6b63\u786e");var a=o({},t);void 0!==a.series&&a.series.length>0&&(this.mixinDatacomErrorMessage=null,!0===this.echarts?(s.default.option[i].chartData=a,this.$nextTick((function(){e.init()}))):(r.default.option[i].categories=a.categories,r.default.option[i].series=a.series,this.$nextTick((function(){e.init()}))))},resizeHandler:function(){var t=this,e=Date.now(),i=this.lastDrawTime?this.lastDrawTime:e-3e3,a=e-i;if(!(a<1e3))uni.createSelectorQuery().in(this).select("#ChartBoxId"+this.cid).boundingClientRect((function(e){t.showchart=!0,e.width>0&&e.height>0&&(e.width===t.cWidth&&e.height===t.cHeight||t.checkData(t.drawData))})).exec()},getCloudData:function(){var t=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(e){t.mixinDatacomResData=e.result.data,t.localdataInit(t.mixinDatacomResData)})).catch((function(e){t.mixinDatacomLoading=!1,t.showchart=!1,t.mixinDatacomErrorMessage="\u8bf7\u6c42\u9519\u8bef\uff1a"+e})))},onMixinDatacomPropsChange:function(t,e){1==t&&""!==this.collection&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this._clearChart(),this.getCloudData())},_clearChart:function(){var t=this.cid;if(!0!==this.echarts&&r.default.option[t]&&r.default.option[t].context){var e=r.default.option[t].context;"object"!==(0,n.default)(e)||r.default.option[t].update||(e.clearRect(0,0,this.cWidth*this.pixel,this.cHeight*this.pixel),e.draw())}},init:function(){var t=this,e=this.cid;uni.createSelectorQuery().in(this).select("#ChartBoxId"+e).boundingClientRect((function(i){i.width>0&&i.height>0?(t.mixinDatacomLoading=!1,t.showchart=!0,t.lastDrawTime=Date.now(),t.cWidth=i.width,t.cHeight=i.height,!0!==t.echarts&&(r.default.option[e].background="rgba(0,0,0,0)"==t.background?"#FFFFFF":t.background,r.default.option[e].canvas2d=t.type2d,r.default.option[e].pixelRatio=t.pixel,r.default.option[e].animation=t.animation,r.default.option[e].width=i.width*t.pixel,r.default.option[e].height=i.height*t.pixel,r.default.option[e].onzoom=t.onzoom,r.default.option[e].ontap=t.ontap,r.default.option[e].ontouch=t.ontouch,r.default.option[e].onmouse=t.openmouse,r.default.option[e].onmovetip=t.onmovetip,r.default.option[e].tooltipShow=t.tooltipShow,r.default.option[e].tooltipFormat=t.tooltipFormat,r.default.option[e].tooltipCustom=t.tooltipCustom,r.default.option[e].inScrollView=t.inScrollView,r.default.option[e].lastDrawTime=t.lastDrawTime,r.default.option[e].tapLegend=t.tapLegend),t.inH5||t.inApp?1==t.echarts?(s.default.option[e].ontap=t.ontap,s.default.option[e].onmouse=t.openmouse,s.default.option[e].tooltipShow=t.tooltipShow,s.default.option[e].tooltipFormat=t.tooltipFormat,s.default.option[e].tooltipCustom=t.tooltipCustom,s.default.option[e].lastDrawTime=t.lastDrawTime,t.echartsOpts=o({},s.default.option[e])):(r.default.option[e].rotateLock=r.default.option[e].rotate,t.uchartsOpts=o({},r.default.option[e])):(r.default.option[e]=function t(e,i){for(var a in e)e.hasOwnProperty(a)&&null!==e[a]&&"object"===(0,n.default)(e[a])?t(e[a],i):"format"===a&&"string"===typeof e[a]&&(e["formatter"]=i[e[a]]?i[e[a]]:void 0);return e}(r.default.option[e],r.default.formatter),t.mixinDatacomErrorMessage=null,t.mixinDatacomLoading=!1,t.showchart=!0,t.$nextTick((function(){if(!0===t.type2d){var a=uni.createSelectorQuery().in(t);a.select("#"+e).fields({node:!0,size:!0}).exec((function(a){if(a[0]){var n=a[0].node,s=n.getContext("2d");r.default.option[e].context=s,r.default.option[e].rotateLock=r.default.option[e].rotate,r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):(n.width=i.width*t.pixel,n.height=i.height*t.pixel,n._width=i.width*t.pixel,n._height=i.height*t.pixel,setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100))}else t.showchart=!1,t.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1a\u5f00\u542f2d\u6a21\u5f0f\u540e\uff0c\u672a\u83b7\u53d6\u5230dom\u8282\u70b9\uff0ccanvas-id:"+e}))}else t.inAli&&(r.default.option[e].rotateLock=r.default.option[e].rotate),r.default.option[e].context=uni.createCanvasContext(e,t),r.default.instance[e]&&r.default.option[e]&&!0===r.default.option[e].update?t._updataUChart(e):setTimeout((function(){r.default.option[e].context.restore(),r.default.option[e].context.save(),t._newChart(e)}),100)})))):(t.mixinDatacomLoading=!1,t.showchart=!1,1==t.reshow&&(t.mixinDatacomErrorMessage="\u5e03\u5c40\u9519\u8bef\uff1a\u672a\u83b7\u53d6\u5230\u7236\u5143\u7d20\u5bbd\u9ad8\u5c3a\u5bf8\uff01canvas-id:"+e))})).exec()},saveImage:function(){uni.canvasToTempFilePath({canvasId:this.cid,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f",duration:2e3})}})}},this)},getImage:function(){var t=this;if(0==this.type2d)uni.canvasToTempFilePath({canvasId:this.cid,success:function(e){t.emitMsg({name:"getImage",params:{type:"getImage",base64:e.tempFilePath}})}},this);else{var e=uni.createSelectorQuery().in(this);e.select("#"+this.cid).fields({node:!0,size:!0}).exec((function(e){if(e[0]){var i=e[0].node;t.emitMsg({name:"getImage",params:{type:"getImage",base64:i.toDataURL("image/png")}})}}))}},_error:function(t){this.mixinDatacomErrorMessage=t.detail.errMsg},emitMsg:function(t){this.$emit(t.name,t.params)},getRenderType:function(){!0===this.echarts&&!1===this.mixinDatacomLoading&&this.beforeInit()},toJSON:function(){return this}}};e.default=c}).call(this,i("a9ff")["default"])},b0e7:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),s=(n(i("ecb7")),n(i("d2f6"))),o=(n(i("2543")),n(i("1b03")));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l=t.importObject("uni-id-co"),d={mixins:[s.default],data:function(){return{formData:{email:"",nickname:"",password:"",password2:"",code:""},rules:c(c({email:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1"},{format:"email",errorMessage:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,i,a){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&a("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&a("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"}},o.default.getPwdRules()),{},{code:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u9a8c\u8bc1\u7801"},{pattern:/^.{6}$/,errorMessage:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e"}]}}),focusEmail:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){if(t.needAgreements&&!t.agree)return t.$refs.agreements.popup((function(){t.submitForm(e)}));t.submitForm(e)})).catch((function(e){var i=e[0].key;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))},submitForm:function(t){l.registerUserByEmail(this.formData).then((function(t){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd",complete:function(t){}})})).catch((function(t){t.message}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByUserName:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register"})}}};e.default=d}).call(this,i("a9ff")["default"],i("0de9")["default"])},b14b:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","uni-container"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-stat--x flex p-1015"),attrs:{_i:4}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:5},model:{value:t._$s(5,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(6,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:6},model:{value:t._$s(6,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(7,"sc","uni-stat--x"),attrs:{_i:7}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:8},on:{change:t.platformChange},model:{value:t._$s(8,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(9,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{staticClass:t._$s(9,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:9},model:{value:t._$s(9,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("statPanelTotal",{attrs:{query:t.query,_i:10}}),i("statPanelToday",{attrs:{query:t.query,_i:11}}),i("trendChart",{attrs:{query:t.query,_i:12}})],1),i("fix-window",{attrs:{_i:13}})],1)},r=[]},b151:function(t,e,i){"use strict";i.r(e);var a=i("dcbc"),n=i("0b31");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},b166:function(t,e,i){"use strict";i.r(e);var a=i("68bf"),n=i("faff");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},b17c:function(t,e,i){var a=i("4a4b"),n=i("6f8f");function r(e,i,s){return n()?(t.exports=r=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports["default"]=t.exports):(t.exports=r=function(t,e,i){var n=[null];n.push.apply(n,e);var r=Function.bind.apply(t,n),s=new r;return i&&a(s,i.prototype),s},t.exports.__esModule=!0,t.exports["default"]=t.exports),r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},b1f9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validator=e.enumConverter=void 0;e.validator={appid:{rules:[{required:!0},{format:"string"}],label:"AppID"},name:{rules:[{format:"string"}],label:"\u5e94\u7528\u540d\u79f0"},title:{rules:[{format:"string"}],label:"\u66f4\u65b0\u6807\u9898"},contents:{rules:[{required:!0},{format:"string"}],label:"\u66f4\u65b0\u5185\u5bb9"},platform:{rules:[{required:!0},{range:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}]}],label:"\u5e73\u53f0"},type:{rules:[{required:!0},{format:"string"},{range:[{value:"native_app",text:"\u539f\u751fApp\u5b89\u88c5\u5305"},{value:"wgt",text:"wgt\u8d44\u6e90\u5305"}]}],label:"\u5b89\u88c5\u5305\u7c7b\u578b"},version:{rules:[{required:!0},{format:"string"}],label:"\u7248\u672c\u53f7"},min_uni_version:{rules:[{format:"string"}],label:"\u539f\u751fApp\u6700\u4f4e\u7248\u672c"},url:{rules:[{required:!0},{format:"string"}],label:"\u5305\u5730\u5740"},stable_publish:{rules:[{format:"bool"}],label:"\u4e0a\u7ebf\u53d1\u884c"},create_date:{rules:[{format:"timestamp"}],label:"\u4e0a\u4f20\u65f6\u95f4"},is_silently:{rules:[{format:"bool"}],label:"\u9759\u9ed8\u66f4\u65b0",defaultValue:!1},is_mandatory:{rules:[{format:"bool"}],label:"\u5f3a\u5236\u66f4\u65b0",defaultValue:!1}};e.enumConverter={platform_valuetotext:[{value:"Android",text:"\u5b89\u5353"},{value:"iOS",text:"\u82f9\u679c"}],type_valuetotext:{native_app:"\u539f\u751fApp\u5b89\u88c5\u5305",wgt:"wgt\u8d44\u6e90\u5305"}}},b213:function(t,e,i){"use strict";i.r(e);var a=i("b819"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b214:function(t){t.exports=JSON.parse('{"uni-datetime-picker.selectDate":"\u9009\u62e9\u65e5\u671f","uni-datetime-picker.selectTime":"\u9009\u62e9\u65f6\u95f4","uni-datetime-picker.selectDateTime":"\u9009\u62e9\u65e5\u671f\u65f6\u95f4","uni-datetime-picker.startDate":"\u5f00\u59cb\u65e5\u671f","uni-datetime-picker.endDate":"\u7ed3\u675f\u65e5\u671f","uni-datetime-picker.startTime":"\u5f00\u59cb\u65f6\u95f4","uni-datetime-picker.endTime":"\u7ed3\u675f\u65f6\u95f4","uni-datetime-picker.ok":"\u786e\u5b9a","uni-datetime-picker.clear":"\u6e05\u9664","uni-datetime-picker.cancel":"\u53d6\u6d88","uni-datetime-picker.year":"\u5e74","uni-datetime-picker.month":"\u6708","uni-calender.SUN":"\u65e5","uni-calender.MON":"\u4e00","uni-calender.TUE":"\u4e8c","uni-calender.WED":"\u4e09","uni-calender.THU":"\u56db","uni-calender.FRI":"\u4e94","uni-calender.SAT":"\u516d","uni-calender.confirm":"\u786e\u8ba4"}')},b372:function(t,e,i){"use strict";i.r(e);var a=i("8577"),n=i("fdce");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},b3ea:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("d2f6")),s=t.importObject("uni-id-co",{errorOptions:{type:"toast"}}),o={mixins:[r.default],data:function(){return{password:"",username:"",captcha:"",needCaptcha:!1,focusUsername:!1,focusPassword:!1,logo:"/static/logo.png"}},onShow:function(){},methods:{toRetrievePwd:function(){var t="/uni_modules/uni-id-pages/pages/retrieve/retrieve";/^1\d{10}$/.test(this.username)&&(t+="?phoneNumber=".concat(this.username)),uni.navigateTo({url:t})},pwdLogin:function(){var t=this;if(!this.password.length)return this.focusPassword=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u5bc6\u7801",icon:"none",duration:3e3});if(!this.username.length)return this.focusUsername=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7/\u7528\u6237\u540d/\u90ae\u7bb1",icon:"none",duration:3e3});if(this.needCaptcha&&4!=this.captcha.length)return this.$refs.captcha.getImageCaptcha(),uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(this.needAgreements&&!this.agree)return this.$refs.agreements.popup(this.pwdLogin);var e={password:this.password,captcha:this.captcha};/^1\d{10}$/.test(this.username)?e.mobile=this.username:/@/.test(this.username)?e.email=this.username:e.username=this.username,s.login(e).then((function(e){t.loginSuccess(e)})).catch((function(e){"uni-id-captcha-required"==e.errCode?t.needCaptcha=!0:t.needCaptcha&&t.$refs.captcha.getImageCaptcha()}))},toRegister:function(){uni.navigateTo({url:this.config.isAdmin?"/uni_modules/uni-id-pages/pages/register/register-admin":"/uni_modules/uni-id-pages/pages/register/register",fail:function(t){}})}}};e.default=o}).call(this,i("a9ff")["default"],i("0de9")["default"])},b44d:function(t,e,i){"use strict";i.r(e);var a=i("fb93"),n=i("01e6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"04e96bf6",null,!1,a["a"],void 0);e["default"]=o.exports},b4d0:function(t,e,i){"use strict";i.r(e);var a=i("ba8f"),n=i("c8eb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},b598:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("278c")),r=a(i("9523")),s=i("06ce"),o=i("4552"),u=i("f33b");function c(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=[{title:"\u5d29\u6e83\u603b\u6570",field:"count",value:0,formatter:",",tooltip:"\u6307\u539f\u751f\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u5d29\u6e83\u7684\u603b\u6570"},{title:"\u5d29\u6e83\u7387",field:"count/app_launch_count",computed:"count/app_launch_count",formatter:"%",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u5d29\u6e83\u6570/\u539f\u751f\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],p=t.database(),m=[],g={ascending:"asc",descending:"desc"},_={data:function(){var t;return{fieldsMap:o.fieldsMap,query:{type:"crash",dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(h)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u5d29\u6e83\u6b21\u6570"},{_id:"errorRate",name:"\u5d29\u6e83\u7387"}],collectionList:"uni-stat-app-crash-logs",schemaQuery:"",where:this.tableData,orderby:"create_time desc",orderByFieldName:"",selectedIndexs:[],options:f((t={pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100],pageSize:20},(0,r.default)(t,"pageCurrent",1),(0,r.default)(t,"filterData",{}),t),u.enumConverter),errorMessage:"",exportExcel:{filename:"uni-stat-app-crash-logs.xls",type:"xls",fields:{appid:"appid",version:"version",platform:"platform",channel:"channel",sdk_version:"sdk_version",device_id:"device_id",device_net:"device_net",device_os:"device_os",device_os_version:"device_os_version",device_vendor:"device_vendor",device_model:"device_model",device_is_root:"device_is_root",device_os_name:"device_os_name",device_batt_level:"device_batt_level",device_batt_temp:"device_batt_temp",device_memory_use_size:"device_memory_use_size",device_memory_total_size:"device_memory_total_size",device_disk_use_size:"device_disk_use_size",device_disk_total_size:"device_disk_total_size",device_abis:"device_abis",app_count:"app_count",app_use_memory_size:"app_use_memory_size",app_webview_count:"app_webview_count",app_use_duration:"app_use_duration",app_run_fore:"app_run_fore",package_name:"package_name",package_version:"package_version",page_url:"page_url",error_msg:"error_msg",create_time:"create_time"}},exportExcelData:[]}},computed:{queryStr:function(){return(0,s.stringifyQuery)(this.query)},tableQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=t.version_id,n=t.start_time,r=uni.getStorageSync("platform_channel_last_data"),o=uni.getStorageSync("uni-stat-app-versions_last_data"),u=Array.isArray(r)&&r.find((function(t){return t._id===i})),c=Array.isArray(o)&&o.find((function(t){return t._id===a})),l=(0,s.stringifyQuery)({appid:e,create_time:n,platform:u&&u.code||"",version:c&&c.text||""});return l},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i,type:"native_app"});return a}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.queryStr),t.where=t.tableQuery,t.$nextTick((function(){t.$refs.udb&&t.$refs.udb.loadData()}),200)}),300),this.debounceGet()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}},chartTab:function(t){this.getChartData(this.queryStr)}},onLoad:function(){this._filter={}},methods:{onqueryload:function(t){this.exportExcelData=t,this.tableData=t},getWhere:function(){var t=this.schemaQuery.trim();if(!t)return"";var e=new RegExp(t,"i");return m.map((function(t){return e+".test("+t+")"})).join(" || ")},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+g[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e){var i=this;this._filter[e]={type:t.filterType,value:t.filter};var a=(0,u.filterToWhere)(this._filter,p.command);Object.keys(a).length?this.where=a:this.where="",this.$nextTick((function(){i.$refs.udb.loadData()}))},useDatetimePicker:function(){this.currentDateTab=-1},changePlatform:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,s.getTimeOfSomeDayAgo)(t),a=(0,s.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getPanelData(t),this.getChartData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getPanelData:function(e){var i=this,a=(0,s.stringifyQuery)(this.query,!1,["uni_platform"]),n=t.database();n.collection("uni-stat-error-result").where(a).field("count as temp_count, app_launch_count as temp_app_launch_count, appid").groupBy("appid").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data,t.result.data[0]),n=Object.assign({},i.query);delete n.type,i.getTotalLaunch((0,s.stringifyQuery)(n,!1,["uni_platform"])).then((function(t){var e=t.result.data[0];if(a){var n=e&&e.total_app_launch_count;a.app_launch_count=n,i.panelData=(0,s.mapfields)(h,a)}}))}))},getTotalLaunch:function(e){var i=t.database();return i.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getChartData:function(e){var i=this,a=(0,s.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var r=t.database(),o=(0,n.default)(this.query.start_time,2),u=o[0],l=o[1],d=(0,s.getAllDateCN)(new Date(u),new Date(l));r.collection("uni-stat-error-result").where(a).field("count as temp_count, app_launch_count as temp_app_launch_count, start_time").groupBy("start_time").groupField("sum(temp_count) as count, sum(temp_app_launch_count) as app_launch_count").orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,a=(e.count,e.data),n=[];d.forEach((function(t){var e=a.find((function(e){return e.start_time===t}));e?n.push(e):n.push({app_launch_count:0,count:0,start_time:t})}));var r={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]};if("errorCount"===i.chartTab){var o,u=r.series[0]={name:"\u5d29\u6e83\u6b21\u6570",data:[]},l=r.categories,f=c(n);try{for(f.s();!(o=f.n()).done;){var h=o.value,p=h.start_time,m=(0,s.formatDate)(p,"day"),g=h.count;l.push(m),u.data.push(g)}}catch(S){f.e(S)}finally{f.f()}i.chartData=r}else{var _,v=r.series[0]={name:"\u5d29\u6e83\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},b=r.categories,y=c(n);try{for(y.s();!(_=y.n()).done;){var x=_.value,w=x.count,C=x.app_launch_count,$=x.start_time,k=(0,s.formatDate)($,"day");b.push(k);var D=w/C;D=D?D.toFixed(2):0,v.data.push(D)}}catch(S){y.e(S)}finally{y.f()}i.chartData=r}})).finally((function(){}))}}};e.default=_}).call(this,i("a9ff")["default"])},b62b:function(t,e,i){"use strict";i.r(e);var a=i("9fe8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b630:function(t,e,i){"use strict";i.r(e);var a=i("0801"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b641:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x p-m"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","label-text mb-l"),attrs:{_i:16}}),i("uni-stat-tabs",{staticClass:t._$s(17,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:17},on:{change:t.changeChartTab}}),i("view",{staticClass:t._$s(18,"sc","uni-charts-box"),attrs:{_i:18}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:19}})],1)],1),i("view",{staticClass:t._$s(20,"sc","uni-stat--x p-m"),attrs:{_i:20}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,tooltip:!0,_i:21}}),i("view",{staticClass:t._$s(22,"sc","uni-pagination-box"),attrs:{_i:22}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:23},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("fix-window",{attrs:{_i:24}})],1)},r=[]},b6b8:function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("f7f2"),r={data:function(){return{formData:{mobile:"",code:"",captcha:""},focusMobile:!0,logo:"/static/logo.png"}},computed:{tipText:function(){return"\u9a8c\u8bc1\u7801\u5df2\u901a\u8fc7\u77ed\u4fe1\u53d1\u9001\u81f3 ".concat(this.formData.mobile,"\u3002\u5bc6\u7801\u4e3a6 - 20\u4f4d")}},onLoad:function(t){},onReady:function(){},methods:{submit:function(){var e=this;if(!/^1\d{10}$/.test(this.formData.mobile))return this.focusMobile=!0,uni.showToast({title:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3});if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsForm.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3});var i=t.importObject("uni-id-co");i.bindMobileBySms(this.formData).then((function(t){uni.showToast({title:t.errMsg,icon:"none",duration:3e3});e.getOpenerEventChannel();n.mutations.setUserInfo(e.formData),uni.navigateBack()})).catch((function(t){"uni-id-captcha-required"==t.errCode&&e.$refs.popup.open()})).finally((function(t){e.formData.captcha=""}))}}};e.default=r}).call(this,i("a9ff")["default"],i("0de9")["default"])},b7ba:function(t,e,i){"use strict";i.r(e);var a=i("eee3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b819:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=i("f7f2"),o={data:function(){return{isPC:!1}},props:{width:{type:String,default:function(){return"50px"}},height:{type:String,default:function(){return"50px"}},border:{type:Boolean,default:function(){return!1}}},mounted:function(){return(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{hasLogin:function(){return s.store.hasLogin},userInfo:function(){return s.store.userInfo},avatar_file:function(){return s.store.userInfo.avatar_file}},methods:{setAvatarFile:function(t){s.mutations.updateUserInfo({avatar_file:t})},uploadAvatarImg:function(e){var i=this;if(!this.hasLogin)return uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"});uni.chooseImage({count:1,crop:{quality:100,width:600,height:600,resize:!0},success:function(){var e=(0,r.default)(n.default.mark((function e(a){var r,s,o,u,c,l;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.tempFiles[0],s={extname:r.path.split(".")[r.path.split(".").length-1]},o=a.tempFilePaths[0],u=i.userInfo._id+""+Date.now(),s.name=u,uni.showLoading({title:"\u66f4\u65b0\u4e2d",mask:!0}),e.next=6,t.uploadFile({filePath:o,cloudPath:u,fileType:"image"});case 6:c=e.sent,l=c.fileID,s.url=l,uni.hideLoading(),i.setAvatarFile(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}}};e.default=o}).call(this,i("a9ff")["default"])},b91c:function(t,e,i){"use strict";var a=i("4ea4"),n=a(i("9523"));i("9025"),i("a9ff");var r=a(i("2ef6")),s=a(i("b9fb")),o=a(i("3ebc")),u=a(i("80d4")),c=a(i("8bbf")),l=a(i("a925"));function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}var f=uni.getLocale();c.default.config.productionTip=!1,c.default.use(l.default);var h=new l.default({locale:f,messages:u.default});c.default.use(o.default),r.default.mpType="app";var p=new c.default(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({i18n:h,store:s.default},r.default));p.$mount()},b966:function(t,e,i){"use strict";i.r(e);var a=i("c473"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b9d6:function(t,e,i){"use strict";i.r(e);var a=i("b641"),n=i("8f09");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},b9fb:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("0c17")),r=a(i("e3dd1")),s=a(i("7e13")),o=a(i("8bbf")),u=a(i("26cb"));o.default.use(u.default);var c=new u.default.Store({modules:{app:n.default,error:r.default,user:s.default}}),l=c;e.default=l},ba0e:function(t,e,i){"use strict";i.r(e);var a=i("82e1"),n=i("ec2d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"58015978",null,!1,a["a"],void 0);e["default"]=o.exports},ba23:function(t,e,i){"use strict";i.r(e);var a=i("c89a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},ba8f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{style:t._$s(0,"s",{width:t.width,height:t.height}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",t.cSrc)?i("image",{style:t._$s(1,"s",{width:t.width,height:t.height}),attrs:{src:t._$s(1,"a-src",t.cSrc),mode:t._$s(1,"a-mode",t.mode),_i:1}}):t._e()])},n=[]},badb:function(t,e,i){"use strict";i.r(e);var a=i("bccc"),n=i("b62b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},bb25:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.appVersionListDbName=e.appListDbName=void 0,e.deepClone=function t(e){if([null,void 0,NaN,!1].includes(e))return e;if("object"!==(0,n.default)(e)&&"function"!==typeof e)return e;var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e)?[]:{};for(var a in e)e.hasOwnProperty(a)&&(i[a]="object"===(0,n.default)(e[a])?t(e[a]):e[a]);return i},e.defaultDisplayApp=void 0;var n=a(i("7037"));e.appListDbName="opendb-app-list";e.appVersionListDbName="opendb-app-versions";e.defaultDisplayApp=""},bb27:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UNI_ID_TOKEN_EXPIRED=e.UNI_ADMIN_THEME=void 0;e.UNI_ADMIN_THEME="UNI_ADMIN_THEME";e.UNI_ID_TOKEN_EXPIRED="uni_id_token_expired"},bb6a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{placeholder:t._$s(4,"a-placeholder",t.$t("common.placeholder.query")),_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}},[t._v(t._$s(5,"t0-0",t._s(t.$t("common.button.search"))))])])],1),i("view",{staticClass:t._$s(6,"sc","uni-container"),attrs:{_i:6}},[i("unicloud-db",{ref:"udb",attrs:{collection:t.collectionList,orderby:"create_date desc",options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:7},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;return[i("uni-table",{attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,_i:"8-"+n}},[i("uni-tr",{attrs:{_i:"9-"+n}},[i("uni-th",{attrs:{align:"center",_i:"10-"+n}},[t._v("\u5e8f\u53f7")]),i("uni-th",{attrs:{align:"center",_i:"11-"+n}},[t._v("\u7528\u6237\u540d")]),i("uni-th",{attrs:{align:"center",_i:"12-"+n}},[t._v("\u6635\u79f0")]),i("uni-th",{attrs:{align:"center",_i:"13-"+n}},[t._v("\u5185\u5bb9")]),i("uni-th",{attrs:{align:"center",_i:"14-"+n}},[t._v("IP")]),i("uni-th",{attrs:{align:"center",_i:"15-"+n}},[t._v("\u65f6\u95f4")])],1),t._l(a._$s("16-"+n,"f",{forItems:r}),(function(e,r,o,u){return i("uni-tr",{key:a._$s("16-"+n,"f",{forIndex:o,key:r}),attrs:{_i:"16-"+n+u}},[i("uni-td",{attrs:{align:"center",_i:"17-"+n+u}},[t._v(a._$s("17-"+n+u,"t0-0",t._s((s.current-1)*s.size+(r+1))))]),i("uni-td",{attrs:{align:"center",_i:"18-"+n+u}},[t._v(a._$s("18-"+n+u,"t0-0",t._s(e.user_id[0]&&e.user_id[0].username||"-")))]),i("uni-td",{attrs:{align:"center",_i:"19-"+n+u}},[t._v(a._$s("19-"+n+u,"t0-0",t._s(e.user_id[0]&&e.user_id[0].nickname||"-")))]),i("uni-td",{attrs:{align:"center",_i:"20-"+n+u}},[t._v(a._$s("20-"+n+u,"t0-0",t._s(e.type)))]),i("uni-td",{attrs:{align:"center",_i:"21-"+n+u}},[t._v(a._$s("21-"+n+u,"t0-0",t._s(e.ip)))]),i("uni-td",{attrs:{align:"center",_i:"22-"+n+u}},[i("uni-dateformat",{attrs:{date:e.create_date,threshold:[0,0],_i:"23-"+n+u}})],1)],1)}))],2),i("view",{staticClass:a._$s("24-"+n,"sc","uni-pagination-box"),attrs:{_i:"24-"+n}},[i("uni-pagination",{attrs:{"show-icon":!0,"page-size":s.size,total:s.count,_i:"25-"+n},on:{change:t.onPageChanged},model:{value:t._$s("25-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1)])},r=[]},bb79:function(t,e,i){"use strict";i.r(e);var a=i("6633"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},bba3:function(t,e,i){"use strict";function a(t){return Promise.resolve([])}Object.defineProperty(e,"__esModule",{value:!0}),e.initFetch=function(t){t.prototype.$fetch=a}},bbad:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("c973")),o=n(i("278c")),u=i("06ce"),c=i("4c4c"),l=n(i("daf1")),d=i("ad22"),f=n(i("097a"));function h(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var m=[{title:"\u9519\u8bef\u603b\u6570",value:0,tooltip:"\u6307\u5e94\u7528\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u5185\u51fa\u73b0\u9519\u8bef\u7684\u603b\u6570"},{title:"\u9519\u8bef\u7387",value:0,tooltip:"\u65f6\u95f4\u8303\u56f4\u5185\u7684\u603b\u9519\u8bef\u6570/\u5e94\u7528\u542f\u52a8\u6b21\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0.01%\uff0c\u9ed8\u8ba4\u663e\u793a\u4e3a0"}],g={data:function(){return{uniStat:f.default.uniStat,fieldsMap:c.fieldsMap,popupFieldsMap:c.popupFieldsMap,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",start_time:[]},uploadOptions:(0,u.createUniStatQuery)({appid:"",uni_platform:""}),uploadMsg:"",options:{pageSize:20,pageCurrent:1,total:0},loading:!1,popupLoading:!1,currentDateTab:0,tableData:[],popupTableData:[],panelData:JSON.parse(JSON.stringify(m)),chartData:{},chartTab:"errorCount",chartTabs:[{_id:"errorCount",name:"\u9519\u8bef\u6b21\u6570"},{_id:"errorRate",name:"\u9519\u8bef\u7387"}],errMsg:"",msgLoading:!1,uploadFile:{tempFileTasks:[],tempFiles:[],clear:function(){this.tempFileTasks.length=this.tempFiles.length=0}},uploadSuccessTaskNames:[],errorItem:"",errorMessage:""}},components:{uploadTask:l.default},computed:{queryStr:function(){return(0,u.stringifyQuery)(this.query)},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,u.stringifyQuery)((0,u.createUniStatQuery)({appid:e,uni_platform:i}));return a},uploadVersionQuery:function(){var t=this.uploadOptions,e=t.appid,i=t.uni_platform,a=(0,u.stringifyQuery)((0,u.createUniStatQuery)({appid:e,uni_platform:i}));return a},vaildate:function(){var t=this,e=Object.keys(this.uploadOptions).every((function(e){return t.uploadOptions[e]}));return e&&this.uploadMsg&&(this.uploadMsg=""),e},uploadSuccessTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1===t.state}))},sortUploadFileTempFileTasks:function(){return this.uploadFile.tempFileTasks.filter((function(t){return 1!==t.state})).sort((function(t,e){return t.state-e.state}))},sourceMapEnabled:function(){return!!this.uniStat.uploadSourceMapCloudSpaceId},channelQuery:function(){var t=this.query.platform_id;return(0,u.stringifyQuery)({platform_id:t})}},created:function(){var e=this;this.parsedErrors={},this.sourceMapEnabled&&(this.uploadSourcemapCloud=t.init({provider:"tencent",spaceId:this.uniStat.uploadSourceMapCloudSpaceId})),this.getCloudDataDebounce=(0,u.debounce)((function(){e.getAllData(e.queryStr)}),300),this.getCloudDataDebounce()},watch:{query:{deep:!0,handler:function(t,e){this.options.pageCurrent=1,this.getCloudDataDebounce()}},chartTab:function(t){this.getChartData(this.queryStr)}},methods:{useDatetimePicker:function(t){this.currentDateTab=-1},changePlatform:function(t,e,i,a){this.query.version_id=0,this.uploadOptions.uni_platform=a.code,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,u.getTimeOfSomeDayAgo)(t),a=(0,u.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.queryStr)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData(this.queryStr)},getAllData:function(t){-1!==t.indexOf("appid")?(this.errorMessage="",this.getChartData(t),this.getTableData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day_count",n=(0,u.stringifyQuery)(this.query,!1,["uni_platform"]);this.chartData={};this.options.pageCurrent;var c=t.database(),l=(0,o.default)(this.query.start_time,2),d=l[0],f=l[1],p=(0,u.getAllDateCN)(new Date(d),new Date(f));c.collection("uni-stat-error-result").where(n).groupBy("start_time").groupField("sum(count) as total_day_count").orderBy("start_time","desc").get({getCount:!0}).then(function(){var t=(0,s.default)(r.default.mark((function t(e){var s,o,c,l,d,f,m,g,_,v,b,y,x,w,C,$,k;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.result.count,s=e.result.data,o=[],p.forEach((function(t){var e=s.find((function(e){return e.start_time===t}));e?o.push(e):o.push({start_time:t,total_day_count:0})})),c={categories:[],series:[{name:"\u6682\u65e0\u6570\u636e",data:[]}]},"errorCount"!==i.chartTab){t.next=13;break}l=c.series[0]={name:"\u9519\u8bef\u6b21\u6570",data:[]},d=c.categories,f=h(o);try{for(f.s();!(m=f.n()).done;)g=m.value,_=g.start_time,v=(0,u.formatDate)(_,"day"),b=g["total_".concat(a)],d.push(v),l.data.push(b)}catch(r){f.e(r)}finally{f.f()}i.chartData=c,t.next=21;break;case 13:return t.next=15,i.getDayLaunch(n);case 15:y=t.sent,x=c.series[0]={name:"\u9519\u8bef\u7387(%)",data:[],lineStyle:{color:"#EE6666",width:1},itemStyle:{borderWidth:1,borderColor:"#EE6666",color:"#EE6666"},areaStyle:{color:{colorStops:[{offset:0,color:"#EE6666"},{offset:1,color:"#FFFFFF"}]}}},w=c.categories,C=h(o);try{for(k=function(){var t=$.value,e=t.start_time,i=(0,u.formatDate)(e,"day"),n=t["total_".concat(a)];if(w.push(i),y.length){var r=y.find((function(e){return e.start_time===t.start_time})),s=w.indexOf(i);if(r){var o=100*n/r.day_app_launch_count;o=o.toFixed(2),x.data[s]=o}else x.data[s]=0}},C.s();!($=C.n()).done;)k()}catch(r){C.e(r)}finally{C.f()}i.chartData=c;case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){})).finally((function(){}))},getTotalCount:function(e){var i=t.database();return i.collection("uni-stat-error-result").where(e).groupBy("appid").groupField("sum(count) as total_count").get()},getTotalLaunch:function(e){var i=t.database();return i.collection("uni-stat-result").where(e).groupBy("appid").groupField("sum(app_launch_count) as total_app_launch_count").get()},getDayLaunch:function(e){return(0,s.default)(r.default.mark((function i(){var a,n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.database(),i.next=3,a.collection("uni-stat-result").where(e).groupBy("start_time").groupField("sum(app_launch_count) as day_app_launch_count").orderBy("start_time","asc").get();case 3:return n=i.sent,i.abrupt("return",n.result.data||[]);case 5:case"end":return i.stop()}}),i)})))()},getTableData:function(){var e=this,i=(arguments.length>0&&void 0!==arguments[0]||(0,u.stringifyQuery)(this.query),(0,u.stringifyQuery)(this.query,!1,["uni_platform"])),a=this.options.pageCurrent;this.loading=!0;var n=t.database(),r=(0,u.stringifyQuery)((0,u.createUniStatQuery)({appid:this.query.appid})),s=n.collection("uni-stat-error-result").where(i).getTemp(),o=n.collection("opendb-app-versions").where(r).getTemp(),l=n.collection("uni-stat-app-platforms").getTemp();n.collection(s,o,l).orderBy("count","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var a=t.result,n=a.count,r=a.data,s=[];e.panelData=JSON.parse(JSON.stringify(m));var o,l=h(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;d.last_time=(0,u.parseDateTime)(d.last_time,"dateTime"),d.msgTooltip=d.msg,d.msg=d.msg?d.msg.substring(0,100)+"...":"";var f=d.version_id[0],p=d.platform_id[0];d.version=f&&f.version,d.platform=p&&p.name,d.platform_code=p&&p.code,s.push(d)}}catch(g){l.e(g)}finally{l.f()}e.getTotalCount(i).then((function(t){var a=t.result.data[0],n=a&&a.total_count;n&&(s.forEach((function(t){return t.total_count=Number(n)})),e.panelData[0].value=n);var r="";e.getTotalLaunch(i).then((function(t){var i=t.result.data[0];if(r=i&&i.total_app_launch_count,n&&r){var a=n/r;a=(100*a).toFixed(2)+"%",e.panelData[1].value=a}}))})).finally((function(){e.tableData=[],e.options.total=n,s.forEach((function(t){return(0,u.mapfields)(c.fieldsMap,t,t)})),e.tableData=s}))})).catch((function(t){})).finally((function(){e.loading=!1}))},navTo:function(t,e){t.indexOf("http")>-1?window.open(t):(e&&(t="".concat(t,"?error_hash=").concat(e.hash,"&create_time=").concat(e.start_time)),uni.navigateTo({url:t}))},getPlatform:function(t){var e=uni.getStorageSync("platform_last_data"),i=Array.isArray(e)&&e.find((function(e){return e._id===t})).code;return i},getVersion:function(t){var e=uni.getStorageSync("uni-stat-app-versions_last_data"),i=Array.isArray(e)&&e.find((function(e){return e._id===t})).text;return i},closeErrPopup:function(){this.$refs.errMsg.close()},errMsgPopupChange:function(t){if(t.show){var e=this.errorItem.msgTooltip;if(this.msgLoading)return void this.closeErrPopup();e||(this.errMsg="\u6682\u65e0\u9519\u8bef\u6570\u636e"),this.errMsg="";this.parsedErrors[e];return this.msgLoading=!0,void this.parseError(this.errorItem)}this.msgLoading=!1},parseError:function(t){var e=this,i=t.msgTooltip,a=t.appid,n=t.platform_code,r=t.version,s=this.uniStat.cloudSourceMapUrl+"/".concat(a,"/").concat(n,"/").concat(r,"/");try{i=JSON.parse(i)}catch(o){}(0,d.stacktracey)(i,{preset:(0,d.uniStracktraceyPreset)({base:s,uniPlatform:n,splitThirdParty:!0})}).then((function(t){var a=t.userError,r=t.thirdParty,s=a.length&&r.length?"\n\n------------".concat(-1!==n.indexOf("mp-")?n:"uni-app"," runtime error------------\n\n"):"";e.errMsg="".concat(a).concat(s).concat(r),e.parsedErrors[i]=e.errMsg})).finally((function(){e.msgLoading=!1}))},openUploadPopup:function(){var t=this.query,e=t.appid,i=t.uni_platform;this.uploadOptions={appid:e,uni_platform:i},this.$refs.upload.open()},closeUploadPopup:function(){this.$refs.upload.close()},createUploadFileTask:function(t,e,i,a){var n=t+e;return this.uploadSourcemapCloud.uploadFile({filePath:i,cloudPath:n,onUploadProgress:a})},choosefile:function(){var t=this;if(this.vaildate){var e=this.uploadOptions,i=e.appid,a=e.uni_platform,n=e.version,r="__UNI__/uni-stat/sourcemap/".concat(i,"/").concat(a,"/").concat(n,"/"),s=document.createElement("input");s.type="file",s.directory=!0,s.webkitdirectory=!0,s.click(),s.addEventListener("change",(function(){t.uploadFile.clear();var e=s.files;e.length&&(Array.prototype.forEach.call(e,(function(e){var i=(0,u.fileToUrl)(e);t.uploadFile.tempFileTasks.push({fileDiskPath:e.webkitRelativePath.split("/").slice(1).join("/"),path:i,size:"".concat((e.size/1024).toFixed(2),"kb"),name:e.name,state:0,progress:0}),Object.defineProperty(e,"path",{get:function(){return i}}),t.uploadFile.tempFiles.push(e)})),t.uploadFile.tempFileTasks.reduce((function(e,i,a){return e.then((function(e){return new Promise((function(e,a){-1!==t.uploadSuccessTaskNames.indexOf(i.name)?(i.progress=1,setTimeout((function(){i.state=1,e()}),200)):t.createUploadFileTask(r,i.fileDiskPath,i.path,(function(t){var e=t.loaded,a=t.total;i.progress=e/a})).then((function(){setTimeout((function(){t.uploadSuccessTaskNames.push(i.name),i.state=1,e()}),500)})).catch((function(t){i.state=-1,a("".concat(i.name," \u4e0a\u4f20\u5931\u8d25\uff1a")+JSON.stringify(t))}))}))}))}),Promise.resolve()))}))}else this.uploadMsg="\u8bf7\u5148\u5c06\u5e94\u7528\u3001\u5e73\u53f0\u3001\u7248\u672c\u586b\u5199\u5b8c\u6574"},createStr:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"total_",a=[];return t.forEach((function(t){if(field.hasOwnProperty("value")){var n=t.field;a.push("".concat(e,"(").concat(n,") as ").concat(i+n))}})),a.join()},openErrPopup:function(t){this.errorItem=t,this.$refs.errMsg.open()}}};e.default=g}).call(this,i("a9ff")["default"],i("0de9")["default"])},bc47:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"\u4e0a\u4e00\u9875","uni-pagination.nextText":"\u4e0b\u4e00\u9875","uni-pagination.piecePerPage":"\u6761/\u9875"}')},bc59:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-pagination"),attrs:{_i:0}},[t._$s(1,"i",!0===t.showPageSize||"true"===t.showPageSize)?i("picker",{staticClass:t._$s(1,"sc","select-picker"),attrs:{value:t._$s(1,"a-value",t.pageSizeIndex),range:t._$s(1,"a-range",t.pageSizeRange),_i:1},on:{change:t.pickerChange,cancel:t.pickerClick},nativeOn:{click:function(e){return t.pickerClick(e)}}},[i("button",{attrs:{_i:2}},[i("text",[t._v(t._$s(3,"t0-0",t._s(t.pageSizeRange[t.pageSizeIndex]))+t._$s(3,"t0-1",t._s(t.piecePerPage)))]),i("uni-icons",{staticClass:t._$s(4,"sc","select-picker-icon"),attrs:{type:"arrowdown",size:"12",color:"#999",_i:4}})],1)]):t._e(),i("view",{staticClass:t._$s(5,"sc","uni-pagination__total is-phone-hide"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.total)))]),i("view",{staticClass:t._$s(6,"sc","uni-pagination__btn"),class:t._$s(6,"c",1===t.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(6,"a-hover-class",1===t.currentIndex?"":"uni-pagination--hover"),_i:6},on:{click:t.clickLeft}},[t._$s(7,"i",!0===t.showIcon||"true"===t.showIcon)?[i("uni-icons",{attrs:{color:"#666",size:"16",type:"left",_i:8}})]:[i("text",{staticClass:t._$s(10,"sc","uni-pagination__child-btn"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.prevPageText)))])]],2),i("view",{staticClass:t._$s(11,"sc","uni-pagination__num uni-pagination__num-flex-none"),attrs:{_i:11}},[i("view",{staticClass:t._$s(12,"sc","uni-pagination__num-current"),attrs:{_i:12}},[i("text",{staticClass:t._$s(13,"sc","uni-pagination__num-current-text is-pc-hide current-index-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.currentIndex)))]),i("text",{staticClass:t._$s(14,"sc","uni-pagination__num-current-text is-pc-hide"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.maxPage||0)))]),t._l(t._$s(15,"f",{forItems:t.paper}),(function(e,a,n,r){return i("view",{key:t._$s(15,"f",{forIndex:n,key:a}),staticClass:t._$s("15-"+r,"sc","uni-pagination__num-tag tag--active is-phone-hide"),class:t._$s("15-"+r,"c",{"page--active":e===t.currentIndex}),attrs:{_i:"15-"+r},on:{click:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"top",void 0,i.key,void 0)?null:t.selectPage(e,a)}}},[i("text",[t._v(t._$s("16-"+r,"t0-0",t._s(e)))])])}))],2)]),i("view",{staticClass:t._$s(17,"sc","uni-pagination__btn"),class:t._$s(17,"c",t.currentIndex>=t.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"),attrs:{"hover-class":t._$s(17,"a-hover-class",t.currentIndex===t.maxPage?"":"uni-pagination--hover"),_i:17},on:{click:t.clickRight}},[t._$s(18,"i",!0===t.showIcon||"true"===t.showIcon)?[i("uni-icons",{attrs:{color:"#666",size:"16",type:"right",_i:19}})]:[i("text",{staticClass:t._$s(21,"sc","uni-pagination__child-btn"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.nextPageText)))])]],2)])},r=[]},bcca:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("ed6d")),s=a(i("6b58")),o=a(i("36c6")),u=a(i("c973")),c=a(i("970b")),l=a(i("5bc3")),d=a(i("7037"));function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,a=(0,o.default)(t);if(e){var n=(0,o.default)(this).constructor;i=Reflect.construct(a,arguments,n)}else i=a.apply(this,arguments);return(0,s.default)(this,i)}}var h={email:/^\S+?@\S+?\.\S+?$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i")},p={int:"integer",bool:"boolean",double:"number",long:"number",password:"string"};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=["label"];i.forEach((function(e){void 0===t[e]&&(t[e]="")}));var a=e;for(var n in t){var r=new RegExp("{"+n+"}");a=a.replace(r,t[n])}return a}var g={integer:function(t){return g.number(t)&&parseInt(t,10)===t},string:function(t){return"string"===typeof t},number:function(t){return!isNaN(t)&&"number"===typeof t},boolean:function(t){return"boolean"===typeof t},float:function(t){return g.number(t)&&!g.integer(t)},array:function(t){return Array.isArray(t)},object:function(t){return"object"===(0,d.default)(t)&&!g.array(t)},date:function(t){return t instanceof Date},timestamp:function(t){return!(!this.integer(t)||Math.abs(t).toString().length>16)},file:function(t){return"string"===typeof t.url},email:function(t){return"string"===typeof t&&!!t.match(h.email)&&t.length<255},url:function(t){return"string"===typeof t&&!!t.match(h.url)},pattern:function(t,e){try{return new RegExp(t).test(e)}catch(i){return!1}},method:function(t){return"function"===typeof t},idcard:function(t){return"string"===typeof t&&!!t.match(h.idcard)},"url-https":function(t){return this.url(t)&&t.startsWith("https://")},"url-scheme":function(t){return t.startsWith("://")},"url-web":function(t){return!1}},_=function(){function t(e){(0,c.default)(this,t),this._message=e}return(0,l.default)(t,[{key:"validateRule",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i,a,r,s){var o,u,c,l,d,f,h,p,m;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=null,u=i.rules,c=u.findIndex((function(t){return t.required})),!(c<0)){t.next=8;break}if(null!==a&&void 0!==a){t.next=6;break}return t.abrupt("return",o);case 6:if("string"!==typeof a||a.length){t.next=8;break}return t.abrupt("return",o);case 8:if(l=this._message,void 0!==u){t.next=11;break}return t.abrupt("return",l["default"]);case 11:d=0;case 12:if(!(d<u.length)){t.next=35;break}if(f=u[d],h=this._getValidateType(f),Object.assign(f,{label:i.label||'["'.concat(e,'"]')}),!v[h]){t.next=20;break}if(o=v[h](f,a,l),null==o){t.next=20;break}return t.abrupt("break",35);case 20:if(!f.validateExpr){t.next=26;break}if(p=Date.now(),m=f.validateExpr(a,s,p),!1!==m){t.next=26;break}return o=this._getMessage(f,f.errorMessage||this._message["default"]),t.abrupt("break",35);case 26:if(!f.validateFunction){t.next=32;break}return t.next=29,this.validateFunction(f,a,r,s,h);case 29:if(o=t.sent,null===o){t.next=32;break}return t.abrupt("break",35);case 32:d++,t.next=12;break;case 35:return null!==o&&(o=l.TAG+o),t.abrupt("return",o);case 37:case"end":return t.stop()}}),t,this)})));return function(e,i,a,n,r){return t.apply(this,arguments)}}()},{key:"validateFunction",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i,a,r,s){var o,u,c;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=null,t.prev=1,u=null,t.next=5,e.validateFunction(e,i,r||a,(function(t){u=t}));case 5:c=t.sent,(u||"string"===typeof c&&c||!1===c)&&(o=this._getMessage(e,u||c,s)),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),o=this._getMessage(e,t.t0.message,s);case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(e,i,a,n,r){return t.apply(this,arguments)}}()},{key:"_getMessage",value:function(t,e,i){return m(t,e||t.errorMessage||this._message[i]||e["default"])}},{key:"_getValidateType",value:function(t){var e="";return t.required?e="required":t.format?e="format":t.arrayType?e="arrayTypeFormat":t.range?e="range":void 0!==t.maximum||void 0!==t.minimum?e="rangeNumber":void 0!==t.maxLength||void 0!==t.minLength?e="rangeLength":t.pattern?e="pattern":t.validateFunction&&(e="validateFunction"),e}}]),t}(),v={required:function(t,e,i){return t.required&&function(t,e){return void 0===t||null===t||("string"===typeof t&&!t||(!(!Array.isArray(t)||t.length)||"object"===e&&!Object.keys(t).length))}(e,t.format||(0,d.default)(e))?m(t,t.errorMessage||i.required):null},range:function(t,e,i){for(var a=t.range,n=t.errorMessage,r=new Array(a.length),s=0;s<a.length;s++){var o=a[s];g.object(o)&&void 0!==o.value?r[s]=o.value:r[s]=o}var u=!1;return Array.isArray(e)?u=new Set(e.concat(r)).size===r.length:r.indexOf(e)>-1&&(u=!0),u?null:m(t,n||i["enum"])},rangeNumber:function(t,e,i){if(!g.number(e))return m(t,t.errorMessage||i.pattern.mismatch);var a=t.minimum,n=t.maximum,r=t.exclusiveMinimum,s=t.exclusiveMaximum,o=r?e<=a:e<a,u=s?e>=n:e>n;return void 0!==a&&o?m(t,t.errorMessage||i["number"][r?"exclusiveMinimum":"minimum"]):void 0!==n&&u?m(t,t.errorMessage||i["number"][s?"exclusiveMaximum":"maximum"]):void 0!==a&&void 0!==n&&(o||u)?m(t,t.errorMessage||i["number"].range):null},rangeLength:function(t,e,i){if(!g.string(e)&&!g.array(e))return m(t,t.errorMessage||i.pattern.mismatch);var a=t.minLength,n=t.maxLength,r=e.length;return void 0!==a&&r<a?m(t,t.errorMessage||i["length"].minLength):void 0!==n&&r>n?m(t,t.errorMessage||i["length"].maxLength):void 0!==a&&void 0!==n&&(r<a||r>n)?m(t,t.errorMessage||i["length"].range):null},pattern:function(t,e,i){return g["pattern"](t.pattern,e)?null:m(t,t.errorMessage||i.pattern.mismatch)},format:function(t,e,i){var a=Object.keys(g),n=p[t.format]?p[t.format]:t.format||t.arrayType;return a.indexOf(n)>-1&&!g[n](e)?m(t,t.errorMessage||i.typeError):null},arrayTypeFormat:function(t,e,i){if(!Array.isArray(e))return m(t,t.errorMessage||i.typeError);for(var a=0;a<e.length;a++){var n=e[a],r=this.format(t,n,i);if(null!==r)return r}return null}},b=function(t){(0,r.default)(i,t);var e=f(i);function i(t,a){var n;return(0,c.default)(this,i),n=e.call(this,i.message),n._schema=t,n._options=a||null,n}return(0,l.default)(i,[{key:"updateSchema",value:function(t){this._schema=t}},{key:"validate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i){var a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidate(e,!1,i);case 4:a=t.sent;case 5:return t.abrupt("return",a.length?a[0]:null);case 6:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"validateAll",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i){var a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidate(e,!0,i);case 4:a=t.sent;case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"validateUpdate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i){var a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._checkFieldInSchema(e),a){t.next=5;break}return t.next=4,this.invokeValidateUpdate(e,!1,i);case 4:a=t.sent;case 5:return t.abrupt("return",a.length?a[0]:null);case 6:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}()},{key:"invokeValidate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i,a){var r,s,o,u,c;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],s=this._schema,t.t0=n.default.keys(s);case 3:if((t.t1=t.t0()).done){t.next=15;break}return o=t.t1.value,u=s[o],t.next=8,this.validateRule(o,u,e[o],e,a);case 8:if(c=t.sent,null==c){t.next=13;break}if(r.push({key:o,errorMessage:c}),i){t.next=13;break}return t.abrupt("break",15);case 13:t.next=3;break;case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}}),t,this)})));return function(e,i,a){return t.apply(this,arguments)}}()},{key:"invokeValidateUpdate",value:function(){var t=(0,u.default)(n.default.mark((function t(e,i,a){var r,s,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=[],t.t0=n.default.keys(e);case 2:if((t.t1=t.t0()).done){t.next=13;break}return s=t.t1.value,t.next=6,this.validateRule(s,this._schema[s],e[s],e,a);case 6:if(o=t.sent,null==o){t.next=11;break}if(r.push({key:s,errorMessage:o}),i){t.next=11;break}return t.abrupt("break",13);case 11:t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));return function(e,i,a){return t.apply(this,arguments)}}()},{key:"_checkFieldInSchema",value:function(t){var e=Object.keys(t),a=Object.keys(this._schema);if(new Set(e.concat(a)).size===a.length)return"";var n=e.filter((function(t){return a.indexOf(t)<0})),r=m({field:JSON.stringify(n)},i.message.TAG+i.message["defaultInvalid"]);return[{key:"invalid",errorMessage:r}]}}]),i}(_);b.message=new function(){return{TAG:"",default:"\u9a8c\u8bc1\u9519\u8bef",defaultInvalid:"\u63d0\u4ea4\u7684\u5b57\u6bb5{field}\u5728\u6570\u636e\u5e93\u4e2d\u5e76\u4e0d\u5b58\u5728",validateFunction:"\u9a8c\u8bc1\u65e0\u6548",required:"{label}\u5fc5\u586b",enum:"{label}\u8d85\u51fa\u8303\u56f4",timestamp:"{label}\u683c\u5f0f\u65e0\u6548",whitespace:"{label}\u4e0d\u80fd\u4e3a\u7a7a",typeError:"{label}\u7c7b\u578b\u65e0\u6548",date:{format:"{label}\u65e5\u671f{value}\u683c\u5f0f\u65e0\u6548",parse:"{label}\u65e5\u671f\u65e0\u6cd5\u89e3\u6790,{value}\u65e0\u6548",invalid:"{label}\u65e5\u671f{value}\u65e0\u6548"},length:{minLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u5c11\u4e8e{minLength}",maxLength:"{label}\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7{maxLength}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minLength}\u548c{maxLength}\u4e4b\u95f4"},number:{minimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e{minimum}",maximum:"{label}\u4e0d\u80fd\u5927\u4e8e{maximum}",exclusiveMinimum:"{label}\u4e0d\u80fd\u5c0f\u4e8e\u7b49\u4e8e{minimum}",exclusiveMaximum:"{label}\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e{maximum}",range:"{label}\u5fc5\u987b\u4ecb\u4e8e{minimum}and{maximum}\u4e4b\u95f4"},pattern:{mismatch:"{label}\u683c\u5f0f\u4e0d\u5339\u914d"}}};var y=b;e.default=y},bccc:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTooltip:i("902a").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-stat--sum-x mb-m"),attrs:{_i:0}},t._l(t._$s(1,"f",{forItems:t.items}),(function(e,a,n,r){return i("view",{key:t._$s(1,"f",{forIndex:n,key:a}),staticClass:t._$s("1-"+r,"sc","uni-stat--sum-item"),class:t._$s("1-"+r,"c",["\u4eca\u5929"===e.value?"uni-stat--sum-item-width":""]),attrs:{_i:"1-"+r}},[i("uni-tooltip",{attrs:{_i:"2-"+r},scopedSlots:t._u([t._$s("5-"+r,"i",e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("6-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"6-"+r+"-"+s}},[t._v(n._$s("6-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[i("view",{staticClass:t._$s("3-"+r,"sc","uni-stat--sum-item-title"),attrs:{_i:"3-"+r}},[t._v(t._$s("3-"+r,"t0-0",t._s(e.title?e.title:""))),t._$s("4-"+r,"i",e.title)?i("uni-icons",{staticClass:t._$s("4-"+r,"sc","ml-s"),attrs:{type:"help",color:"#666",_i:"4-"+r}}):t._e()],1)]),i("view",{staticClass:t._$s("7-"+r,"sc","uni-stat--sum-item-value"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(e.value?e.value:0)))]),t._$s("8-"+r,"i",t.contrast)?i("view",{staticClass:t._$s("8-"+r,"sc","uni-stat--sum-item-contrast"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(e.contrast?e.contrast:0)))]):t._e()],1)})),0)},r=[]},bd0a:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("1b03")),s=i("f7f2"),o=n(i("2543")),u=t.importObject("uni-id-co",{customUI:!0}),c={name:"set-pwd.vue",data:function(){return{uniIdRedirectUrl:"",loginType:"",logo:"/static/logo.png",focusNewPassword:!1,focusNewPassword2:!1,allowSkip:!1,formData:{code:"",captcha:"",newPassword:"",newPassword2:""},rules:r.default.getPwdRules("newPassword","newPassword2")}},computed:{userInfo:function(){return s.store.userInfo}},onReady:function(){this.$refs.form.setRules(this.rules)},onLoad:function(t){var e;this.uniIdRedirectUrl=t.uniIdRedirectUrl,this.loginType=t.loginType,o.default.setPasswordAfterLogin&&null!==(e=o.default.setPasswordAfterLogin)&&void 0!==e&&e.allowSkip&&(this.allowSkip=!0)},methods:{submit:function(){var t=this;if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsCode.focusSmsCodeInput=!0,uni.showToast({title:"\u9a8c\u8bc1\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none"});this.$refs.form.validate().then((function(e){u.setPwd({password:t.formData.newPassword,code:t.formData.code,captcha:t.formData.captcha}).then((function(e){uni.showModal({content:"\u5bc6\u7801\u8bbe\u7f6e\u6210\u529f",showCancel:!1,success:function(){s.mutations.loginBack({uniIdRedirectUrl:t.uniIdRedirectUrl,loginType:t.loginType})}})})).catch((function(t){uni.showModal({content:t.message,showCancel:!1})}))})).catch((function(e){"uni-id-captcha-required"==e.errCode?t.$refs.popup.open():e.errMsg})).finally((function(e){t.formData.captcha=""}))},skip:function(){s.mutations.loginBack(this.uniIdRedirectUrl)}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},bd2f:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.typeFilter=e.type=e.setDataValue=e.realName=e.rawData=e.objSet=e.objGet=e.name2arr=e.isRequiredField=e.isRealName=e.isNumber=e.isEqual=e.isBoolean=e.getValue=e.getDataValueType=e.getDataValue=e.deepCopy=void 0;var n=a(i("7037"));e.deepCopy=function(t){return JSON.parse(JSON.stringify(t))};var r=function(t){return"int"===t||"double"===t||"number"===t||"timestamp"===t};e.typeFilter=r;e.getValue=function(t,e,i){var a=i.find((function(t){return t.format&&r(t.format)})),n=i.find((function(t){return t.format&&"boolean"===t.format||"bool"===t.format}));return a&&(e=e||0===e?d(Number(e))?Number(e):e:null),n&&(e=!!f(e)&&e),e};e.setDataValue=function(t,e,i){return e[t]=i,i||""};var s=function(t,e){return l(e,t)};e.getDataValue=s;e.getDataValueType=function(t,e){var i=s(t,e);return{type:h(i),value:i}};e.realName=function(t){var e=c(t);if("object"===(0,n.default)(e)&&Array.isArray(e)&&e.length>1){var i=e.reduce((function(t,e){return t+"#".concat(e)}),"_formdata_");return i}return e[0]||t};e.isRealName=function(t){return/^_formdata_#*/.test(t)};e.rawData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t)),i={};for(var a in e){var n=o(a);u(i,n,e[a])}return i};var o=function(t){var e=t.replace("_formdata_#","");return e=e.split("#").map((function(t){return d(t)?Number(t):t})),e};e.name2arr=o;var u=function(t,e,i){return"object"!==(0,n.default)(t)||c(e).reduce((function(t,e,a,n){return a===n.length-1?(t[e]=i,null):(e in t||(t[e]=/^[0-9]{1,}$/.test(n[a+1])?[]:{}),t[e])}),t),t};function c(t){return Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")}e.objSet=u;var l=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined",a=c(e),n=a.reduce((function(t,e){return(t||{})[e]}),t);return n&&void 0===n?i:n};e.objGet=l;var d=function(t){return!isNaN(Number(t))};e.isNumber=d;var f=function(t){return"boolean"===typeof t};e.isBoolean=f;e.isRequiredField=function(t){for(var e=!1,i=0;i<t.length;i++){var a=t[i];if(a.required){e=!0;break}}return e};var h=function(t){var e={};return"Boolean Number String Function Array Date RegExp Object Error".split(" ").map((function(t,i){e["[object "+t+"]"]=t.toLowerCase()})),null==t?t+"":"object"===(0,n.default)(t)||"function"===typeof t?e[Object.prototype.toString.call(t)]||"object":(0,n.default)(t)};e.type=h;e.isEqual=function(t,e){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;var i=toString.call(t),a=toString.call(e);if(i!==a)return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("[object Object]"==i){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!=r.length)return!1;for(var s=0;s<n.length;s++){var o=n[s];if(t[o]!==e[o])return!1}return!0}return"[object Array]"==i?t.toString()==e.toString():void 0}},bd6b:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u786e\u5b9a","uni-popup.placeholder":"\u8bf7\u8f93\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},bdc3:function(t,e,i){"use strict";i.r(e);var a=i("4c01"),n=i("6fe0");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},be2d:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("278c")),r=a(i("e50c")),s=a(i("1a9d")),o=a(i("d442")),u=i("37dc"),c=a(i("017d")),l=(0,u.initVueI18n)(c.default),d=l.t,f={components:{calendarItem:s.default,timePicker:o.default},props:{date:{type:String,default:""},defTime:{type:[String,Object],default:""},selectableTimes:{type:[Object],default:function(){return{}}},selected:{type:Array,default:function(){return[]}},lunar:{type:Boolean,default:!1},startDate:{type:String,default:""},endDate:{type:String,default:""},range:{type:Boolean,default:!1},typeHasTime:{type:Boolean,default:!1},insert:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},clearDate:{type:Boolean,default:!0},left:{type:Boolean,default:!0},right:{type:Boolean,default:!0},checkHover:{type:Boolean,default:!0},hideSecond:{type:[Boolean],default:!1},pleStatus:{type:Object,default:function(){return{before:"",after:"",data:[],fulldate:""}}}},data:function(){return{show:!1,weeks:[],calendar:{},nowDate:"",aniMaskShow:!1,firstEnter:!0,time:"",timeRange:{startTime:"",endTime:""},tempSingleDate:"",tempRange:{before:"",after:""}}},watch:{date:{immediate:!0,handler:function(t,e){var i=this;this.range||(this.tempSingleDate=t,setTimeout((function(){i.init(t)}),100))}},defTime:{immediate:!0,handler:function(t,e){this.range?(this.timeRange.startTime=t.start,this.timeRange.endTime=t.end):this.time=t}},startDate:function(t){this.cale.resetSatrtDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks},endDate:function(t){this.cale.resetEndDate(t),this.cale.setDate(this.nowDate.fullDate),this.weeks=this.cale.weeks},selected:function(t){this.cale.setSelectInfo(this.nowDate.fullDate,t),this.weeks=this.cale.weeks},pleStatus:{immediate:!0,handler:function(t,e){var i=this,a=t.before,n=t.after,r=t.fulldate,s=t.which;this.tempRange.before=a,this.tempRange.after=n,setTimeout((function(){if(r)if(i.cale.setHoverMultiple(r),a&&n){if(i.cale.lastHover=!0,i.rangeWithinMonth(n,a))return;i.setDate(a)}else i.cale.setMultiple(r),i.setDate(i.nowDate.fullDate),i.calendar.fullDate="",i.cale.lastHover=!1;else i.cale.setDefaultMultiple(a,n),"left"===s?(i.setDate(a),i.weeks=i.cale.weeks):(i.setDate(n),i.weeks=i.cale.weeks),i.cale.lastHover=!0}),16)}}},computed:{reactStartTime:function(){var t=this.range?this.tempRange.before:this.calendar.fullDate,e=t===this.startDate?this.selectableTimes.start:"";return e},reactEndTime:function(){var t=this.range?this.tempRange.after:this.calendar.fullDate,e=t===this.endDate?this.selectableTimes.end:"";return e},selectDateText:function(){return d("uni-datetime-picker.selectDate")},startDateText:function(){return this.startPlaceholder||d("uni-datetime-picker.startDate")},endDateText:function(){return this.endPlaceholder||d("uni-datetime-picker.endDate")},okText:function(){return d("uni-datetime-picker.ok")},yearText:function(){return d("uni-datetime-picker.year")},monthText:function(){return d("uni-datetime-picker.month")},MONText:function(){return d("uni-calender.MON")},TUEText:function(){return d("uni-calender.TUE")},WEDText:function(){return d("uni-calender.WED")},THUText:function(){return d("uni-calender.THU")},FRIText:function(){return d("uni-calender.FRI")},SATText:function(){return d("uni-calender.SAT")},SUNText:function(){return d("uni-calender.SUN")},confirmText:function(){return d("uni-calender.confirm")}},created:function(){this.cale=new r.default({selected:this.selected,startDate:this.startDate,endDate:this.endDate,range:this.range}),this.init(this.date)},methods:{leaveCale:function(){this.firstEnter=!0},handleMouse:function(t){if(!t.disable&&!this.cale.lastHover){var e=this.cale.multipleStatus,i=e.before;e.after;i&&(this.calendar=t,this.cale.setHoverMultiple(this.calendar.fullDate),this.weeks=this.cale.weeks,this.firstEnter&&(this.$emit("firstEnterCale",this.cale.multipleStatus),this.firstEnter=!1))}},rangeWithinMonth:function(t,e){var i=t.split("-"),a=(0,n.default)(i,2),r=a[0],s=a[1],o=e.split("-"),u=(0,n.default)(o,2),c=u[0],l=u[1];return r===c&&s===l},clean:function(){this.close()},maskClick:function(){this.$emit("maskClose")},clearCalender:function(){this.range?(this.timeRange.startTime="",this.timeRange.endTime="",this.tempRange.before="",this.tempRange.after="",this.cale.multipleStatus.before="",this.cale.multipleStatus.after="",this.cale.multipleStatus.data=[],this.cale.lastHover=!1):(this.time="",this.tempSingleDate=""),this.calendar.fullDate="",this.setDate()},bindDateChange:function(t){var e=t.detail.value+"-1";this.init(e)},init:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.calendar=this.cale.getInfo(t)},open:function(){var t=this;this.clearDate&&!this.insert&&(this.cale.cleanMultipleStatus(),this.init(this.date)),this.show=!0,this.$nextTick((function(){setTimeout((function(){t.aniMaskShow=!0}),50)}))},close:function(){var t=this;this.aniMaskShow=!1,this.$nextTick((function(){setTimeout((function(){t.show=!1,t.$emit("close")}),300)}))},confirm:function(){this.setEmit("confirm"),this.close()},change:function(){this.insert&&this.setEmit("change")},monthSwitch:function(){var t=this.nowDate,e=t.year,i=t.month;this.$emit("monthSwitch",{year:e,month:Number(i)})},setEmit:function(t){var e=this.calendar,i=e.year,a=e.month,n=e.date,r=e.fullDate,s=e.lunar,o=e.extraInfo;this.$emit(t,{range:this.cale.multipleStatus,year:i,month:a,date:n,time:this.time,timeRange:this.timeRange,fulldate:r,lunar:s,extraInfo:o||{}})},choiceDate:function(t){if(!t.disable){this.calendar=t,this.calendar.userChecked=!0,this.cale.setMultiple(this.calendar.fullDate,!0),this.weeks=this.cale.weeks,this.tempSingleDate=this.calendar.fullDate;this.cale.multipleStatus.before;var e=new Date(this.cale.multipleStatus.before).getTime(),i=new Date(this.cale.multipleStatus.after).getTime();e>i&&i?(this.tempRange.before=this.cale.multipleStatus.after,this.tempRange.after=this.cale.multipleStatus.before):(this.tempRange.before=this.cale.multipleStatus.before,this.tempRange.after=this.cale.multipleStatus.after),this.change()}},backtoday:function(){var t=this.cale.getDate(new Date).fullDate;this.init(t),this.change()},dateCompare:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e},pre:function(){var t=this.cale.getDate(this.nowDate.fullDate,-1,"month").fullDate;this.setDate(t),this.monthSwitch()},next:function(){var t=this.cale.getDate(this.nowDate.fullDate,1,"month").fullDate;this.setDate(t),this.monthSwitch()},setDate:function(t){this.cale.setDate(t),this.weeks=this.cale.weeks,this.nowDate=this.cale.getInfo(t)}}};e.default=f},be70:function(t,e,i){"use strict";i.r(e);var a=i("5077"),n=i("8bca");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},be93:function(t){t.exports=JSON.parse('{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"}')},be9f:function(t,e,i){"use strict";i.r(e);var a=i("77fb"),n=i("56bb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},bf96:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"role_id",label:"\u552f\u4e00ID",required:!0,_i:2}},[i("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u552f\u4e00\u6807\u8bc6\uff0c\u4e0d\u53ef\u4fee\u6539\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d",trim:"both",disabled:!0,_i:3},model:{value:t._$s(3,"v-model",t.formData.role_id),callback:function(e){t.$set(t.formData,"role_id",e)},expression:"formData.role_id"}})],1),i("uni-forms-item",{attrs:{name:"role_name",label:"\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u89d2\u8272\u540d\u79f0",trim:"both",_i:5},model:{value:t._$s(5,"v-model",t.formData.role_name),callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1),i("uni-forms-item",{staticClass:t._$s(6,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650",_i:6}},[i("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:7},model:{value:t._$s(7,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}})],1),i("uni-forms-item",{attrs:{name:"comment",label:"\u5907\u6ce8",_i:8}},[i("uni-easyinput",{attrs:{type:"textarea",placeholder:"\u5907\u6ce8",trim:"both",_i:9},model:{value:t._$s(9,"v-model",t.formData.comment),callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),i("view",{staticClass:t._$s(10,"sc","uni-button-group"),attrs:{_i:10}},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11},on:{click:t.submit}},[t._v(t._$s(11,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(13,"sc","uni-button"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},c0f7:function(t,e,i){"use strict";i.r(e);var a=i("98f3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c0f9:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-calendar"),attrs:{_i:0},on:{mouseleave:t.leaveCale}},[t._$s(1,"i",!t.insert&&t.show)?i("view",{staticClass:t._$s(1,"sc","uni-calendar__mask"),class:t._$s(1,"c",{"uni-calendar--mask-show":t.aniMaskShow}),attrs:{_i:1},on:{click:function(e){t.clean(),t.maskClick()}}}):t._e(),t._$s(2,"i",t.insert||t.show)?i("view",{staticClass:t._$s(2,"sc","uni-calendar__content"),class:t._$s(2,"c",{"uni-calendar--fixed":!t.insert,"uni-calendar--ani-show":t.aniMaskShow,"uni-calendar__content-mobile":t.aniMaskShow}),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-calendar__header"),class:t._$s(3,"c",{"uni-calendar__header-mobile":!t.insert}),attrs:{_i:3}},[t._$s(4,"i",t.left)?i("view",{staticClass:t._$s(4,"sc","uni-calendar__header-btn-box"),attrs:{_i:4},on:{click:function(e){return e.stopPropagation(),t.pre(e)}}},[i("view",{staticClass:t._$s(5,"sc","uni-calendar__header-btn uni-calendar--left"),attrs:{_i:5}})]):t._e(),i("picker",{attrs:{value:t._$s(6,"a-value",t.date),_i:6},on:{change:t.bindDateChange}},[i("text",{staticClass:t._$s(7,"sc","uni-calendar__header-text"),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s((t.nowDate.year||"")+t.yearText+(t.nowDate.month||"")+t.monthText)))])]),t._$s(8,"i",t.right)?i("view",{staticClass:t._$s(8,"sc","uni-calendar__header-btn-box"),attrs:{_i:8},on:{click:function(e){return e.stopPropagation(),t.next(e)}}},[i("view",{staticClass:t._$s(9,"sc","uni-calendar__header-btn uni-calendar--right"),attrs:{_i:9}})]):t._e(),t._$s(10,"i",!t.insert)?i("view",{staticClass:t._$s(10,"sc","dialog-close"),attrs:{_i:10},on:{click:t.clean}},[i("view",{staticClass:t._$s(11,"sc","dialog-close-plus"),attrs:{_i:11}}),i("view",{staticClass:t._$s(12,"sc","dialog-close-plus dialog-close-rotate"),attrs:{_i:12}})]):t._e()]),i("view",{staticClass:t._$s(13,"sc","uni-calendar__box"),attrs:{_i:13}},[t._$s(14,"i",t.showMonth)?i("view",{staticClass:t._$s(14,"sc","uni-calendar__box-bg"),attrs:{_i:14}},[i("text",{staticClass:t._$s(15,"sc","uni-calendar__box-bg-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.nowDate.month)))])]):t._e(),i("view",{staticClass:t._$s(16,"sc","uni-calendar__weeks"),attrs:{_i:16}},[i("view",{staticClass:t._$s(17,"sc","uni-calendar__weeks-day"),attrs:{_i:17}},[i("text",{staticClass:t._$s(18,"sc","uni-calendar__weeks-day-text"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.SUNText)))])]),i("view",{staticClass:t._$s(19,"sc","uni-calendar__weeks-day"),attrs:{_i:19}},[i("text",{staticClass:t._$s(20,"sc","uni-calendar__weeks-day-text"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.MONText)))])]),i("view",{staticClass:t._$s(21,"sc","uni-calendar__weeks-day"),attrs:{_i:21}},[i("text",{staticClass:t._$s(22,"sc","uni-calendar__weeks-day-text"),attrs:{_i:22}},[t._v(t._$s(22,"t0-0",t._s(t.TUEText)))])]),i("view",{staticClass:t._$s(23,"sc","uni-calendar__weeks-day"),attrs:{_i:23}},[i("text",{staticClass:t._$s(24,"sc","uni-calendar__weeks-day-text"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.WEDText)))])]),i("view",{staticClass:t._$s(25,"sc","uni-calendar__weeks-day"),attrs:{_i:25}},[i("text",{staticClass:t._$s(26,"sc","uni-calendar__weeks-day-text"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.THUText)))])]),i("view",{staticClass:t._$s(27,"sc","uni-calendar__weeks-day"),attrs:{_i:27}},[i("text",{staticClass:t._$s(28,"sc","uni-calendar__weeks-day-text"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.FRIText)))])]),i("view",{staticClass:t._$s(29,"sc","uni-calendar__weeks-day"),attrs:{_i:29}},[i("text",{staticClass:t._$s(30,"sc","uni-calendar__weeks-day-text"),attrs:{_i:30}},[t._v(t._$s(30,"t0-0",t._s(t.SATText)))])])]),t._l(t._$s(31,"f",{forItems:t.weeks}),(function(e,a,n,r){return i("view",{key:t._$s(31,"f",{forIndex:n,key:a}),staticClass:t._$s("31-"+r,"sc","uni-calendar__weeks"),attrs:{_i:"31-"+r}},t._l(t._$s("32-"+r,"f",{forItems:e}),(function(e,a,n,s){return i("view",{key:t._$s("32-"+r,"f",{forIndex:n,key:a}),staticClass:t._$s("32-"+r+"-"+s,"sc","uni-calendar__weeks-item"),attrs:{_i:"32-"+r+"-"+s}},[i("calendar-item",{staticClass:t._$s("33-"+r+"-"+s,"sc","uni-calendar-item--hook"),attrs:{weeks:e,calendar:t.calendar,selected:t.selected,lunar:t.lunar,checkHover:t.range,_i:"33-"+r+"-"+s},on:{change:t.choiceDate,handleMouse:t.handleMouse}})],1)})),0)}))],2),t._$s(34,"i",!t.insert&&!t.range&&t.typeHasTime)?i("view",{staticClass:t._$s(34,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:34}},[i("view",{staticClass:t._$s(35,"sc","uni-date-changed--time-date"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.tempSingleDate?t.tempSingleDate:t.selectDateText)))]),i("time-picker",{staticClass:t._$s(36,"sc","time-picker-style"),attrs:{type:"time",start:t.reactStartTime,end:t.reactEndTime,disabled:!t.tempSingleDate,border:!1,"hide-second":t.hideSecond,_i:36},model:{value:t._$s(36,"v-model",t.time),callback:function(e){t.time=e},expression:"time"}})],1):t._e(),t._$s(37,"i",!t.insert&&t.range&&t.typeHasTime)?i("view",{staticClass:t._$s(37,"sc","uni-date-changed uni-calendar--fixed-top"),attrs:{_i:37}},[i("view",{staticClass:t._$s(38,"sc","uni-date-changed--time-start"),attrs:{_i:38}},[i("view",{staticClass:t._$s(39,"sc","uni-date-changed--time-date"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.tempRange.before?t.tempRange.before:t.startDateText)))]),i("time-picker",{staticClass:t._$s(40,"sc","time-picker-style"),attrs:{type:"time",start:t.reactStartTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.before,_i:40},model:{value:t._$s(40,"v-model",t.timeRange.startTime),callback:function(e){t.$set(t.timeRange,"startTime",e)},expression:"timeRange.startTime"}})],1),i("view",[i("uni-icons",{attrs:{type:"arrowthinright",color:"#999",_i:42}})],1),i("view",{staticClass:t._$s(43,"sc","uni-date-changed--time-end"),attrs:{_i:43}},[i("view",{staticClass:t._$s(44,"sc","uni-date-changed--time-date"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.tempRange.after?t.tempRange.after:t.endDateText)))]),i("time-picker",{staticClass:t._$s(45,"sc","time-picker-style"),attrs:{type:"time",end:t.reactEndTime,border:!1,"hide-second":t.hideSecond,disabled:!t.tempRange.after,_i:45},model:{value:t._$s(45,"v-model",t.timeRange.endTime),callback:function(e){t.$set(t.timeRange,"endTime",e)},expression:"timeRange.endTime"}})],1)]):t._e(),t._$s(46,"i",!t.insert)?i("view",{staticClass:t._$s(46,"sc","uni-date-changed uni-date-btn--ok"),attrs:{_i:46}},[i("view",{staticClass:t._$s(47,"sc","uni-datetime-picker--btn"),attrs:{_i:47},on:{click:t.confirm}},[t._v(t._$s(47,"t0-0",t._s(t.confirmText)))])]):t._e()]):t._e()])},r=[]},c135:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},c1aa:function(t,e,i){"use strict";i.r(e);var a=i("9080"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c240:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c2c0:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniDataMenu:i("f070").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("scroll-view",{staticClass:this._$s(0,"sc","sidebar"),attrs:{_i:0}},[e("uni-data-menu",{ref:"menu",attrs:{value:this.currentMenu,staticMenu:this.staticMenu,collection:"opendb-admin-menus","page-size":500,field:this.field,orderby:"sort asc","active-text-color":"#409eff",_i:1},on:{select:this.select}})],1)},r=[]},c360:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,downloadExcel:i("071b").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniTag:i("d2f3").default,uniDateformat:i("fda7").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default,batchSms:i("fdb0").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:t._$s(4,"sc","uni-search"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.query)},on:{confirm:t.search,input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:t._$s(5,"sc","uni-button hide-on-phone"),attrs:{_i:5},on:{click:t.search}}),i("button",{staticClass:t._$s(6,"sc","uni-button"),attrs:{_i:6},on:{click:function(e){return t.navigateTo("./add")}}}),i("button",{staticClass:t._$s(7,"sc","uni-button"),attrs:{disabled:t._$s(7,"a-disabled",!t.selectedIndexs.length),_i:7},on:{click:t.delTable}}),i("download-excel",{staticClass:t._$s(8,"sc","hide-on-phone"),attrs:{fields:t.exportExcel.fields,data:t.exportExcelData,type:t.exportExcel.type,name:t.exportExcel.filename,_i:8}},[i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9}})]),i("button",{staticClass:t._$s(10,"sc","uni-button"),attrs:{_i:10},on:{click:function(e){return t.$refs.batchSms.open()}}})],1)],1),i("view",{staticClass:t._$s(11,"sc","uni-container"),attrs:{_i:11}},[i("unicloud-db",{ref:"udb",attrs:{collection:"uni-id-tag",field:"tagid,name,description,create_date",where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,options:t.options,loadtime:"manual",_i:12},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=e.pagination,o=e.loading,u=e.error;e.options;return[i("uni-table",{ref:"table",attrs:{loading:o,emptyText:u.message||"\u6ca1\u6709\u66f4\u591a\u6570\u636e",border:!0,stripe:!0,type:"selection",_i:"13-"+n},on:{"selection-change":t.selectionChange}},[i("uni-tr",{attrs:{_i:"14-"+n}},[i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"15-"+n},on:{"filter-change":function(e){return t.filterChange(e,"tagid")},"sort-change":function(e){return t.sortChange(e,"tagid")}}},[t._v("\u6807\u7b7e\u7684tagid")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"16-"+n},on:{"filter-change":function(e){return t.filterChange(e,"name")},"sort-change":function(e){return t.sortChange(e,"name")}}},[t._v("\u6807\u7b7e\u540d\u79f0")]),i("uni-th",{attrs:{align:"center","filter-type":"search",sortable:!0,_i:"17-"+n},on:{"filter-change":function(e){return t.filterChange(e,"description")},"sort-change":function(e){return t.sortChange(e,"description")}}},[t._v("\u6807\u7b7e\u63cf\u8ff0")]),i("uni-th",{attrs:{align:"center","filter-type":"timestamp",sortable:!0,_i:"18-"+n},on:{"filter-change":function(e){return t.filterChange(e,"create_date")},"sort-change":function(e){return t.sortChange(e,"create_date")}}},[t._v("\u521b\u5efa\u65f6\u95f4")]),i("uni-th",{attrs:{align:"center",_i:"19-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("20-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("20-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"20-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"21-"+n+o}},[t._v(a._$s("21-"+n+o,"t0-0",t._s(e.tagid)))]),i("uni-td",{attrs:{align:"center",_i:"22-"+n+o}},[i("uni-tag",{attrs:{type:"primary",inverted:!0,size:"small",text:e.name,_i:"23-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"24-"+n+o}},[t._v(a._$s("24-"+n+o,"t0-0",t._s(e.description)))]),i("uni-td",{attrs:{align:"center",_i:"25-"+n+o}},[i("uni-dateformat",{attrs:{threshold:[0,0],date:e.create_date,_i:"26-"+n+o}})],1),i("uni-td",{attrs:{align:"center",_i:"27-"+n+o}},[i("view",{staticClass:a._$s("28-"+n+o,"sc","uni-group"),attrs:{_i:"28-"+n+o}},[i("button",{staticClass:a._$s("29-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"29-"+n+o},on:{click:function(i){return t.navigateTo("../user/list?tagid="+e.tagid,!1)}}},[t._v("\u6210\u5458")]),i("button",{staticClass:a._$s("30-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"30-"+n+o},on:{click:function(i){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v("\u4fee\u6539")]),i("button",{staticClass:a._$s("31-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"31-"+n+o},on:{click:function(i){return t.confirmDelete(e._id)}}},[t._v("\u5220\u9664")])])])],1)}))],2),i("view",{staticClass:a._$s("32-"+n,"sc","uni-pagination-box"),attrs:{_i:"32-"+n}},[i("uni-pagination",{attrs:{"show-iconn":!0,"show-page-size":!0,"page-size":s.size,total:s.count,_i:"33-"+n},on:{change:t.onPageChanged,pageSizeChange:t.changeSize},model:{value:t._$s("33-"+n,"v-model",s.current),callback:function(e){t.$set(s,"current",e)},expression:"pagination.current"}})],1)]}}])})],1),i("fix-window",{attrs:{_i:34}}),i("batch-sms",{ref:"batchSms",attrs:{toType:"userTags",receiver:t.smsReceiver,_i:35}})],1)},r=[]},c3c2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={onLoad:function(t){var e=t.url,i=t.title;"http"!=e.substring(0,4)?(uni.showModal({title:"\u9519\u8bef",content:'\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u7f51\u7ad9\u94fe\u63a5,"'+e+'"',showCancel:!1,confirmText:"\u77e5\u9053\u4e86",complete:function(){uni.navigateBack()}}),i="\u9875\u9762\u8def\u5f84\u9519\u8bef"):this.url=e,i&&uni.setNavigationBarTitle({title:i})},data:function(){return{url:null}}};e.default=a},c3c5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"-"},{title:"\u65e5\u6d3b",field:"active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u5f53\u5929\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u5468\u6d3b",field:"week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u5468\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u5468\u6d3b",field:"active_user_count/week_active_user_count",computed:"active_user_count/week_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u5468\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"},{title:"\u6708\u6d3b",field:"month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u6240\u5728\u81ea\u7136\u6708\uff08\u5305\u62ec\u9009\u4e2d\u65e5\u671f\u5728\u5185\uff09\u7684\u8bbf\u95ee\u7528\u6237\u6570"},{title:"\u65e5\u6d3b/\u6708\u6d3b",field:"active_user_count/month_active_user_count",computed:"active_user_count/month_active_user_count",tooltip:"\u9009\u4e2d\u65e5\u671f\u7684\u8bbf\u95ee\u7528\u6237\u6570\u5360\u6708\u8bbf\u95ee\u7528\u6237\u6570\u7684\u767e\u5206\u6bd4",formatter:"%"}]},c3c9:function(t,e,i){"use strict";i.r(e);var a=i("5e63"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c41e:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uni-stat-tabs",data:function(){return{currentTab:0,renderTabs:[]}},props:{type:{type:String,default:"line"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},current:{type:[String,Number],default:0},mode:{type:String,default:""},today:{type:Boolean,default:!1},yesterday:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},tooltip:{type:Boolean,default:!1},all:{type:Boolean,default:!0},label:{type:String,default:""},placeholder:{type:String,default:"\u6682\u65e0\u9009\u9879"},tabs:{type:Array,default:function(){return[]}}},created:function(){this.last="".concat(this.mode.replace("-","_"),"_last_data")},mounted:function(){this.init()},watch:{current:{immediate:!0,handler:function(t){this.currentTab=t}},tabs:{immediate:!1,handler:function(t){this.init()}},renderTabs:function(t){var e=this.current;this.mode&&t.length&&e>=0&&this.$nextTick((function(){var t=this.renderTabs[e];this.change(t,e)}))}},methods:{init:function(){if(this.mode.indexOf("platform")>-1)this.renderTabs=uni.getStorageSync(this.last),this.getPlatform();else if("date"===this.mode){var t=[{_id:7,name:"\u6700\u8fd1\u4e03\u5929"},{_id:30,name:"\u6700\u8fd130\u5929"},{_id:90,name:"\u6700\u8fd190\u5929"}];this.yesterday&&t.unshift({_id:1,name:"\u6628\u5929"}),this.today&&t.unshift({_id:0,name:"\u4eca\u5929"}),this.renderTabs=t}else this.renderTabs=this.tabs},change:function(t,e){if(!t.disabled){var i=t._id,a=t.name;this.currentTab=e,this.emit(i,e,a,t)}},emit:function(t,e,i,a){this.$emit("change",t,e,i,a),this.$emit("input",t,e,i),this.$emit("update:modelValue",t,e,i)},getPlatform:function(){var e=this,i=t.database();i.collection("uni-stat-app-platforms").get().then((function(t){var i=t.result.data;if(i=i.filter((function(t){return!t.hasOwnProperty("enable")||t.enable})),i.sort((function(t,e){return t.order-e.order})),"platform-channel"===e.mode){i=i.filter((function(t){return/^android|ios$/.test(t.code)}));var a=i.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");a="(".concat(a,")"),e.setAllItem(i,a)}else if("platform-scene"===e.mode){i=i.filter((function(t){return/mp-/.test(t.code)}));var n=i.map((function(t){return'platform_id == "'.concat(t._id,'"')})).join(" || ");n="(".concat(n,")"),e.setAllItem(i,n)}else e.setAllItem(i);uni.setStorageSync(e.last,i),e.renderTabs=i}))},setAllItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u5168\u90e8";this.all&&t.unshift({name:i,_id:e})}}};e.default=i}).call(this,i("a9ff")["default"])},c460:function(t,e,i){"use strict";i.r(e);var a=i("714f"),n=i("e216");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4a9611d3",null,!1,a["a"],void 0);e["default"]=o.exports},c473:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{content:String,top:{type:[Number,String],default:-60},left:{type:[Number,String],default:-100},width:{type:[Number,String],default:200}},data:function(){return{showStableInfo:!1,arrowStyle:{}}},methods:{mouseenter:function(t){this.showStableInfo=!0}}};e.default=a},c477:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-email-code-form",model:{prop:"modelValue",event:"update:modelValue"},props:{event:["update:modelValue"],count:{type:[String,Number],default:60},email:{type:[String],default:""},type:{type:String,default:function(){return"register"}},focusCaptchaInput:{type:Boolean,default:function(){return!1}}},data:function(){return{captcha:"",reverseNumber:0,reverseTimer:null,modelValue:"",focusEmailCodeInput:!1}},watch:{captcha:function(t,e){4==t.length&&4!=e.length&&this.start()},modelValue:function(t){this.$emit("input",t),this.$emit("update:modelValue",t)}},computed:{innerText:function(){return 0==this.reverseNumber?"\u83b7\u53d6\u90ae\u7bb1\u9a8c\u8bc1\u7801":"\u91cd\u65b0\u53d1\u9001("+this.reverseNumber+"s)"}},created:function(){this.initClick()},methods:{getImageCaptcha:function(t){this.$refs.captcha.getImageCaptcha(t)},initClick:function(){var t=this;this.start=function(t,e){var i;return e=e||500,function(){var a=this,n=arguments;i&&clearTimeout(i);var r=!i;i=setTimeout((function(){i=null}),e),r&&t.apply(a,n)}}((function(){0==t.reverseNumber&&t.sendMsg()}))},sendMsg:function(){var e=this;if(4!=this.captcha.length)return this.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u5148\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(!this.email)return uni.showToast({title:"\u8bf7\u8f93\u5165\u90ae\u7bb1",icon:"none",duration:3e3});if(!/@/.test(this.email))return uni.showToast({title:"\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef",icon:"none",duration:3e3});var i=t.importObject("uni-id-co",{customUI:!0});this.email,this.type,this.captcha,i.sendEmailCode({email:this.email,scene:this.type,captcha:this.captcha}).then((function(t){uni.showToast({title:"\u90ae\u7bb1\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f",icon:"none",duration:3e3}),e.reverseNumber=Number(e.count),e.getCode()})).catch((function(t){"uni-id-invalid-mail-template"==t.code?(e.modelValue="123456",uni.showToast({title:"\u5df2\u542f\u52a8\u6d4b\u8bd5\u6a21\u5f0f,\u8be6\u60c5\u3010\u63a7\u5236\u53f0\u4fe1\u606f\u3011",icon:"none",duration:3e3}),t.message):(e.getImageCaptcha(),e.captcha="",uni.showToast({title:t.message,icon:"none",duration:3e3}))}))},getCode:function(){var t=this;if(0==this.reverseNumber)return clearTimeout(this.reverseTimer),void(this.reverseTimer=null);this.reverseNumber--,this.reverseTimer=setTimeout((function(){t.getCode()}),1e3)}}};e.default=a}).call(this,i("a9ff")["default"],i("0de9")["default"])},c4b4:function(t,e,i){"use strict";i.r(e);var a=i("bf96"),n=i("6480");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},c5f7:function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c62f:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[t._$s(1,"i",1==t.loadingType)?i("Loading1",{attrs:{_i:1}}):t._e(),t._$s(2,"i",2==t.loadingType)?i("Loading2",{attrs:{_i:2}}):t._e(),t._$s(3,"i",3==t.loadingType)?i("Loading3",{attrs:{_i:3}}):t._e(),t._$s(4,"i",4==t.loadingType)?i("Loading4",{attrs:{_i:4}}):t._e(),t._$s(5,"i",5==t.loadingType)?i("Loading5",{attrs:{_i:5}}):t._e()],1)},n=[]},c649:function(t,e,i){"use strict";i.r(e);var a=i("dedc"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c64d:function(t,e,i){"use strict";i.r(e);var a=i("6420"),n=i("c0f7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"ac7db2a6",null,!1,a["a"],void 0);e["default"]=o.exports},c681:function(t,e,i){"use strict";i.r(e);var a=i("22a4"),n=i("2c3e");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},c826:function(t,e,i){"use strict";i.r(e);var a=i("940f"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c89a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"loading3",data:function(){return{}}}},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(a){"object"===typeof window&&(i=window)}t.exports=i},c8eb:function(t,e,i){"use strict";i.r(e);var a=i("07e1"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c8f8:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("55b0"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),queryId:"",updateValue:"",channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var i=this;e=(0,r.stringifyQuery)(this.query,null,["uni_platform"]);var a=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=(0,r.stringifyQuery)({appid:this.query.appid}),c=n.collection("uni-stat-pages").where(u).field("_id, title, path").getTemp(),l=n.collection("uni-stat-page-result").where(e).getTemp();n.collection(l,c).field("".concat((0,r.stringifyField)(s.default),", stat_date, page_id")).groupBy("page_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("visit_times","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,a=e.count,n=e.data;i.options.total=a,i.tableData=[];var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.page_id;if(Array.isArray(d)){delete l.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var h in f)"_id"!==h&&(l[h]=f[h])}(0,r.mapfields)(s.default,l,l),i.tableData.push(l)}}catch(p){c.e(p)}finally{c.f()}})).catch((function(t){})).finally((function(){i.loading=!1}))},getPanelData:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),a=t.database();a.collection("uni-stat-page-result").where(i).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc ").get().then((function(t){var i=t.result.data[0];e.panelData=[],e.panelData=(0,r.mapfields)(s.default,i)}))},inputDialogToggle:function(t,e){this.queryId=t,this.updateValue=e,this.$refs.inputDialog.open()},editName:function(e){var i=this,a=t.database();a.collection("uni-stat-pages").where({url:this.queryId}).update({title:e}).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),i.getTableData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},c970:function(t,e,i){"use strict";i.r(e);var a=i("4458"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c973:function(t,e){function i(t,e,i,a,n,r,s){try{var o=t[r](s),u=o.value}catch(c){return void i(c)}o.done?e(u):Promise.resolve(u).then(a,n)}t.exports=function(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function o(t){i(s,n,r,o,u,"next",t)}function u(t){i(s,n,r,o,u,"throw",t)}o(void 0)}))}},t.exports.__esModule=!0,t.exports["default"]=t.exports},c9c9:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("8d90"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:1,tableData:[],panelData:s.default.filter((function(t){return t.hasOwnProperty("value")})),channelData:[]}},computed:{channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){return t.getAllData()})),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i=(0,r.getTimeOfSomeDayAgo)(t),a=(0,r.getTimeOfSomeDayAgo)(0)-1;this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTableData()},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTableData()},getAllData:function(){this.getPanelData(),this.getTableData()},getTableData:function(e){var i=this;e=(0,r.stringifyQuery)(this.query,null,["uni_platform"]);var a=this.options.pageCurrent;this.loading=!0;var n=t.database(),u=(0,r.stringifyQuery)({appid:this.query.appid}),c=n.collection("uni-stat-pages").where(u).getTemp(),l=n.collection("uni-stat-page-result").where(e+" && entry_count > 0").getTemp();n.collection(l,c).field("".concat((0,r.stringifyField)(s.default),", stat_date, page_id")).groupBy("page_id").groupField((0,r.stringifyGroupField)(s.default)).orderBy("entry_count","desc").skip((a-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var e=t.result,a=e.count,n=e.data;i.options.total=a,i.tableData=[];var u,c=o(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.page_id;if(Array.isArray(d)){delete l.page_id;var f=d[0];if(f&&Object.keys(f).length)for(var h in f)"_id"!==h&&(l[h]=f[h])}(0,r.mapfields)(s.default,l,l),i.tableData.push(l)}}catch(p){c.e(p)}finally{c.f()}})).catch((function(t){})).finally((function(){i.loading=!1}))},getPanelData:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.stringifyQuery)(this.query,null,["uni_platform"]),a=t.database();a.collection("uni-stat-page-result").where(i).field((0,r.stringifyField)(s.default)).groupBy("appid").groupField((0,r.stringifyGroupField)(s.default)).orderBy("start_time","desc ").get().then((function(t){var i=t.result.data[0];e.panelData=[],e.panelData=(0,r.mapfields)(s.default,i)}))},navTo:function(t){var e="/pages/uni-stat/overview/overview?id=".concat(t);uni.navigateTo({url:e})},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},ca08:function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-sms-form",model:{prop:"modelValue",event:"update:modelValue"},props:{event:["update:modelValue"],count:{type:[String,Number],default:60},phone:{type:[String,Number],default:""},type:{type:String,default:function(){return"login"}},focusCaptchaInput:{type:Boolean,default:function(){return!1}}},data:function(){return{captcha:"",reverseNumber:0,reverseTimer:null,modelValue:"",focusSmsCodeInput:!1}},watch:{captcha:function(t,e){4==t.length&&4!=e.length&&this.start()},modelValue:function(t){this.$emit("input",t),this.$emit("update:modelValue",t)}},computed:{innerText:function(){return 0==this.reverseNumber?"\u83b7\u53d6\u77ed\u4fe1\u9a8c\u8bc1\u7801":"\u91cd\u65b0\u53d1\u9001("+this.reverseNumber+"s)"}},created:function(){this.initClick()},methods:{getImageCaptcha:function(t){this.$refs.captcha.getImageCaptcha(t)},initClick:function(){var t=this;this.start=function(t,e){var i;return e=e||500,function(){var a=this,n=arguments;i&&clearTimeout(i);var r=!i;i=setTimeout((function(){i=null}),e),r&&t.apply(a,n)}}((function(){0==t.reverseNumber&&t.sendMsg()}))},sendMsg:function(){var e=this;if(4!=this.captcha.length)return this.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u5148\u8f93\u5165\u56fe\u5f62\u9a8c\u8bc1\u7801",icon:"none",duration:3e3});if(!/^1\d{10}$/.test(this.phone))return uni.showToast({title:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef",icon:"none",duration:3e3});var i=t.importObject("uni-id-co",{customUI:!0});this.phone,this.type,this.captcha,i.sendSmsCode({mobile:this.phone,scene:this.type,captcha:this.captcha}).then((function(t){uni.showToast({title:"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f",icon:"none",duration:3e3}),e.reverseNumber=Number(e.count),e.getCode()})).catch((function(t){"uni-id-invalid-sms-template-id"==t.code?(e.modelValue="123456",uni.showToast({title:"\u5df2\u542f\u52a8\u6d4b\u8bd5\u6a21\u5f0f,\u8be6\u60c5\u3010\u63a7\u5236\u53f0\u4fe1\u606f\u3011",icon:"none",duration:3e3}),t.message):(e.getImageCaptcha(),e.captcha="",uni.showToast({title:t.message,icon:"none",duration:3e3}))}))},getCode:function(){var t=this;if(0==this.reverseNumber)return clearTimeout(this.reverseTimer),void(this.reverseTimer=null);this.reverseNumber--,this.reverseTimer=setTimeout((function(){t.getCode()}),1e3)}}};e.default=a}).call(this,i("a9ff")["default"],i("0de9")["default"])},ca3e:function(t,e,i){"use strict";i.r(e);var a=i("12f2a"),n=i("726b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},cb7f:function(t,e,i){"use strict";i.r(e);var a=i("e5f7"),n=i("d86d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},cb9c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u521b\u5efa\u65f6\u95f4",field:"create_time",tooltip:"",formatter:""},{title:"\u4e8b\u4ef6ID",field:"event_key",stat:-1},{title:"\u4e8b\u4ef6\u53c2\u6570",field:"param",tooltip:""},{title:"\u5e73\u53f0",field:"platform",tooltip:""},{title:"\u8bbe\u5907\u6807\u8bc6",field:"device_id",tooltip:""}]},cbce:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,qiunDataCharts:i("66f8").default,uniIcons:i("3bcb").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",yesterday:!1,_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("view",{staticClass:t._$s(15,"sc","uni-stat--x mb-m"),attrs:{_i:15}},[i("view",{staticClass:t._$s(16,"sc","mb-m line-bottom"),attrs:{_i:16}},[i("uni-stat-tabs",{attrs:{type:"boldLine",tabs:t.fields,tooltip:!0,_i:17},model:{value:t._$s(17,"v-model",t.field),callback:function(e){t.field=e},expression:"field"}})],1),i("uni-stat-tabs",{staticClass:t._$s(18,"sc","mb-l"),attrs:{type:"box",tabs:t.keys,_i:18},model:{value:t._$s(18,"v-model",t.key),callback:function(e){t.key=e},expression:"key"}}),i("view",{staticClass:t._$s(19,"sc","p-m"),attrs:{_i:19}},[i("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:21}})],1)])],1),i("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[i("view",{staticClass:t._$s(23,"sc","uni-tips mb-s flex"),attrs:{_i:23}},[i("uni-icons",{attrs:{type:"info",_i:24}})],1),i("uni-table",{attrs:{loading:t.loading,stripe:!0,emptyText:t.$t("common.empty"),_i:25}},[i("uni-tr",{attrs:{_i:26}},[t._l(t._$s(27,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("28-"+r,"i",e.title)?i("uni-th",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(e.title)))]):t._e()]}))],2),t._l(t._$s(29,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(29,"f",{forIndex:n,key:a}),attrs:{_i:"29-"+r}},[t._l(t._$s("30-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return[t._$s("31-"+r+"-"+o,"i",a.title)?i("uni-td",{key:t._$s("30-"+r,"f",{forIndex:s,keyIndex:0,key:n+"_"+n+"_0"}),class:t._$s("31-"+r+"-"+o,"c",/[d|w|m]_\d/.test(a.field)&&[e[a.field]?"uni-stat-table-bg":""]),attrs:{align:"center",_i:"31-"+r+"-"+o}},[t._v(t._$s("31-"+r+"-"+o,"t0-0",t._s(e[a.field]?e[a.field]:"")))]):t._e()]}))],2)}))],2),i("view",{staticClass:t._$s(32,"sc","uni-pagination-box"),attrs:{_i:32}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:33},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)]),i("fix-window",{attrs:{_i:34}})],1)},r=[]},cc6f:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniIdPagesSmsForm:i("c460").default,uniPopupCaptcha:i("073c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box "),attrs:{_i:4}})]),i("uni-forms",{ref:"form",staticClass:t._$s(5,"sc","set-password-form"),attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[i("text",{staticClass:t._$s(6,"sc","tip"),attrs:{_i:6}}),i("uni-forms-item",{attrs:{name:"newPassword",_i:7}},[i("uni-easyinput",{staticClass:t._$s(8,"sc","input-box"),attrs:{focus:t.focusNewPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",_i:8},on:{blur:function(e){t.focusNewPassword=!1}},model:{value:t._$s(8,"v-model",t.formData.newPassword),callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),i("text",{staticClass:t._$s(9,"sc","tip"),attrs:{_i:9}}),i("uni-forms-item",{attrs:{name:"newPassword2",_i:10}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusNewPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusNewPassword2=!1}},model:{value:t._$s(11,"v-model",t.formData.newPassword2),callback:function(e){t.$set(t.formData,"newPassword2",e)},expression:"formData.newPassword2"}})],1),i("uni-id-pages-sms-form",{ref:"smsCode",attrs:{type:"set-pwd-by-sms",phone:t.userInfo.mobile,_i:12},model:{value:t._$s(12,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("view",{staticClass:t._$s(13,"sc","link-box"),attrs:{_i:13}},[i("button",{staticClass:t._$s(14,"sc","uni-btn send-btn"),attrs:{_i:14},on:{click:t.submit}}),t._$s(15,"i",t.allowSkip)?i("button",{staticClass:t._$s(15,"sc","uni-btn send-btn"),attrs:{_i:15},on:{click:t.skip}}):t._e()])],1),i("uni-popup-captcha",{ref:"popup",attrs:{scene:"set-pwd-by-sms",_i:16},on:{confirm:t.submit},model:{value:t._$s(16,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},ccd1:function(t,e,i){"use strict";i.r(e);var a=i("eb26"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},ccd2:function(t,e,i){"use strict";i.r(e);var a=i("7cf4"),n=i("cf2b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},cdfd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{}},created:function(){this.popup=this.getParent()},methods:{getParent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniPopup",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=a},cecf:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cacheImageList=void 0;e.cacheImageList=[]},ceff:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{focus:!1}},props:{modelValue:String,value:String,scene:{type:String,default:function(){return""}},title:{type:String,default:function(){return""}}},computed:{val:{get:function(){return this.value||this.modelValue},set:function(t){this.$emit("input",t)}}},methods:{open:function(){this.focus=!0,this.val="",this.$refs.popup.open()},close:function(){this.focus=!1,this.$refs.popup.close()},confirm:function(){if(!this.val)return uni.showToast({title:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801",icon:"none"});this.close(),this.$emit("confirm")}}};e.default=a},ceff7:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniIdPagesSmsForm:i("c460").default,uniPopupCaptcha:i("073c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","login-logo"),attrs:{_i:1}},[i("image",{attrs:{src:t._$s(2,"a-src",t.logo),_i:2}})]),i("text",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),i("text",{staticClass:t._$s(4,"sc","tip"),attrs:{_i:4}}),i("uni-forms",{attrs:{_i:5}},[i("uni-id-pages-sms-form",{ref:"smsCode",attrs:{focusCaptchaInput:!0,type:"login-by-sms",phone:t.phone,_i:6},model:{value:t._$s(6,"v-model",t.code),callback:function(e){t.code=e},expression:"code"}}),i("button",{staticClass:t._$s(7,"sc","uni-btn send-btn"),attrs:{_i:7},on:{click:t.submit}})],1),i("uni-popup-captcha",{ref:"popup",attrs:{scene:"login-by-sms",_i:8},on:{confirm:t.submit},model:{value:t._$s(8,"v-model",t.captcha),callback:function(e){t.captcha=e},expression:"captcha"}})],1)},r=[]},cf2b:function(t,e,i){"use strict";i.r(e);var a=i("3942"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d0b2:function(t,e,i){"use strict";i.r(e);var a=i("302a"),n=i("db84");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},d17b:function(t,e,i){"use strict";i.r(e);var a=i("5185"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d246:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),s=i("06ce"),o=n(i("a3e1")),u=i("5294");function c(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={props:{query:{type:[Object],default:function(){return{}}}},data:function(){return{tableName:"uni-stat-pay-result",chartData:{},errorMessage:"",opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,15],legend:{},enableScroll:!0,xAxis:{disableGrid:!0,itemCount:24,fontSize:12},yAxis:{gridType:"dash",dashLength:2,data:[{tofix:2,unit:"%"}]},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1}}},dateTabs:{time:[],timeStr:"",index:0,list:[{_id:7,name:"\u6700\u8fd1\u4e03\u5929",dimension:"day"},{_id:30,name:"\u6700\u8fd130\u5929",dimension:"day"},{_id:90,name:"\u6700\u8fd190\u5929",dimension:"day"},{_id:372,name:"\u6708\u7ef4\u5ea6",dimension:"month"},{_id:1116,name:"\u5b63\u7ef4\u5ea6",dimension:"quarter"},{_id:4392,name:"\u5e74\u7ef4\u5ea6",dimension:"year"}]},statTabs:{index:0,list:[{_id:1,name:"\u652f\u4ed8\u8f6c\u5316\u7387"}]},queryMode:0}},created:function(){var t=this;this.getCloudDataDebounce=(0,s.debounce)((function(){t.getCloudData()}),300),this.getCloudDataDebounce()},methods:{getCloudData:function(){var e=this,i=this.query;if(i.appid){this.errorMessage="";var a=this.getWhere(),n=f(f({},i),a);n=(0,s.stringifyQuery)(n,!0,["uni_platform"]);var r=t.database();r.collection(this.tableName).where(n).field("".concat((0,s.stringifyField)(u.fieldsMap),", start_time")).groupBy("start_time, dimension").groupField((0,s.stringifyGroupField)(u.fieldsMap)).orderBy("start_time","asc").limit(100).get({getCount:!0}).then((function(t){var i=t.result,n=(i.count,i.data);n=(0,s.fillTrendChartData)(n,a,u.fieldsMap),n.map((function(t,e){t.value=Number((t.pay_user_count/t.activity_user_count*100).toFixed(2)),isNaN(t.value)&&(t.value=0)})),e.setChartData(n,a.dimension)})).catch((function(t){})).finally((function(){}))}else this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},setChartData:function(t,e){var i,a={categories:[],series:[{name:"\u652f\u4ed8\u8f6c\u5316\u7387",data:[]}]},n=c(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=this.formatDate(r.start_time,e);a.categories.push(s);var o=Number(r.value);a.series[0].data.push(o)}}catch(u){n.e(u)}finally{n.f()}this.chartData=a},formatDate:function(t,e){var i=new Date(t),a=i.getFullYear(),n=i.getMonth()+1,r=i.getDate(),o=i.getHours(),u=Math.floor((i.getMonth()+3)/3);return n<10&&(n="0"+n),r<10&&(r="0"+r),"hour"===e?"".concat(o,"\u65f6"):"month"===e?"".concat(a,"-").concat(n):"quarter"===e?"".concat(a,"/Q").concat(u):"year"===e?"".concat(a):(0,s.parseDateTime)(i)},datePickerChange:function(t){this.dateTabs.time=t,this.queryMode=1,this.getCloudData()},dateTabsChange:function(t,e){this.dateTabs.index=e,this.queryMode=0,this.getCloudData()},statTabsChange:function(t,e,i){this.statTabs.index=e,this.getCloudData({field:t,name:i})},getWhere:function(){var t=[],e=this.dateTabs.list[this.dateTabs.index]||{};if("number"===typeof e._id&&0===this.queryMode){var i=(0,s.getTimeOfSomeDayAgo)(e._id),a=o.default.getOffsetStartAndEnd("day",0).endTime;1==e._id&&(a=o.default.getOffsetStartAndEnd("day",0,i).endTime),t=[i,a]}else this.dateTabs.time&&(t=this.dateTabs.time);var n=e.dimension||"day";return this.dateTabs.timeStr="".concat(o.default.timeFormat(t[0])," ~ ").concat(o.default.timeFormat(t[1])),this.dateTabs.time=t,{dimension:n,start_time:t}}},watch:{query:{deep:!0,handler:function(t){this.getCloudDataDebounce()}}},computed:{}};e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},d2f3:function(t,e,i){"use strict";i.r(e);var a=i("9733"),n=i("ad63");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"54045d8e",null,!1,a["a"],void 0);e["default"]=o.exports},d2f6:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("f7f2"),s=a(i("2543"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={data:function(){return{config:s.default,uniIdRedirectUrl:"",isMounted:!1}},onUnload:function(){},mounted:function(){this.isMounted=!0},onLoad:function(t){var e=this;if(t.is_weixin_redirect){if(uni.showLoading({mask:!0}),window.location.href.includes("#")){var i=window.location.href.split("?")[1].split("&");i.forEach((function(e){var i=e.split("=");"code"==i[0]&&(t.code=i[1])}))}this.$nextTick((function(i){e.$refs.uniFabLogin.login({code:t.code},"weixin")}))}t.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(t.uniIdRedirectUrl))},computed:{needAgreements:function(){if(this.isMounted)return!!this.$refs.agreements&&this.$refs.agreements.needAgreements},agree:{get:function(){if(this.isMounted)return!this.$refs.agreements||this.$refs.agreements.isAgree},set:function(t){this.$refs.agreements&&(this.$refs.agreements.isAgree=t)}}},methods:{loginSuccess:function(t){r.mutations.loginSuccess(u(u({},t),{},{uniIdRedirectUrl:this.uniIdRedirectUrl}))}}},l=c;e.default=l}).call(this,i("0de9")["default"])},d326:function(t,e,i){"use strict";i.r(e);var a=i("3588"),n=i("07d5");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},d378:function(t,e,i){"use strict";i.r(e);var a=i("5e74"),n=i("7bbc");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},d37c:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading3"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},d3aa:function(t,e,i){"use strict";i.r(e);var a=i("b6b8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d3fc:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-table"),attrs:{_i:0}},[i("uni-table",{attrs:{border:!0,stripe:!0,_i:1}},[i("uni-tr",{attrs:{_i:2}},[i("uni-th",{attrs:{align:"center",_i:3}},[t._v("")]),i("uni-th",{attrs:{width:"100",align:"center",_i:4}},[t._v("")]),i("uni-th",{attrs:{width:"100",align:"center",_i:5}},[t._v("")]),i("uni-th",{attrs:{width:"100",align:"center",_i:6}},[t._v("")])],1),t._l(t._$s(7,"f",{forItems:t.logs}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(7,"f",{forIndex:n,key:a}),attrs:{_i:"7-"+r}},[i("uni-td",{attrs:{_i:"8-"+r}},[i("text",{staticClass:t._$s("9-"+r,"sc","err-msg"),attrs:{_i:"9-"+r}},[t._v(t._$s("9-"+r,"t0-0",t._s(e.info))+t._$s("9-"+r,"t0-1",t._s(e.err)))])]),i("uni-td",{attrs:{_i:"10-"+r}},[i("navigator",{staticClass:t._$s("11-"+r,"sc","err-route"),attrs:{url:t._$s("11-"+r,"a-url",e.route),_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(e.route)))])]),i("uni-td",{attrs:{_i:"12-"+r}},[i("text",[t._v(t._$s("13-"+r,"t0-0",t._s(e.time)))])]),i("uni-td",{attrs:{_i:"14-"+r}})],1)}))],2)],1)},r=[]},d404:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("be93")),r=a(i("4ac2")),s=a(i("5885")),o=a(i("bc47")),u=a(i("7568")),c={en:n.default,es:r.default,fr:s.default,"zh-Hans":o.default,"zh-Hant":u.default};e.default=c},d42d:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{directives:[{name:"show",rawName:"v-show",value:this._$s(0,"v-show",this.matches),expression:"_$s(0,'v-show',matches)"}],attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},d43e:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-card"),class:t._$s(0,"c",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}),style:t._$s(0,"s",{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}),attrs:{_i:0}},[t._t("cover",[t._$s(2,"i",t.cover)?i("view",{staticClass:t._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","uni-card__cover-image"),attrs:{src:t._$s(3,"a-src",t.cover),_i:3},on:{click:function(e){return t.onClick("cover")}}})]):t._e()],{_i:1}),t._t("title",[t._$s(5,"i",t.title||t.extra)?i("view",{staticClass:t._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(e){return t.onClick("title")}}},[t._$s(7,"i",t.thumbnail)?i("view",{staticClass:t._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[i("image",{staticClass:t._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:t._$s(8,"a-src",t.thumbnail),_i:8}})]):t._e(),i("view",{staticClass:t._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))]),t._$s(11,"i",t.title&&t.subTitle)?i("text",{staticClass:t._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.subTitle)))]):t._e()])]),i("view",{staticClass:t._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(e){return t.onClick("extra")}}},[i("text",{staticClass:t._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.extra)))])])]):t._e()],{_i:4}),i("view",{staticClass:t._$s(14,"sc","uni-card__content"),style:t._$s(14,"s",{padding:t.padding}),attrs:{_i:14},on:{click:function(e){return t.onClick("content")}}},[t._t("default",null,{_i:15})],2),i("view",{staticClass:t._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(e){return t.onClick("actions")}}},[t._t("actions",null,{_i:17})],2)],2)},n=[]},d442:function(t,e,i){"use strict";i.r(e);var a=i("f700"),n=i("c649");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},d45f:function(t,e,i){"use strict";i.r(e);var a=i("5e01"),n=i("0e3b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"3e5b7276",null,!1,a["a"],void 0);e["default"]=o.exports},d5d9:function(t,e,i){"use strict";i.r(e);var a=i("3257"),n=i("a46a");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},d746:function(t,e,i){"use strict";i.r(e);var a=i("9377"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d7f4:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(i("7898"));var r=t.database(),s=(r.command,{data:function(){return{field:"content,time,size,name,url",options:{pageSize:20,pageCurrent:1},loading:!1,appFileList:[],btLoading:!1,progress:0,where:"",orderby:"time desc",qrCodeValue:""}},onLoad:function(){var t=this;this.$nextTick((function(){t.$refs.udb.loadData()}))},methods:{uploadSuccess:function(t){uni.showToast({icon:"success",title:"\u4e0a\u4f20\u6210\u529f",duration:800}),this.putFileUrlToHost(t.tempFiles[0])},uploadProgress:function(t){t.index;var e=t.progress;t.tempFile;this.progress=e},selectFile:function(){this.$refs.filePicker.clearFiles()},putFileUrlToHost:function(t){var e=this,i={content:JSON.stringify(t),size:Number((t.size/1048576).toFixed(2)),name:t.name,url:t.url,time:"".concat((new Date).toLocaleDateString()," ").concat((new Date).toLocaleTimeString())};this.btLoading=!0,r.collection("upload-files").add(i).then((function(t){e.btLoading=!1,e.loadData()})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1}),e.btLoading=!1}))},onPageChanged:function(t){this.$refs.udb.loadData({current:t.current})},changeSize:function(t){var e=this;this.options.pageSize=t,this.options.pageCurrent=1,this.$nextTick((function(){e.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onDelete:function(t,e){},openDialog:function(t,e){this.$refs.alertDialog.open(),this.drawQRCode(t.url)},drawQRCode:function(t){this.qrCodeValue=t}}});e.default=s}).call(this,i("a9ff")["default"],i("0de9")["default"])},d86d:function(t,e,i){"use strict";i.r(e);var a=i("ebe3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},d8cf:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("46c2").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataSelect:i("ccd2").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("uni-popup",{ref:"smsPopup",attrs:{type:"center","is-mask-click":!1,_i:1},on:{change:t.popupChange}},[i("view",{staticClass:t._$s(2,"sc","sms-manager"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","sms-manager--header mb"),attrs:{_i:3}}),i("uni-forms",{ref:"smsForm",attrs:{"label-width":100,modelValue:t.smsDataModel,_i:4}},[t._$s(5,"i","user"===t.toType)?i("uni-forms-item",{attrs:{label:"\u76ee\u6807\u5bf9\u8c61",_i:5}},[t._$s(6,"i",t.isSelectedReceiver)?i("view",[t._v(t._$s(6,"t0-0",t._s(t.receiver.length)))]):i("view"),i("view",{staticClass:t._$s(8,"sc","sms-data-tip"),attrs:{_i:8}})]):i("uni-forms-item",{attrs:{label:"\u76ee\u6807\u5bf9\u8c61",_i:9}},[i("view",[t._v(t._$s(10,"t0-0",t._s(t.receiver.length)))]),i("view",{staticClass:t._$s(11,"sc","sms-data-tip"),attrs:{_i:11}})]),i("uni-forms-item",{attrs:{label:"\u4efb\u52a1\u540d\u79f0",name:"name",required:!0,rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"}],_i:12}},[i("uni-easyinput",{attrs:{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0\uff0c\u4f8b\u5982 \u201c\u653e\u5047\u901a\u77e5\u201d",_i:13},model:{value:t._$s(13,"v-model",t.smsDataModel.name),callback:function(e){t.$set(t.smsDataModel,"name",e)},expression:"smsDataModel.name"}})],1),i("uni-forms-item",{attrs:{required:!0,label:"\u77ed\u4fe1\u6a21\u677f",name:"templateId",rules:[{required:!0,errorMessage:"\u8bf7\u9009\u62e9\u77ed\u4fe1\u6a21\u677f"}],_i:14}},[t._$s(15,"i",!t.smsTemplateLoading)?[t._$s(16,"i",t.smsTemplate.length)?i("view",[i("uni-data-select",{staticClass:t._$s(17,"sc","type m"),attrs:{placeholder:"\u8bf7\u9009\u62e9\u77ed\u4fe1\u6a21\u677f",size:"mini",clear:!1,localdata:t.smsTemplate,_i:17},on:{change:t.onSmsTemplateSelected},model:{value:t._$s(17,"v-model",t.smsDataModel.templateId),callback:function(e){t.$set(t.smsDataModel,"templateId",e)},expression:"smsDataModel.templateId"}}),i("view",{staticClass:t._$s(18,"sc","sms-data-tip"),attrs:{_i:18}},[i("a",{staticClass:t._$s(19,"sc","a-link"),attrs:{_i:19}}),i("text",{staticClass:t._$s(20,"sc","a-link"),attrs:{_i:20},on:{click:t.chooseFile}})])],1):i("view",[i("button",{attrs:{_i:22},on:{click:t.chooseFile}}),i("view",{staticClass:t._$s(23,"sc","sms-data-tip"),attrs:{_i:23}},[i("a",{}),i("a",{})])])]:void 0],2),t._$s(27,"i",t.smsTemplateContent)?i("uni-forms-item",{attrs:{label:"\u77ed\u4fe1\u5185\u5bb9",_i:27}},[i("view",{staticClass:t._$s(28,"sc","form-item-flex-center"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.smsTemplateContent)))])]):t._e(),t._$s(29,"i",t.smsDataModel.templateData.length)?i("uni-forms-item",{attrs:{label:"\u6a21\u677f\u53d8\u91cf\u914d\u7f6e","error-message":t.smsTemplateDataErrorMessage,_i:29}},[t._l(t._$s(30,"f",{forItems:t.smsDataModel.templateData}),(function(e,a,n,r){return i("view",{key:t._$s(30,"f",{forIndex:n,key:e.field}),staticClass:t._$s("30-"+r,"sc","sms-data-item"),attrs:{_i:"30-"+r}},[i("uni-easyinput",{staticClass:t._$s("31-"+r,"sc","field m"),attrs:{placeholder:"\u5b57\u6bb5",clearable:!1,disabled:!0,_i:"31-"+r},model:{value:t._$s("31-"+r,"v-model",e.field),callback:function(i){t.$set(e,"field",i)},expression:"template.field"}}),i("uni-easyinput",{staticClass:t._$s("32-"+r,"sc","value m"),attrs:{placeholder:"\u4f8b {uni-id-users.username}",clearable:!1,_i:"32-"+r},model:{value:t._$s("32-"+r,"v-model",e.value),callback:function(i){t.$set(e,"value",i)},expression:"template.value"}})],1)})),i("view",{staticClass:t._$s(33,"sc","sms-data-tip"),attrs:{_i:33}})],2):t._e()],1),i("view",{staticClass:t._$s(34,"sc","uni-group"),attrs:{_i:34}},[i("button",{staticClass:t._$s(35,"sc","uni-button"),attrs:{_i:35},on:{click:function(e){return t.sendSms(!0)}}}),i("button",{staticClass:t._$s(36,"sc","uni-button"),attrs:{_i:36},on:{click:function(e){return t.sendSms()}}})])],1),i("uni-icons",{staticClass:t._$s(37,"sc","close"),attrs:{type:"closeempty",size:"24",_i:37},on:{click:t.close}})],1),i("uni-popup",{ref:"previewPopup",attrs:{type:"center","is-mask-click":!1,_i:38}},[i("view",{staticClass:t._$s(39,"sc","sms-manager preview"),attrs:{_i:39}},[i("view",{staticClass:t._$s(40,"sc","sms-manager--header mb"),attrs:{_i:40}},[i("view"),i("view",{staticClass:t._$s(42,"sc","sub-title"),attrs:{_i:42}})]),i("view",{staticClass:t._$s(43,"sc","content"),attrs:{_i:43}},[t._l(t._$s(44,"f",{forItems:t.smsPreviewContent}),(function(e,a,n,r){return i("view",{key:t._$s(44,"f",{forIndex:n,key:a})},[t._v(t._$s("44-"+r,"t0-0",t._s(e)))])})),i("view",{staticClass:t._$s(45,"sc","length"),attrs:{_i:45}},[i("text",{staticClass:t._$s(46,"sc","num"),attrs:{_i:46}},[t._v(t._$s(46,"t0-0",t._s(t.smsPreviewContent.length?t.smsPreviewContent[0].length:0)))])])],2),i("view",{staticClass:t._$s(47,"sc","tip"),attrs:{_i:47}},[i("view"),i("view"),i("view")]),i("view",{staticClass:t._$s(51,"sc","uni-group"),attrs:{_i:51}},[i("button",{staticClass:t._$s(52,"sc","uni-button"),attrs:{_i:52},on:{click:function(e){return t.$refs.previewPopup.close()}}})])])])],1)},r=[]},d9b8:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{value:t.formData,validateTrigger:"bind",_i:1}},[i("uni-forms-item",{attrs:{name:"tagid",label:"\u6807\u7b7e\u7684tagid",required:!0,_i:2}},[i("uni-easyinput",{attrs:{disabled:!0,placeholder:"\u6807\u7b7etagid",_i:3},model:{value:t._$s(3,"v-model",t.formData.tagid),callback:function(e){t.$set(t.formData,"tagid",e)},expression:"formData.tagid"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u6807\u7b7e\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{placeholder:"\u6807\u7b7e\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"description",label:"\u6807\u7b7e\u63cf\u8ff0",_i:6}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:t._$s(7,"sc","uni-textarea-border"),attrs:{_i:7},domProps:{value:t._$s(7,"v-model",t.formData.description)},on:{input:[function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)},function(e){return t.binddata("description",e.detail.value)}]}})]),i("view",{staticClass:t._$s(8,"sc","uni-button-group"),attrs:{_i:8}},[i("button",{staticClass:t._$s(9,"sc","uni-button"),attrs:{_i:9},on:{click:t.submit}}),i("navigator",{},[i("button",{staticClass:t._$s(11,"sc","uni-button"),attrs:{_i:11}})])])],1)],1)},r=[]},dabe:function(t,e,i){"use strict";i.r(e);var a=i("54d5"),n=i("634a");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"8cdcf304",null,!1,a["a"],void 0);e["default"]=o.exports},dad7:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.isShow)?i("view",{ref:"ani",class:t._$s(0,"c",t.customClass),style:t._$s(0,"s",t.transformStyles),attrs:{animation:t._$s(0,"a-animation",t.animationData),_i:0},on:{click:t.onClick}},[t._t("default",null,{_i:1})],2):t._e()},n=[]},daf1:function(t,e,i){"use strict";i.r(e);var a=i("2e61"),n=i("dfbb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},db84:function(t,e,i){"use strict";i.r(e);var a=i("743b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},dc57:function(t,e,i){"use strict";i.r(e);var a=i("9bed"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},dcbc:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-file-picker__files"),attrs:{_i:0}},[t._$s(1,"i",!t.readonly)?i("view",{staticClass:t._$s(1,"sc","files-button"),attrs:{_i:1},on:{click:t.choose}},[t._t("default",null,{_i:2})],2):t._e(),t._$s(3,"i",t.list.length>0&&!1)?i("view",{staticClass:t._$s(3,"sc","uni-file-picker__lists is-text-box"),style:t._$s(3,"s",t.borderStyle),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.list}),(function(e,a,n,r){return i("view",{key:t._$s(4,"f",{forIndex:n,key:a}),staticClass:t._$s("4-"+r,"sc","uni-file-picker__lists-box"),class:t._$s("4-"+r,"c",{"files-border":0!==a&&t.styles.dividline}),style:t._$s("4-"+r,"s",0!==a&&t.styles.dividline&&t.borderLineStyle),attrs:{_i:"4-"+r}},[t._$s("5-"+r,"i",e.progress&&100!==e.progress)?i("view",{staticClass:t._$s("5-"+r,"sc","file-picker__progress"),attrs:{_i:"5-"+r}},[i("progress",{staticClass:t._$s("6-"+r,"sc","file-picker__progress-item"),attrs:{percent:t._$s("6-"+r,"a-percent",-1===e.progress?0:e.progress),backgroundColor:t._$s("6-"+r,"a-backgroundColor",e.errMsg?"#ff5a5f":"#EBEBEB"),_i:"6-"+r}})]):t._e(),t._$s("7-"+r,"i","error"===e.status)?i("view",{staticClass:t._$s("7-"+r,"sc","file-picker__mask"),attrs:{_i:"7-"+r},on:{click:function(i){return i.stopPropagation(),t.uploadFiles(e,a)}}}):t._e()])})),0):t._e()])},n=[]},dd30:function(t,e,i){"use strict";(function(t){var a=i("4ea4"),n=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("a34a")),s=a(i("9523")),o=a(i("c973")),u=(i("b1f9"),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var i=d(e);if(i&&i.has(t))return i.get(t);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=t[s]}a.default=t,i&&i.set(t,a);return a}(i("0c02"))),c=i("bb25"),l=a(i("2581"));function d(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(d=function(t){return t?i:e})(t)}function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p=t.database(),m=(p.command,c.appVersionListDbName);var g={components:{showInfo:l.default},mixins:[u.default],data:function(){return{latestVersion:"0.0.0",lastVersionId:""}},onLoad:function(t){var e=this;return(0,o.default)(r.default.mark((function i(){var a,n,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.appid,n=t.name,s=t.type,!(a&&s&&n)){i.next=8;break}return e.formData=h(h({},e.formData),{appid:a,name:n,type:s}),i.next=5,e.getDetail(a,s);case 5:e.latestStableData=i.sent,!e.isWGT&&e.latestStableData.length&&e.setFormData("Android"),e.isWGT&&e.rules.min_uni_version.rules.push({required:!0});case 8:case"end":return i.stop()}}),i)})))()},watch:{isiOS:function(t){t?this.setFormData("iOS"):this.hasPackage?this.formData.url=this.appFileList.url:this.formData.url=""},"formData.platform":function(t){this.isWGT&&this.setFormData(t)}},methods:{setFormData:function(t){uni.showLoading({mask:!0}),this.latestVersion="0.0.0",this.lastVersionId="";var e=this.getData(this.latestStableData,t)[0];if(e){var i=e._id,a=e.version,n=e.name,r=e.platform,s=e.min_uni_version,o=e.url;this.lastVersionId=i,this.latestVersion=a,this.formData.name=n,this.isWGT?this.formData.min_uni_version=s:(delete this.formData.min_uni_version,this.formData.platform=r[0],this.isiOS&&(this.formData.url=o))}else this.isWGT&&(this.formData.min_uni_version="");uni.hideLoading()},submit:function(){var t=this;this.formData.url||!this.isiOS?(uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){if(e.url=t.formData.url,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";t=String(t).split("."),e=String(e).split(".");for(var i=Math.min(t.length,e.length),a=0,n=0;n<i;n++){var r=Number(t[n]),s=Number(e[n]);if(r>s){a=1;break}if(r<s){a=-1;break}}if(0===a&&t.length!==e.length)for(var o=t.length>e.length,u=o?t:e,c=i;c<u.length;c++){var l=Number(u[c]);if(l>0){a=o?1:-1;break}}return a}(t.latestVersion,e.version)>=0)throw uni.showModal({content:"\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u5df2\u4e0a\u7ebf\u7248\u672c\uff08".concat(t.latestVersion,"\uff09"),showCancel:!1}),new Error("\u7248\u672c\u53f7\u5fc5\u987b\u5927\u4e8e\u5df2\u4e0a\u7ebf\u7248\u672c\uff08${this.latestVersion}\uff09");t.isWGT||(e.platform=[e.platform]),(t.isiOS||t.isWGT)&&delete e.store_list,e.store_list&&e.store_list.forEach((function(t){t.priority=parseFloat(t.priority)})),t.submitForm(e)})).catch((function(t){uni.hideLoading()}))):uni.showToast({icon:"error",title:"AppStore \u94fe\u63a5\u5fc5\u586b"})},submitForm:function(t){var e=this;return(0,o.default)(r.default.mark((function i(){var a,n,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t=e.createCenterRecord(t),a=p.collection(m),n=[],e.isWGT){i.next=7;break}return i.next=6,e.getDetail(t.appid,t.type,e.createStatQuery(t));case 6:n=i.sent;case 7:n.length?(t.create_date=Date.now(),s=a.doc(n[0]._id).update(t)):s=a.add(t),s.then(function(){var i=(0,o.default)(r.default.mark((function i(n){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t.stable_publish||!e.lastVersionId){i.next=3;break}return i.next=3,a.doc(e.lastVersionId).update({stable_publish:!1});case 3:uni.showToast({title:"\u65b0\u589e\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500);case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}));case 9:case"end":return i.stop()}}),i)})))()},getDetail:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return uni.showLoading({mask:!0}),p.collection(m).where(Object.assign({appid:t,type:e,stable_publish:!0},i)).field(u.fields).get().then((function(t){return t.result.data})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},getStoreList:function(t){return p.collection("opendb-app-list").where({appid:t}).get().then((function(t){var e=t.result.data[0];return e.store_list||[]}))},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return"string"===typeof e?t.filter((function(t){return t.platform.includes(e)})):t.filter((function(t){return t.platform.toString()===e.toString()}))},back:function(){var t=this;uni.showModal({title:"\u53d6\u6d88\u53d1\u5e03",content:this.hasPackage?"\u5c06\u4f1a\u5220\u9664\u5df2\u4e0a\u4f20\u7684\u5305":void 0,success:function(e){e.confirm&&(t.hasPackage&&t.deleteFile([t.appFileList.url]),uni.navigateBack())}})}}};e.default=g}).call(this,i("a9ff")["default"])},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},ddcb:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r={name:"uniNavMenu",props:{data:{type:Array,default:function(){return[]}},mode:{type:String,default:"vertical"},collapse:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"},textColor:{type:String,default:"#303133"},activeTextColor:{type:String,default:"#42B983"},activeBackgroundColor:{type:String,default:"inherit"},activeKey:{type:String,default:"id"},active:{type:String,default:""},defaultOpeneds:{type:Array,default:function(){return[]}},uniqueOpened:{type:Boolean,default:!1},menuTrigger:{type:String,default:"hover"},router:{type:Boolean,default:!1},collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.active}},watch:{active:function(t){this.activeIndex=t},activeIndex:function(t,e){if(this.itemChildrens.length>0){for(var i=!1,a=0;a<this.itemChildrens.length;a++){var n=this.itemChildrens[a];if(i=this.isActive(n),i)break}i||this.closeAll()}}},created:function(){this.itemChildrens=[],this.subChildrens=[]},methods:{select:function(t,e){this.$emit("select",t,e)},open:function(t,e){this.$emit("open",t,e)},close:function(t,e){this.$emit("close",t,e)},isActive:function(t){var e="",i=!1;return e="object"===(0,n.default)(t.index)?t.index[this.activeKey]||"":t.index,t.index&&this.activeIndex===e&&(i=!0,t.$subMenu.forEach((function(e,i){e.disabled||t.disabled||(t.indexPath.push(e.index),e.isOpen=!0)})),t.active||t.onClickItem("init")),i},selectMenu:function(t){var e=this;this.subChildrens.forEach((function(i,a){i===t?(t.isOpen=!t.isOpen,t.indexPath.push(t.index)):i.isOpen&&e.uniqueOpened&&(i.isOpen=!1)})),t.$subMenu.forEach((function(e,i){e.isOpen=!0,t.indexPath.unshift(e.index)})),t.isOpen?this.open(t.indexPath[t.indexPath.length-1],t.indexPath):this.close(t.indexPath[t.indexPath.length-1],t.indexPath),t.indexPath=[]},closeOtherActive:function(t){t.indexPath=[],t.$subMenu.forEach((function(e){e.disabled||t.indexPath.push(e.index)})),this.itemChildrens.map((function(t){return t.active&&(t.active=!1),t}))},closeAll:function(){this.subChildrens.forEach((function(t){t.isOpen&&(t.isOpen=!1)}))}}};e.default=r},de08:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"\u4e0a\u62c9\u663e\u793a\u66f4\u591a","uni-load-more.contentrefresh":"\u6b63\u5728\u52a0\u8f7d...","uni-load-more.contentnomore":"\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86"}')},de3a:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var n=a(i("a34a")),r=a(i("c973")),s=a(i("9523"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t){this.mode=d.MODE_8BIT_BYTE,this.data=t}function l(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}c.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},l.prototype={addData:function(t){var e=new c(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=_.getRSBlocks(t,this.errorCorrectLevel),i=new v,a=0,n=0;n<e.length;n++)a+=e[n].dataCount;for(n=0;n<this.dataList.length;n++){var r=this.dataList[n];i.put(r.mode,4),i.put(r.getLength(),h.getLengthInBits(r.mode,t)),r.write(i)}if(i.getLengthInBits()<=8*a)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var a=-1;a<=7;a++)e+a<=-1||this.moduleCount<=e+a||(this.modules[t+i][e+a]=0<=i&&i<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=a&&a<=4)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var a=h.getLostPoint(this);(0==i||t>a)&&(t=a,e=i)}return e},createMovieClip:function(t,e,i){var a=t.createEmptyMovieClip(e,i);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,s=0;s<this.modules[n].length;s++){var o=1*s;this.modules[n][s]&&(a.beginFill(0,100),a.moveTo(o,r),a.lineTo(o+1,r),a.lineTo(o+1,r+1),a.lineTo(o,r+1),a.endFill())}return a},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=h.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var a=t[e],n=t[i];if(null==this.modules[a][n])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[a+r][n+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},setupTypeNumber:function(t){for(var e=h.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a}for(i=0;i<18;i++)a=!t&&1==(e>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,a=h.getBCHTypeInfo(i),n=0;n<15;n++){var r=!t&&1==(a>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++)r=!t&&1==(a>>n&1),n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,a=this.moduleCount-1,n=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var o=0;o<2;o++)if(null==this.modules[a][s-o]){var u=!1;r<t.length&&(u=1==(t[r]>>>n&1)),h.getMask(e,a,s-o)&&(u=!u),this.modules[a][s-o]=u,-1==--n&&(r++,n=7)}if((a+=i)<0||this.moduleCount<=a){a-=i,i=-i;break}}}},l.PAD0=236,l.PAD1=17,l.createData=function(t,e,i){for(var a=_.getRSBlocks(t,e),n=new v,r=0;r<i.length;r++){var s=i[r];n.put(s.mode,4),n.put(s.getLength(),h.getLengthInBits(s.mode,t)),s.write(n)}var o=0;for(r=0;r<a.length;r++)o+=a[r].dataCount;if(n.getLengthInBits()>8*o)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*o+")");for(n.getLengthInBits()+4<=8*o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*o||(n.put(l.PAD0,8),n.getLengthInBits()>=8*o));)n.put(l.PAD1,8);return l.createBytes(n,a)},l.createBytes=function(t,e){for(var i=0,a=0,n=0,r=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var u=e[o].dataCount,c=e[o].totalCount-u;a=Math.max(a,u),n=Math.max(n,c),r[o]=new Array(u);for(var l=0;l<r[o].length;l++)r[o][l]=255&t.buffer[l+i];i+=u;var d=h.getErrorCorrectPolynomial(c),f=new g(r[o],d.getLength()-1).mod(d);for(s[o]=new Array(d.getLength()-1),l=0;l<s[o].length;l++){var p=l+f.getLength()-s[o].length;s[o][l]=p>=0?f.get(p):0}}var m=0;for(l=0;l<e.length;l++)m+=e[l].totalCount;var _=new Array(m),v=0;for(l=0;l<a;l++)for(o=0;o<e.length;o++)l<r[o].length&&(_[v++]=r[o][l]);for(l=0;l<n;l++)for(o=0;o<e.length;o++)l<s[o].length&&(_[v++]=s[o][l]);return _};for(var d={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},f={L:1,M:0,Q:3,H:2},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;h.getBCHDigit(e)-h.getBCHDigit(h.G15)>=0;)e^=h.G15<<h.getBCHDigit(e)-h.getBCHDigit(h.G15);return(t<<10|e)^h.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;h.getBCHDigit(e)-h.getBCHDigit(h.G18)>=0;)e^=h.G18<<h.getBCHDigit(e)-h.getBCHDigit(h.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return h.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case 0:return(e+i)%2==0;case 1:return e%2==0;case 2:return i%3==0;case 3:return(e+i)%3==0;case 4:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case 5:return e*i%2+e*i%3==0;case 6:return(e*i%2+e*i%3)%2==0;case 7:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new g([1],0),i=0;i<t;i++)e=e.multiply(new g([1,p.gexp(i)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case d.MODE_NUMBER:return 10;case d.MODE_ALPHA_NUM:return 9;case d.MODE_8BIT_BYTE:case d.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case d.MODE_NUMBER:return 12;case d.MODE_ALPHA_NUM:return 11;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case d.MODE_NUMBER:return 14;case d.MODE_ALPHA_NUM:return 13;case d.MODE_8BIT_BYTE:return 16;case d.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,a=0;a<e;a++)for(var n=0;n<e;n++){for(var r=0,s=t.isDark(a,n),o=-1;o<=1;o++)if(!(a+o<0||e<=a+o))for(var u=-1;u<=1;u++)n+u<0||e<=n+u||0==o&&0==u||s==t.isDark(a+o,n+u)&&r++;r>5&&(i+=3+r-5)}for(a=0;a<e-1;a++)for(n=0;n<e-1;n++){var c=0;t.isDark(a,n)&&c++,t.isDark(a+1,n)&&c++,t.isDark(a,n+1)&&c++,t.isDark(a+1,n+1)&&c++,0!=c&&4!=c||(i+=3)}for(a=0;a<e;a++)for(n=0;n<e-6;n++)t.isDark(a,n)&&!t.isDark(a,n+1)&&t.isDark(a,n+2)&&t.isDark(a,n+3)&&t.isDark(a,n+4)&&!t.isDark(a,n+5)&&t.isDark(a,n+6)&&(i+=40);for(n=0;n<e;n++)for(a=0;a<e-6;a++)t.isDark(a,n)&&!t.isDark(a+1,n)&&t.isDark(a+2,n)&&t.isDark(a+3,n)&&t.isDark(a+4,n)&&!t.isDark(a+5,n)&&t.isDark(a+6,n)&&(i+=40);var l=0;for(n=0;n<e;n++)for(a=0;a<e;a++)t.isDark(a,n)&&l++;return i+Math.abs(100*l/e/e-50)/5*10}},p={glog:function(t){if(t<1)throw new Error("glog("+t+")");return p.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return p.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)p.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)p.EXP_TABLE[m]=p.EXP_TABLE[m-4]^p.EXP_TABLE[m-5]^p.EXP_TABLE[m-6]^p.EXP_TABLE[m-8];for(m=0;m<255;m++)p.LOG_TABLE[p.EXP_TABLE[m]]=m;function g(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}function _(t,e){this.totalCount=t,this.dataCount=e}function v(){this.buffer=new Array,this.length=0}function b(t){return t.setFillStyle=t.setFillStyle||function(e){t.fillStyle=e},t.setFontSize=t.setFontSize||function(e){t.font="".concat(e,"px")},t.setTextAlign=t.setTextAlign||function(e){t.textAlign=e},t.setTextBaseline=t.setTextBaseline||function(e){t.textBaseline=e},t.setGlobalAlpha=t.setGlobalAlpha||function(e){t.globalAlpha=e},t.setStrokeStyle=t.setStrokeStyle||function(e){t.strokeStyle=e},t.setShadow=t.setShadow||function(e,i,a,n){t.shadowOffsetX=e,t.shadowOffsetY=i,t.shadowBlur=a,t.shadowColor=n},t.draw=t.draw||function(t,e){e&&e()},t.clearRect=t.clearRect||function(e,i,a,n){t.draw(!1)},t}function y(t,e){var i=this,a=this.data="",n=this.size=200;this.useDynamicSize=!1,this.dynamicSize=n;var r=this.typeNumber=-1;this.errorCorrectLevel=y.errorCorrectLevel.H;var s=this.margin=0;this.areaColor="#FFFFFF",this.backgroundColor="rgba(255,255,255,0)",this.backgroundImageSrc=void 0;var o=this.backgroundImageWidth=void 0,u=this.backgroundImageHeight=void 0,c=this.backgroundImageX=void 0,l=this.backgroundImageY=void 0;this.backgroundImageAlpha=1,this.backgroundImageBorderRadius=0;var d=this.backgroundPadding=0;this.foregroundColor="#000000",this.foregroundImageSrc=void 0;var f=this.foregroundImageWidth=void 0,h=this.foregroundImageHeight=void 0,p=this.foregroundImageX=void 0,m=this.foregroundImageY=void 0,g=this.foregroundImagePadding=0;this.foregroundImageBackgroundColor="#FFFFFF";var _=this.foregroundImageBorderRadius=0,v=this.foregroundImageShadowOffsetX=0,x=this.foregroundImageShadowOffsetY=0,w=this.foregroundImageShadowBlur=0;this.foregroundImageShadowColor="#808080";var C=this.foregroundPadding=0,$=this.positionProbeBackgroundColor=void 0,k=this.positionProbeForegroundColor=void 0,D=this.separatorColor=void 0,S=this.positionAdjustBackgroundColor=void 0,T=this.positionAdjustForegroundColor=void 0,O=this.timingBackgroundColor=void 0,P=this.timingForegroundColor=void 0,M=this.typeNumberBackgroundColor=void 0,A=this.typeNumberForegroundColor=void 0,I=this.darkBlockColor=void 0;this.base=void 0,this.modules=[],this.moduleCount=0,this.drawModules=[];var j=this.canvasContext=void 0;this.loadImage,this.drawReserve=!1,this.isMaked=!1,Object.defineProperties(this,{data:{get:function(){if(""===a||void 0===a)throw new y.Error("data must be set!");return a},set:function(t){a=String(t)}},size:{get:function(){return n},set:function(t){n=Number(t)}},typeNumber:{get:function(){return r},set:function(t){r=Number(t)}},margin:{get:function(){return s},set:function(t){s=Number(t)}},backgroundImageWidth:{get:function(){return void 0===o?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*o:o},set:function(t){o=Number(t)}},backgroundImageHeight:{get:function(){return void 0===u?this.dynamicSize:this.useDynamicSize?this.dynamicSize/this.size*u:u},set:function(t){u=Number(t)}},backgroundImageX:{get:function(){return void 0===c?0:this.useDynamicSize?this.dynamicSize/this.size*c:c},set:function(t){c=Number(t)}},backgroundImageY:{get:function(){return void 0===l?0:this.useDynamicSize?this.dynamicSize/this.size*l:l},set:function(t){l=Number(t)}},backgroundPadding:{get:function(){return d},set:function(t){d=t>1?1:t<0?0:t}},foregroundImageWidth:{get:function(){return void 0===f?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*f:f},set:function(t){f=Number(t)}},foregroundImageHeight:{get:function(){return void 0===h?(this.dynamicSize-2*this.margin)/4:this.useDynamicSize?this.dynamicSize/this.size*h:h},set:function(t){h=Number(t)}},foregroundImageX:{get:function(){return void 0===p?this.dynamicSize/2-this.foregroundImageWidth/2:this.useDynamicSize?this.dynamicSize/this.size*p:p},set:function(t){p=Number(t)}},foregroundImageY:{get:function(){return void 0===m?this.dynamicSize/2-this.foregroundImageHeight/2:this.useDynamicSize?this.dynamicSize/this.size*m:m},set:function(t){m=Number(t)}},foregroundImagePadding:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*g:g},set:function(t){g=Number(t)}},foregroundImageBorderRadius:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*_:_},set:function(t){_=Number(t)}},foregroundImageShadowOffsetX:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*v:v},set:function(t){v=Number(t)}},foregroundImageShadowOffsetY:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*x:x},set:function(t){x=Number(t)}},foregroundImageShadowBlur:{get:function(){return this.useDynamicSize?this.dynamicSize/this.size*w:w},set:function(t){w=Number(t)}},foregroundPadding:{get:function(){return C},set:function(t){C=t>1?1:t<0?0:t}},positionProbeBackgroundColor:{get:function(){return $||this.backgroundColor},set:function(t){$=t}},positionProbeForegroundColor:{get:function(){return k||this.foregroundColor},set:function(t){k=t}},separatorColor:{get:function(){return D||this.backgroundColor},set:function(t){D=t}},positionAdjustBackgroundColor:{get:function(){return S||this.backgroundColor},set:function(t){S=t}},positionAdjustForegroundColor:{get:function(){return T||this.foregroundColor},set:function(t){T=t}},timingBackgroundColor:{get:function(){return O||this.backgroundColor},set:function(t){O=t}},timingForegroundColor:{get:function(){return P||this.foregroundColor},set:function(t){P=t}},typeNumberBackgroundColor:{get:function(){return M||this.backgroundColor},set:function(t){M=t}},typeNumberForegroundColor:{get:function(){return A||this.foregroundColor},set:function(t){A=t}},darkBlockColor:{get:function(){return I||this.foregroundColor},set:function(t){I=t}},canvasContext:{get:function(){if(void 0===j)throw new y.Error("use drawCanvas, you need to set the canvasContext!");return j},set:function(t){j=b(t)}}}),y.plugins.forEach((function(t){return t(y,i,!1)})),t&&this.setOptions(t),e&&(this.canvasContext=b(e))}g.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)e[i+a]^=p.gexp(p.glog(this.get(i))+p.glog(t.get(a)));return new g(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=p.glog(this.get(0))-p.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(a=0;a<t.getLength();a++)i[a]^=p.gexp(p.glog(t.get(a))+e);return new g(i,0).mod(t)}},_.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],_.getRSBlocks=function(t,e){var i=_.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=i.length/3,n=new Array,r=0;r<a;r++)for(var s=i[3*r+0],o=i[3*r+1],u=i[3*r+2],c=0;c<s;c++)n.push(new _(o,u));return n},_.getRsBlockTable=function(t,e){switch(e){case f.L:return _.RS_BLOCK_TABLE[4*(t-1)+0];case f.M:return _.RS_BLOCK_TABLE[4*(t-1)+1];case f.Q:return _.RS_BLOCK_TABLE[4*(t-1)+2];case f.H:return _.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},v.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},l.errorCorrectLevel=f,y.errorCorrectLevel=l.errorCorrectLevel,y.Error=function(t){this.errMsg="[uQRCode]: "+t},y.plugins=[],y.use=function(t){"function"==typeof t&&y.plugins.push(t)},y.prototype.loadImage=function(t){return Promise.resolve(t)},y.prototype.setOptions=function(t){var e,i,a,n,r,s,o,c,l,d,f,h,p,m,g,_,v,b,y,x,w,C,$,k,D,S,T,O,P,M,A,I,j,F,L,E,q,R,B,N,z,W,U,V,H,G,Q,J,Y,X,K,Z,tt,et,it,at,nt=this;t&&(Object.keys(t).forEach((function(e){nt[e]=t[e]})),function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t=a?e:u({},e),i){var r=i[n];null!=r&&(r.constructor==Object?t[n]=this.deepReplace(t[n],r):r.constructor!=String||r?t[n]=r:t[n]=t[n])}}(this,{data:t.data||t.text,size:t.size,useDynamicSize:t.useDynamicSize,typeNumber:t.typeNumber,errorCorrectLevel:t.errorCorrectLevel,margin:t.margin,areaColor:t.areaColor,backgroundColor:t.backgroundColor||(null===(e=t.background)||void 0===e?void 0:e.color),backgroundImageSrc:t.backgroundImageSrc||(null===(i=t.background)||void 0===i||null===(a=i.image)||void 0===a?void 0:a.src),backgroundImageWidth:t.backgroundImageWidth||(null===(n=t.background)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.width),backgroundImageHeight:t.backgroundImageHeight||(null===(s=t.background)||void 0===s||null===(o=s.image)||void 0===o?void 0:o.height),backgroundImageX:t.backgroundImageX||(null===(c=t.background)||void 0===c||null===(l=c.image)||void 0===l?void 0:l.x),backgroundImageY:t.backgroundImageY||(null===(d=t.background)||void 0===d||null===(f=d.image)||void 0===f?void 0:f.y),backgroundImageAlpha:t.backgroundImageAlpha||(null===(h=t.background)||void 0===h||null===(p=h.image)||void 0===p?void 0:p.alpha),backgroundImageBorderRadius:t.backgroundImageBorderRadius||(null===(m=t.background)||void 0===m||null===(g=m.image)||void 0===g?void 0:g.borderRadius),backgroundPadding:t.backgroundPadding,foregroundColor:t.foregroundColor||(null===(_=t.foreground)||void 0===_?void 0:_.color),foregroundImageSrc:t.foregroundImageSrc||(null===(v=t.foreground)||void 0===v||null===(b=v.image)||void 0===b?void 0:b.src),foregroundImageWidth:t.foregroundImageWidth||(null===(y=t.foreground)||void 0===y||null===(x=y.image)||void 0===x?void 0:x.width),foregroundImageHeight:t.foregroundImageHeight||(null===(w=t.foreground)||void 0===w||null===(C=w.image)||void 0===C?void 0:C.height),foregroundImageX:t.foregroundImageX||(null===($=t.foreground)||void 0===$||null===(k=$.image)||void 0===k?void 0:k.x),foregroundImageY:t.foregroundImageY||(null===(D=t.foreground)||void 0===D||null===(S=D.image)||void 0===S?void 0:S.y),foregroundImagePadding:t.foregroundImagePadding||(null===(T=t.foreground)||void 0===T||null===(O=T.image)||void 0===O?void 0:O.padding),foregroundImageBackgroundColor:t.foregroundImageBackgroundColor||(null===(P=t.foreground)||void 0===P||null===(M=P.image)||void 0===M?void 0:M.backgroundColor),foregroundImageBorderRadius:t.foregroundImageBorderRadius||(null===(A=t.foreground)||void 0===A||null===(I=A.image)||void 0===I?void 0:I.borderRadius),foregroundImageShadowOffsetX:t.foregroundImageShadowOffsetX||(null===(j=t.foreground)||void 0===j||null===(F=j.image)||void 0===F?void 0:F.shadowOffsetX),foregroundImageShadowOffsetY:t.foregroundImageShadowOffsetY||(null===(L=t.foreground)||void 0===L||null===(E=L.image)||void 0===E?void 0:E.shadowOffsetY),foregroundImageShadowBlur:t.foregroundImageShadowBlur||(null===(q=t.foreground)||void 0===q||null===(R=q.image)||void 0===R?void 0:R.shadowBlur),foregroundImageShadowColor:t.foregroundImageShadowColor||(null===(B=t.foreground)||void 0===B||null===(N=B.image)||void 0===N?void 0:N.shadowColor),foregroundPadding:t.foregroundPadding,positionProbeBackgroundColor:t.positionProbeBackgroundColor||(null===(z=t.positionProbe)||void 0===z?void 0:z.backgroundColor)||(null===(W=t.positionDetection)||void 0===W?void 0:W.backgroundColor),positionProbeForegroundColor:t.positionProbeForegroundColor||(null===(U=t.positionProbe)||void 0===U?void 0:U.foregroundColor)||(null===(V=t.positionDetection)||void 0===V?void 0:V.foregroundColor),separatorColor:t.separatorColor||(null===(H=t.separator)||void 0===H?void 0:H.color),positionAdjustBackgroundColor:t.positionAdjustBackgroundColor||(null===(G=t.positionAdjust)||void 0===G?void 0:G.backgroundColor)||(null===(Q=t.alignment)||void 0===Q?void 0:Q.backgroundColor),positionAdjustForegroundColor:t.positionAdjustForegroundColor||(null===(J=t.positionAdjust)||void 0===J?void 0:J.foregroundColor)||(null===(Y=t.alignment)||void 0===Y?void 0:Y.foregroundColor),timingBackgroundColor:t.timingBackgroundColor||(null===(X=t.timing)||void 0===X?void 0:X.backgroundColor),timingForegroundColor:t.timingForegroundColor||(null===(K=t.timing)||void 0===K?void 0:K.foregroundColor),typeNumberBackgroundColor:t.typeNumberBackgroundColor||(null===(Z=t.typeNumber)||void 0===Z?void 0:Z.backgroundColor)||(null===(tt=t.versionInformation)||void 0===tt?void 0:tt.backgroundColor),typeNumberForegroundColor:t.typeNumberForegroundColor||(null===(et=t.typeNumber)||void 0===et?void 0:et.foregroundColor)||(null===(it=t.versionInformation)||void 0===it?void 0:it.foregroundColor),darkBlockColor:t.darkBlockColor||(null===(at=t.darkBlock)||void 0===at?void 0:at.color)},!0))},y.prototype.make=function(){var t=this.foregroundColor,e=this.backgroundColor,i=this.typeNumber,a=this.errorCorrectLevel,n=this.data,r=this.size,s=this.margin,o=this.useDynamicSize;if(t===e)throw new y.Error("foregroundColor and backgroundColor cannot be the same!");var u=new l(i,a);u.addData(function(t){t=t.toString();for(var e,i="",a=0;a<t.length;a++)(e=t.charCodeAt(a))>=1&&e<=127?i+=t.charAt(a):e>2047?(i+=String.fromCharCode(224|e>>12&15),i+=String.fromCharCode(128|e>>6&63),i+=String.fromCharCode(128|e>>0&63)):(i+=String.fromCharCode(192|e>>6&31),i+=String.fromCharCode(128|e>>0&63));return i}(n)),u.make(),this.base=u,this.typeNumber=u.typeNumber,this.modules=u.modules,this.moduleCount=u.moduleCount,this.dynamicSize=o?Math.ceil((r-2*s)/u.moduleCount)*u.moduleCount+2*s:r,function(t){var e=t.dynamicSize,i=t.margin,a=t.backgroundColor,n=t.backgroundPadding,r=t.foregroundColor,s=t.foregroundPadding,o=t.modules,u=t.moduleCount,c=(e-2*i)/u,l=c,d=0;n>0&&(d=l*n/2,l-=2*d);var f=c,h=0;s>0&&(h=f*s/2,f-=2*h);for(var p=0;p<u;p++)for(var m=0;m<u;m++){var g=m*c+i,_=p*c+i;if(o[p][m]){var v=h,b=g+h,y=_+h,x=f,w=f;o[p][m]={type:["foreground"],color:r,isBlack:!0,isDrawn:!1,destX:g,destY:_,destWidth:c,destHeight:c,x:b,y:y,width:x,height:w,paddingTop:v,paddingRight:v,paddingBottom:v,paddingLeft:v}}else v=d,b=g+d,y=_+d,x=l,w=l,o[p][m]={type:["background"],color:a,isBlack:!1,isDrawn:!1,destX:g,destY:_,destWidth:c,destHeight:c,x:b,y:y,width:x,height:w,paddingTop:v,paddingRight:v,paddingBottom:v,paddingLeft:v}}}(this),function(t){var e=t.modules,i=t.moduleCount,a=t.positionProbeBackgroundColor,n=t.positionProbeForegroundColor,r=i-7;[[0,0,1],[1,0,1],[2,0,1],[3,0,1],[4,0,1],[5,0,1],[6,0,1],[0,1,1],[1,1,0],[2,1,0],[3,1,0],[4,1,0],[5,1,0],[6,1,1],[0,2,1],[1,2,0],[2,2,1],[3,2,1],[4,2,1],[5,2,0],[6,2,1],[0,3,1],[1,3,0],[2,3,1],[3,3,1],[4,3,1],[5,3,0],[6,3,1],[0,4,1],[1,4,0],[2,4,1],[3,4,1],[4,4,1],[5,4,0],[6,4,1],[0,5,1],[1,5,0],[2,5,0],[3,5,0],[4,5,0],[5,5,0],[6,5,1],[0,6,1],[1,6,1],[2,6,1],[3,6,1],[4,6,1],[5,6,1],[6,6,1]].forEach((function(t){var i=e[t[0]][t[1]],s=e[t[0]+r][t[1]],o=e[t[0]][t[1]+r];o.type.push("positionProbe"),s.type.push("positionProbe"),i.type.push("positionProbe"),i.color=1==t[2]?n:a,s.color=1==t[2]?n:a,o.color=1==t[2]?n:a}))}(this),function(t){var e=t.modules,i=t.moduleCount,a=t.separatorColor;[[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[0,7],[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]].forEach((function(t){var n=e[t[0]][t[1]],r=e[i-t[0]-1][t[1]],s=e[t[0]][i-t[1]-1];s.type.push("separator"),r.type.push("separator"),n.type.push("separator"),n.color=a,r.color=a,s.color=a}))}(this),function(t){var e=t.typeNumber,i=t.modules,a=t.moduleCount,n=t.foregroundColor,r=t.backgroundColor,s=t.positionAdjustForegroundColor,o=t.positionAdjustBackgroundColor,u=t.timingForegroundColor,c=t.timingBackgroundColor,l=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]][e-1];if(l)for(var d=[[-2,-2,1],[-1,-2,1],[0,-2,1],[1,-2,1],[2,-2,1],[-2,-1,1],[-1,-1,0],[0,-1,0],[1,-1,0],[2,-1,1],[-2,0,1],[-1,0,0],[0,0,1],[1,0,0],[2,0,1],[-2,1,1],[-1,1,0],[0,1,0],[1,1,0],[2,1,1],[-2,2,1],[-1,2,1],[0,2,1],[1,2,1],[2,2,1]],f=l.length,h=0;h<f;h++)for(var p=function(t){var e={x:l[h],y:l[t]},f=e.x,p=e.y;f<9&&p<9||f>a-9-1&&p<9||p>a-9-1&&f<9||d.forEach((function(t){var e=i[f+t[0]][p+t[1]];e.type.push("positionAdjust"),e.type.includes("timing")?1==t[2]?e.color=s==n?u:s:e.color=s==n&&o==r?c:o:e.color=1==t[2]?s:o}))},m=0;m<f;m++)p(m)}(this),function(t){for(var e=t.modules,i=t.moduleCount,a=t.timingForegroundColor,n=t.timingBackgroundColor,r=i-16,s=0;s<r;s++){var o=e[6][8+s],u=e[8+s][6];o.type.push("timing"),u.type.push("timing"),o.color=1&s^1?a:n,u.color=1&s^1?a:n}}(this),function(t){var e=t.modules,i=t.moduleCount,a=t.darkBlockColor,n=e[i-7-1][8];n.type.push("darkBlock"),n.color=a}(this),function(t){var e=t.typeNumber,i=t.modules,a=t.moduleCount,n=t.typeNumberBackgroundColor,r=t.typeNumberForegroundColor;if(e<7)return i;var s=[0,0,0,0,0,0,0,"000111110010010100","001000010110111100","001001101010011001","001010010011010011","001011101111110110","001100011101100010","001101100001000111","001110011000001101","001111100100101000","010000101101111000","010001010001011101","010010101000010111","010011010100110010","010100100110100110","010101011010000011","010110100011001001","010111011111101100","011000111011000100","011001000111100001","011010111110101011","011011000010001110","011100110000011010","011101001100111111","011110110101110101","011111001001010000","100000100111010101","100001011011110000","100010100010111010","100011011110011111","100100101100001011","100101010000101110","100110101001100100","100111010101000001","101000110001101001"],o=s[e]+s[e],u=[a-11,a-10,a-9];[[5,u[2]],[5,u[1]],[5,u[0]],[4,u[2]],[4,u[1]],[4,u[0]],[3,u[2]],[3,u[1]],[3,u[0]],[2,u[2]],[2,u[1]],[2,u[0]],[1,u[2]],[1,u[1]],[1,u[0]],[0,u[2]],[0,u[1]],[0,u[0]],[u[2],5],[u[1],5],[u[0],5],[u[2],4],[u[1],4],[u[0],4],[u[2],3],[u[1],3],[u[0],3],[u[2],2],[u[1],2],[u[0],2],[u[2],1],[u[1],1],[u[0],1],[u[2],0],[u[1],0],[u[0],0]].forEach((function(t,e){var a=i[t[0]][t[1]];a.type.push("typeNumber"),a.color="1"==o[e]?r:n}))}(this),this.isMaked=!0,this.drawModules=[]},y.prototype.getDrawModules=function(){if(this.drawModules&&this.drawModules.length>0)return this.drawModules;var t=this.drawModules=[],e=this.modules,i=this.moduleCount,a=this.dynamicSize,n=this.areaColor,r=this.backgroundImageSrc,s=this.backgroundImageX,o=this.backgroundImageY,u=this.backgroundImageWidth,c=this.backgroundImageHeight,l=this.backgroundImageAlpha,d=this.backgroundImageBorderRadius,f=this.foregroundImageSrc,h=this.foregroundImageX,p=this.foregroundImageY,m=this.foregroundImageWidth,g=this.foregroundImageHeight,_=this.foregroundImagePadding,v=this.foregroundImageBackgroundColor,b=this.foregroundImageBorderRadius,y=this.foregroundImageShadowOffsetX,x=this.foregroundImageShadowOffsetY,w=this.foregroundImageShadowBlur,C=this.foregroundImageShadowColor;n&&t.push({name:"area",type:"area",color:n,x:0,y:0,width:a,height:a}),r&&t.push({name:"backgroundImage",type:"image",imageSrc:r,mappingName:"backgroundImageSrc",x:s,y:o,width:u,height:c,alpha:l,borderRadius:d});for(var $=0;$<i;$++)for(var k=0;k<i;k++){var D=e[$][k];D.isDrawn||(D.type.includes("foreground")?t.push({name:"foreground",type:"tile",color:D.color,destX:D.destX,destY:D.destY,destWidth:D.destWidth,destHeight:D.destHeight,x:D.x,y:D.y,width:D.width,height:D.height,paddingTop:D.paddingTop,paddingRight:D.paddingRight,paddingBottom:D.paddingBottom,paddingLeft:D.paddingLeft,rowIndex:$,colIndex:k}):t.push({name:"background",type:"tile",color:D.color,destX:D.destX,destY:D.destY,destWidth:D.destWidth,destHeight:D.destHeight,x:D.x,y:D.y,width:D.width,height:D.height,paddingTop:D.paddingTop,paddingRight:D.paddingRight,paddingBottom:D.paddingBottom,paddingLeft:D.paddingLeft,rowIndex:$,colIndex:k}),D.isDrawn=!0)}return f&&t.push({name:"foregroundImage",type:"image",imageSrc:f,mappingName:"foregroundImageSrc",x:h,y:p,width:m,height:g,padding:_,backgroundColor:v,borderRadius:b,shadowOffsetX:y,shadowOffsetY:x,shadowBlur:w,shadowColor:C}),t},y.prototype.isBlack=function(t,e){var i=this.moduleCount;return!(0>t||0>e||t>=i||e>=i)&&this.modules[t][e].isBlack},y.prototype.drawCanvas=function(){var t=this,e=this.isMaked,i=this.canvasContext,a=(this.useDynamicSize,this.dynamicSize),s=(this.foregroundColor,this.foregroundPadding,this.backgroundColor,this.backgroundPadding,this.drawReserve);this.margin;if(!e)return Promise.reject(new y.Error("please execute the make method first!"));var o=this.getDrawModules(),u=function(){var e=(0,r.default)(n.default.mark((function e(r,u){var c,l,d,f,h,p,m,g,_,v,b,x,w,C;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,i.clearRect(0,0,a,a),i.draw(!1),c=0;case 3:if(!(c<o.length)){e.next=48;break}l=o[c],e.t0=(i.save(),l.type),e.next="area"===e.t0?8:"tile"===e.t0?10:"image"===e.t0?13:44;break;case 8:return i.setFillStyle(l.color),i.fillRect(l.x,l.y,l.width,l.height),e.abrupt("break",44);case 10:return d=l.x,f=l.y,h=l.width,p=l.height,i.setFillStyle(l.color),i.fillRect(d,f,h,p),e.abrupt("break",44);case 13:if("backgroundImage"!==l.name){e.next=28;break}return d=Math.round(l.x),f=Math.round(l.y),h=Math.round(l.width),p=Math.round(l.height),h<2*(g=Math.round(l.borderRadius))&&(g=h/2),p<2*g&&(g=p/2),i.setGlobalAlpha(l.alpha),g>0&&(i.beginPath(),i.moveTo(d+g,f),i.arcTo(d+h,f,d+h,f+p,g),i.arcTo(d+h,f+p,d,f+p,g),i.arcTo(d,f+p,d,f,g),i.arcTo(d,f,d+h,f,g),i.closePath(),i.setStrokeStyle("rgba(0,0,0,0)"),i.stroke(),i.clip()),e.prev=16,e.next=19,t.loadImage(l.imageSrc);case 19:m=e.sent,i.drawImage(m,d,f,h,p),e.next=26;break;case 23:throw e.prev=23,e.t1=e["catch"](16),"[uQRCode]: ".concat(l.mappingName," invalid!"),new y.Error("".concat(l.mappingName," invalid!"));case 26:e.next=44;break;case 28:if("foregroundImage"!==l.name){e.next=44;break}return d=Math.round(l.x),f=Math.round(l.y),h=Math.round(l.width),p=Math.round(l.height),_=Math.round(l.padding),h<2*(g=Math.round(l.borderRadius))&&(g=h/2),p<2*g&&(g=p/2),v=d-_,b=f-_,x=h+2*_,w=p+2*_,C=Math.round(x/h*g),x<2*C&&(C=x/2),w<2*C&&(C=w/2),i.save(),i.setShadow(l.shadowOffsetX,l.shadowOffsetY,l.shadowBlur,l.shadowColor),C>0?(i.beginPath(),i.moveTo(v+C,b),i.arcTo(v+x,b,v+x,b+w,C),i.arcTo(v+x,b+w,v,b+w,C),i.arcTo(v,b+w,v,b,C),i.arcTo(v,b,v+x,b,C),i.closePath(),i.setFillStyle(l.backgroundColor),i.fill()):(i.setFillStyle(l.backgroundColor),i.fillRect(v,b,x,w)),i.restore(),i.save(),C>0?(i.beginPath(),i.moveTo(v+C,b),i.arcTo(v+x,b,v+x,b+w,C),i.arcTo(v+x,b+w,v,b+w,C),i.arcTo(v,b+w,v,b,C),i.arcTo(v,b,v+x,b,C),i.closePath(),i.setFillStyle(_>0?l.backgroundColor:"rgba(0,0,0,0)"),i.fill()):(i.setFillStyle(_>0?l.backgroundColor:"rgba(0,0,0,0)"),i.fillRect(v,b,x,w)),i.restore(),g>0&&(i.beginPath(),i.moveTo(d+g,f),i.arcTo(d+h,f,d+h,f+p,g),i.arcTo(d+h,f+p,d,f+p,g),i.arcTo(d,f+p,d,f,g),i.arcTo(d,f,d+h,f,g),i.closePath(),i.setStrokeStyle("rgba(0,0,0,0)"),i.stroke(),i.clip()),e.prev=34,e.next=37,t.loadImage(l.imageSrc);case 37:m=e.sent,i.drawImage(m,d,f,h,p),e.next=44;break;case 41:throw e.prev=41,e.t2=e["catch"](34),"[uQRCode]: ".concat(l.mappingName," invalid!"),new y.Error("".concat(l.mappingName," invalid!"));case 44:s&&i.draw(!0),i.restore();case 45:c++,e.next=3;break;case 48:i.draw(!0),setTimeout(r,150),e.next=56;break;case 51:if(e.prev=51,e.t3=e["catch"](0),e.t3 instanceof y.Error){e.next=55;break}throw e.t3;case 55:u(e.t3);case 56:case"end":return e.stop()}}),e,null,[[0,51],[16,23],[34,41]])})));return function(t,i){return e.apply(this,arguments)}}();return new Promise((function(t,e){u(t,e)}))},y.prototype.draw=function(){return this.drawCanvas()},y.prototype.register=function(t){t&&t(y,this,!0)}}).call(this,i("0de9")["default"])},decb:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=a(i("29cf")),s=a(i("ad5e"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=t.database();c.command;function l(t){var e={};for(var i in r.default)t.includes(i)&&(e[i]=r.default[i]);return e}var d={components:{Icons:s.default},data:function(){return{formData:{menu_id:"",name:"",icon:"",url:"",sort:"",parent_id:"",permission:[],enable:null},rules:u({},l(["menu_id","name","icon","url","sort","parent_id","permission","enable"]))}},onLoad:function(t){var e=t.id;this.formDataId=e,this.getDetail(e)},methods:{submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,i=t.detail,a=i.value,n=i.errors;n||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),c.collection("opendb-admin-menus").doc(this.formDataId).update(a).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()})))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),c.collection("opendb-admin-menus").where({_id:t}).get().then((function(t){var i=t.result.data[0];i&&(e.formData=i)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},showIconPopup:function(){this.$refs.iconPopup.open()}}};e.default=d}).call(this,i("a9ff")["default"])},ded2:function(t,e,i){"use strict";i.r(e);var a=i("6cb3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},dedc:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r=i("37dc"),s=a(i("017d")),o=(0,r.initVueI18n)(s.default),u=o.t,c={name:"UniDatetimePicker",components:{},data:function(){return{indicatorStyle:"height: 50px;",visible:!1,fixNvueBug:{},dateShow:!0,timeShow:!0,title:"\u65e5\u671f\u548c\u65f6\u95f4",time:"",year:1920,month:0,day:0,hour:0,minute:0,second:0,startYear:1920,startMonth:1,startDay:1,startHour:0,startMinute:0,startSecond:0,endYear:2120,endMonth:12,endDay:31,endHour:23,endMinute:59,endSecond:59}},props:{type:{type:String,default:"datetime"},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},start:{type:[Number,String],default:""},end:{type:[Number,String],default:""},returnType:{type:String,default:"string"},disabled:{type:[Boolean,String],default:!1},border:{type:[Boolean,String],default:!0},hideSecond:{type:[Boolean,String],default:!1}},watch:{value:{handler:function(t,e){t?(this.parseValue(this.fixIosDateFormat(t)),this.initTime(!1)):(this.time="",this.parseValue(Date.now()))},immediate:!0},type:{handler:function(t){"date"===t?(this.dateShow=!0,this.timeShow=!1,this.title="\u65e5\u671f"):"time"===t?(this.dateShow=!1,this.timeShow=!0,this.title="\u65f6\u95f4"):(this.dateShow=!0,this.timeShow=!0,this.title="\u65e5\u671f\u548c\u65f6\u95f4")},immediate:!0},start:{handler:function(t){this.parseDatetimeRange(this.fixIosDateFormat(t),"start")},immediate:!0},end:{handler:function(t){this.parseDatetimeRange(this.fixIosDateFormat(t),"end")},immediate:!0},months:function(t){this.checkValue("month",this.month,t)},days:function(t){this.checkValue("day",this.day,t)},hours:function(t){this.checkValue("hour",this.hour,t)},minutes:function(t){this.checkValue("minute",this.minute,t)},seconds:function(t){this.checkValue("second",this.second,t)}},computed:{years:function(){return this.getCurrentRange("year")},months:function(){return this.getCurrentRange("month")},days:function(){return this.getCurrentRange("day")},hours:function(){return this.getCurrentRange("hour")},minutes:function(){return this.getCurrentRange("minute")},seconds:function(){return this.getCurrentRange("second")},ymd:function(){return[this.year-this.minYear,this.month-this.minMonth,this.day-this.minDay]},hms:function(){return[this.hour-this.minHour,this.minute-this.minMinute,this.second-this.minSecond]},currentDateIsStart:function(){return this.year===this.startYear&&this.month===this.startMonth&&this.day===this.startDay},currentDateIsEnd:function(){return this.year===this.endYear&&this.month===this.endMonth&&this.day===this.endDay},minYear:function(){return this.startYear},maxYear:function(){return this.endYear},minMonth:function(){return this.year===this.startYear?this.startMonth:1},maxMonth:function(){return this.year===this.endYear?this.endMonth:12},minDay:function(){return this.year===this.startYear&&this.month===this.startMonth?this.startDay:1},maxDay:function(){return this.year===this.endYear&&this.month===this.endMonth?this.endDay:this.daysInMonth(this.year,this.month)},minHour:function(){return"datetime"===this.type?this.currentDateIsStart?this.startHour:0:"time"===this.type?this.startHour:void 0},maxHour:function(){return"datetime"===this.type?this.currentDateIsEnd?this.endHour:23:"time"===this.type?this.endHour:void 0},minMinute:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour?this.startMinute:0:"time"===this.type?this.hour===this.startHour?this.startMinute:0:void 0},maxMinute:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour?this.endMinute:59:"time"===this.type?this.hour===this.endHour?this.endMinute:59:void 0},minSecond:function(){return"datetime"===this.type?this.currentDateIsStart&&this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:"time"===this.type?this.hour===this.startHour&&this.minute===this.startMinute?this.startSecond:0:void 0},maxSecond:function(){return"datetime"===this.type?this.currentDateIsEnd&&this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:"time"===this.type?this.hour===this.endHour&&this.minute===this.endMinute?this.endSecond:59:void 0},selectTimeText:function(){return u("uni-datetime-picker.selectTime")},okText:function(){return u("uni-datetime-picker.ok")},clearText:function(){return u("uni-datetime-picker.clear")},cancelText:function(){return u("uni-datetime-picker.cancel")}},mounted:function(){},methods:{lessThanTen:function(t){return t<10?"0"+t:t},parseTimeType:function(t){if(t){var e=t.split(":");this.hour=Number(e[0]),this.minute=Number(e[1]),this.second=Number(e[2])}},initPickerValue:function(t){var e=null;t?e=this.compareValueWithStartAndEnd(t,this.start,this.end):(e=Date.now(),e=this.compareValueWithStartAndEnd(e,this.start,this.end)),this.parseValue(e)},compareValueWithStartAndEnd:function(t,e,i){var a=null;return t=this.superTimeStamp(t),e=this.superTimeStamp(e),i=this.superTimeStamp(i),a=e&&i?t<e?new Date(e):t>i?new Date(i):new Date(t):e&&!i?e<=t?new Date(t):new Date(e):!e&&i?t<=i?new Date(t):new Date(i):new Date(t),a},superTimeStamp:function(t){var e="";if("time"===this.type&&t&&"string"===typeof t){var i=new Date,a=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();e=a+"/"+r+"/"+s+" "}return Number(t)&&NaN!==(0,n.default)(t)&&(t=parseInt(t),e=0),this.createTimeStamp(e+t)},parseValue:function(t){if(t){if("time"===this.type&&"string"===typeof t)this.parseTimeType(t);else{var e=null;e=new Date(t),"time"!==this.type&&(this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate()),"date"!==this.type&&(this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds())}this.hideSecond&&(this.second=0)}},parseDatetimeRange:function(t,e){if(!t)return"start"===e&&(this.startYear=1920,this.startMonth=1,this.startDay=1,this.startHour=0,this.startMinute=0,this.startSecond=0),void("end"===e&&(this.endYear=2120,this.endMonth=12,this.endDay=31,this.endHour=23,this.endMinute=59,this.endSecond=59));if("time"===this.type){var i=t.split(":");this[e+"Hour"]=Number(i[0]),this[e+"Minute"]=Number(i[1]),this[e+"Second"]=Number(i[2])}else{if(!t)return void("start"===e?this.startYear=this.year-60:this.endYear=this.year+60);Number(t)&&NaN!==Number(t)&&(t=parseInt(t));"datetime"!==this.type||"end"!==e||"string"!==typeof t||/[0-9]:[0-9]/.test(t)||(t+=" 23:59:59");var a=new Date(t);this[e+"Year"]=a.getFullYear(),this[e+"Month"]=a.getMonth()+1,this[e+"Day"]=a.getDate(),"datetime"===this.type&&(this[e+"Hour"]=a.getHours(),this[e+"Minute"]=a.getMinutes(),this[e+"Second"]=a.getSeconds())}},getCurrentRange:function(t){for(var e=[],i=this["min"+this.capitalize(t)];i<=this["max"+this.capitalize(t)];i++)e.push(i);return e},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},checkValue:function(t,e,i){-1===i.indexOf(e)&&(this[t]=i[0])},daysInMonth:function(t,e){return new Date(t,e,0).getDate()},fixIosDateFormat:function(t){return"string"===typeof t&&(t=t.replace(/-/g,"/")),t},createTimeStamp:function(t){if(t)return"number"===typeof t?t:(t=t.replace(/-/g,"/"),"date"===this.type&&(t+=" 00:00:00"),Date.parse(t))},createDomSting:function(){var t=this.year+"-"+this.lessThanTen(this.month)+"-"+this.lessThanTen(this.day),e=this.lessThanTen(this.hour)+":"+this.lessThanTen(this.minute);return this.hideSecond||(e=e+":"+this.lessThanTen(this.second)),"date"===this.type?t:"time"===this.type?e:t+" "+e},initTime:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.time=this.createDomSting(),t&&("timestamp"===this.returnType&&"time"!==this.type?(this.$emit("change",this.createTimeStamp(this.time)),this.$emit("input",this.createTimeStamp(this.time)),this.$emit("update:modelValue",this.createTimeStamp(this.time))):(this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time)))},bindDateChange:function(t){var e=t.detail.value;this.year=this.years[e[0]],this.month=this.months[e[1]],this.day=this.days[e[2]]},bindTimeChange:function(t){var e=t.detail.value;this.hour=this.hours[e[0]],this.minute=this.minutes[e[1]],this.second=this.seconds[e[2]]},initTimePicker:function(){if(!this.disabled){var t=this.fixIosDateFormat(this.value);this.initPickerValue(t),this.visible=!this.visible}},tiggerTimePicker:function(t){this.visible=!this.visible},clearTime:function(){this.time="",this.$emit("change",this.time),this.$emit("input",this.time),this.$emit("update:modelValue",this.time),this.tiggerTimePicker()},setTime:function(){this.initTime(),this.tiggerTimePicker()}}};e.default=c},df25:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("26cb"),s=a(i("097a"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}var u=s.default.navBar.debug||{},c={data:function(){return{engines:u.engine||[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},(0,r.mapState)("error",["logs"])),methods:{search:function(t,e){}}};e.default=c},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,a=t.length-1;a>=0;a--){var n=t[a];"."===n?t.splice(a,1):".."===n?(t.splice(a,1),i++):i&&(t.splice(a,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function a(t,e){if(t.filter)return t.filter(e);for(var i=[],a=0;a<t.length;a++)e(t[a],a,t)&&i.push(t[a]);return i}e.resolve=function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var s=r>=0?arguments[r]:t.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=i(a(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===n(t,-1);return t=i(a(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(a(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function a(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var n=a(t.split("/")),r=a(i.split("/")),s=Math.min(n.length,r.length),o=s,u=0;u<s;u++)if(n[u]!==r[u]){o=u;break}var c=[];for(u=o;u<n.length;u++)c.push("..");return c=c.concat(r.slice(o)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,a=-1,n=!0,r=t.length-1;r>=1;--r)if(e=t.charCodeAt(r),47===e){if(!n){a=r;break}}else n=!1;return-1===a?i?"/":".":i&&1===a?"/":t.slice(0,a)},e.basename=function(t,e){var i=function(t){"string"!==typeof t&&(t+="");var e,i=0,a=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){i=e+1;break}}else-1===a&&(n=!1,a=e+1);return-1===a?"":t.slice(i,a)}(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,a=-1,n=!0,r=0,s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(47!==o)-1===a&&(n=!1,a=s+1),46===o?-1===e?e=s:1!==r&&(r=1):-1!==e&&(r=-1);else if(!n){i=s+1;break}}return-1===e||-1===a||0===r||1===r&&e===a-1&&e===i+1?"":t.slice(e,a)};var n="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},dfbb:function(t,e,i){"use strict";i.r(e);var a=i("60ff"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},dff7:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("c973")),s=a(i("2543")),o=a(i("d2f6")),u={mixins:[o.default],data:function(){return{type:"",phone:"",focusPhone:!1,logo:"/static/logo.png"}},computed:{loginTypes:function(){return(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.default.loginTypes);case 1:case"end":return t.stop()}}),t)})))()},isPhone:function(){return/^1\d{10}$/.test(this.phone)},imgSrc:function(){return"/uni_modules/uni-id-pages/static/login/"+this.type+".png"}},onLoad:function(t){var e=this;return(0,r.default)(n.default.mark((function i(){var a;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t.type||s.default.loginTypes[0],e.type=a,"univerify"!=a&&(e.focusPhone=!0),e.$nextTick((function(){["weixin","apple"].includes(a)&&(e.$refs.uniFabLogin.servicesList=e.$refs.uniFabLogin.servicesList.filter((function(t){return t.id!=a})))})),uni.$on("uni-id-pages-set-login-type",(function(t){e.type=t}));case 5:case"end":return i.stop()}}),i)})))()},onShow:function(){},onUnload:function(){uni.$off("uni-id-pages-set-login-type")},onReady:function(){var t=this;"univerify"==this.type&&(this.type,this.loginTypes[1],setTimeout((function(){t.$refs.uniFabLogin.login_before("univerify")}),100))},methods:{quickLogin:function(t){var e,i,a={};null!==(e=t.detail)&&void 0!==e&&e.code&&(a.phoneNumberCode=t.detail.code),("weixinMobile"!==this.type||null!==(i=t.detail)&&void 0!==i&&i.code)&&this.$refs.uniFabLogin.login_before(this.type,!0,a)},toSmsPage:function(){return this.isPhone?this.needAgreements&&!this.agree?this.$refs.agreements.popup(this.toSmsPage):void uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone}):(this.focusPhone=!0,uni.showToast({title:"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none",duration:3e3}))},toPwdLogin:function(){uni.navigateTo({url:"../login/password"})},chooseArea:function(){uni.showToast({title:"\u6682\u4e0d\u652f\u6301\u5176\u4ed6\u56fd\u5bb6",icon:"none",duration:3e3})}}};e.default=u},e02e:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,qiunDataCharts:i("66f8").default,uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},on:{change:t.changeAppid},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}}),i("uni-stat-tabs",{attrs:{label:"\u7ef4\u5ea6\u9009\u62e9",type:"box",current:t.currentDimensionTab,tabs:t.dimensionTabs,_i:12},model:{value:t._$s(12,"v-model",t.query.dimension),callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}})],1),i("view",{staticClass:t._$s(13,"sc","uni-stat--x"),attrs:{_i:13}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:14},on:{change:t.changePlatform},model:{value:t._$s(14,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(15,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(15,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:15},model:{value:t._$s(15,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,_i:16}}),i("view",{staticClass:t._$s(17,"sc","uni-stat--x p-m"),attrs:{_i:17}},[i("view",{staticClass:t._$s(18,"sc","label-text mb-l"),attrs:{_i:18}}),i("uni-stat-tabs",{staticClass:t._$s(19,"sc","mb-l"),attrs:{type:"box",tabs:t.chartTabs,_i:19},on:{change:t.changeChartTab},model:{value:t._$s(19,"v-model",t.chartTab),callback:function(e){t.chartTab=e},expression:"chartTab"}}),i("view",{staticClass:t._$s(20,"sc","uni-charts-box"),attrs:{_i:20}},[i("qiun-data-charts",{attrs:{type:"area",chartData:t.chartData,echartsH5:!0,echartsApp:!0,errorMessage:t.errorMessage,_i:21}})],1)],1),i("view",{staticClass:t._$s(22,"sc","uni-stat--x p-m"),attrs:{_i:22}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.fieldsMap,loading:t.loading,_i:23}}),i("view",{staticClass:t._$s(24,"sc","uni-pagination-box"),attrs:{_i:24}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:25},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),i("fix-window",{attrs:{_i:26}})],1)},r=[]},e054:function(t,e,i){"use strict";i.r(e);var a=i("3726"),n=i("9337");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e0b0:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-table-tr"),attrs:{_i:0}},[t._$s(1,"i","selection"===t.selection)?i("view",{staticClass:t._$s(1,"sc","checkbox"),class:t._$s(1,"c",{"tr-table--border":t.border}),attrs:{_i:1}},[i("table-checkbox",{attrs:{checked:t.checked,indeterminate:t.indeterminate,disabled:t.disabled,_i:2},on:{checkboxSelected:t.checkboxSelected}})],1):t._e(),t._t("default",null,{_i:3})],2)},n=[]},e0e4:function(t){t.exports=JSON.parse('{"uniCloud.component.add.success":"\u65b0\u589e\u6210\u529f","uniCloud.component.update.success":"\u4fee\u6539\u6210\u529f","uniCloud.component.remove.showModal.title":"\u63d0\u793a","uniCloud.component.remove.showModal.content":"\u662f\u5426\u5220\u9664\u8be5\u6570\u636e"}')},e120:function(t,e,i){"use strict";i.r(e);var a=i("e2d9"),n=i("d17b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e16d:function(t,e,i){"use strict";i.r(e);var a=i("eb0a"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},e216:function(t,e,i){"use strict";i.r(e);var a=i("ca08"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},e248:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniDataSelect:i("ccd2").default,uniStatTabs:i("e98e").default,uniDatetimePicker:i("7467").default,uniStatPanel:i("badb").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTooltip:i("902a").default,uniIcons:i("3bcb").default,uniTd:i("0764").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-group"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-sub-title hide-on-phone"),attrs:{_i:4}})])],1),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-stat--x flex p-1015"),attrs:{_i:6}},[i("uni-data-select",{attrs:{collection:"opendb-app-list",field:"appid as value, name as text",orderby:"text asc",defItem:1,label:"\u5e94\u7528\u9009\u62e9",clear:!1,_i:7},model:{value:t._$s(7,"v-model",t.query.appid),callback:function(e){t.$set(t.query,"appid",e)},expression:"query.appid"}}),i("uni-data-select",{staticClass:t._$s(8,"sc","ml-m"),attrs:{collection:"opendb-app-versions",where:t.versionQuery,field:"_id as value, version as text, uni_platform as label, create_date as date",format:"{label} - {text}",orderby:"date desc",label:"\u7248\u672c\u9009\u62e9",_i:8},model:{value:t._$s(8,"v-model",t.query.version_id),callback:function(e){t.$set(t.query,"version_id",e)},expression:"query.version_id"}})],1),i("view",{staticClass:t._$s(9,"sc","uni-stat--x flex"),attrs:{_i:9}},[i("uni-stat-tabs",{attrs:{label:"\u65e5\u671f\u9009\u62e9",current:t.currentDateTab,mode:"date",_i:10},on:{change:t.changeTimeRange}}),i("uni-datetime-picker",{staticClass:t._$s(11,"sc","uni-stat-datetime-picker"),class:t._$s(11,"c",{"uni-stat__actived":t.currentDateTab<0&&!!t.query.start_time.length}),attrs:{type:"daterange",end:(new Date).getTime(),returnType:"timestamp",clearIcon:!1,_i:11},on:{change:t.useDatetimePicker},model:{value:t._$s(11,"v-model",t.query.start_time),callback:function(e){t.$set(t.query,"start_time",e)},expression:"query.start_time"}})],1),i("view",{staticClass:t._$s(12,"sc","uni-stat--x"),attrs:{_i:12}},[i("uni-stat-tabs",{attrs:{label:"\u5e73\u53f0\u9009\u62e9",type:"boldLine",mode:"platform",_i:13},on:{change:t.changePlatform},model:{value:t._$s(13,"v-model",t.query.platform_id),callback:function(e){t.$set(t.query,"platform_id",e)},expression:"query.platform_id"}}),t._$s(14,"i",t.query.platform_id&&-1===t.query.platform_id.indexOf("=="))?i("uni-data-select",{ref:"version-select",staticClass:t._$s(14,"sc","p-channel"),attrs:{collection:"uni-stat-app-channels",where:t.channelQuery,field:"_id as value, channel_name as text",orderby:"text asc",label:"\u6e20\u9053/\u573a\u666f\u503c\u9009\u62e9",_i:14},model:{value:t._$s(14,"v-model",t.query.channel_id),callback:function(e){t.$set(t.query,"channel_id",e)},expression:"query.channel_id"}}):t._e()],1),i("uni-stat-panel",{attrs:{items:t.panelData,_i:15}}),i("view",{staticClass:t._$s(16,"sc","uni-stat--x p-m"),attrs:{_i:16}},[i("uni-table",{attrs:{loading:t.loading,border:!0,stripe:!0,emptyText:t.$t("common.empty"),_i:17}},[i("uni-tr",{attrs:{_i:18}},[t._l(t._$s(19,"f",{forItems:t.fieldsMap}),(function(e,a,n,r){return[t._$s("20-"+r,"i",e.title)?i("uni-th",{key:t._$s(19,"f",{forIndex:n,keyIndex:0,key:a+"_"+a+"_0"}),attrs:{align:"center",_i:"20-"+r}},[i("uni-tooltip",{attrs:{_i:"21-"+r},scopedSlots:t._u([t._$s("23-"+r,"i",0===a&&e.tooltip)?{key:"content",fn:function(a,n,s){return[i("view",{staticClass:n._$s("24-"+r+"-"+s,"sc","uni-stat-tooltip-s"),attrs:{_i:"24-"+r+"-"+s}},[t._v(n._$s("24-"+r+"-"+s,"t0-0",t._s(e.tooltip)))])]}}:null],null,!0)},[t._v(t._$s("21-"+r,"t0-0",t._s(e.title))),t._$s("22-"+r,"i",0===a&&e.tooltip)?i("uni-icons",{attrs:{type:"help",color:"#666",_i:"22-"+r}}):t._e()],1)],1):t._e()]}))],2),t._l(t._$s(25,"f",{forItems:t.tableData}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(25,"f",{forIndex:n,key:a}),attrs:{_i:"25-"+r}},t._l(t._$s("26-"+r,"f",{forItems:t.fieldsMap}),(function(a,n,s,o){return i("uni-td",{key:t._$s("26-"+r,"f",{forIndex:s,key:n}),attrs:{align:0===n?"left":"center",_i:"26-"+r+"-"+o}},[t._v(t._$s("26-"+r+"-"+o,"t0-0",t._s(void 0!==e[a.field]?e[a.field]:"-")))])})),1)}))],2),i("view",{staticClass:t._$s(27,"sc","uni-pagination-box"),attrs:{_i:27}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:28},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1)],1),i("fix-window",{attrs:{_i:29}})],1)},r=[]},e27a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatTable:i("e881").default,uniPagination:i("2487").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","fix-top-window"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-container"),attrs:{_i:1}},[i("uni-stat-table",{attrs:{data:t.tableData,filedsMap:t.popupFieldsMap,loading:t.loading,_i:2}}),i("view",{staticClass:t._$s(3,"sc","uni-pagination-box"),attrs:{_i:3}},[i("uni-pagination",{attrs:{"show-icon":!0,"show-page-size":!0,"page-size":t.options.pageSize,current:t.options.pageCurrent,total:t.options.total,_i:4},on:{change:t.changePageCurrent,pageSizeChange:t.changePageSize}})],1)],1),i("fix-window",{attrs:{_i:5}})],1)},r=[]},e2d9:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.isShowA)?i("a",{staticClass:t._$s(0,"sc","uni-link"),class:t._$s(0,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(0,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{href:t._$s(0,"a-href",t.href),download:t._$s(0,"a-download",t.download),_i:0}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.text)))],{_i:1})],2):i("text",{staticClass:t._$s(2,"sc","uni-link"),class:t._$s(2,"c",{"uni-link--withline":!0===t.showUnderLine||"true"===t.showUnderLine}),style:t._$s(2,"s",{color:t.color,fontSize:t.fontSize+"px"}),attrs:{_i:2},on:{click:t.openURL}},[t._t("default",[t._v(t._$s(3,"t0-0",t._s(t.text)))],{_i:3})],2)},n=[]},e394:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("7037")),s=a(i("c973")),o=a(i("9523")),u=i("03b2"),c=i("06ce");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=t.importObject("uni-pay-co"),h=t.database(),p={ascending:"asc",descending:"desc"},m={data:function(){return{collectionList:"uni-pay-orders",query:{appid:"",platform_id:"",uni_platform:"",version:"",pay_date:[]},where:"",orderby:"create_date desc",orderByFieldName:"",selectedIndexs:[],filterDefaultValueUserId:"",refundFormData:{out_trade_no:"",max_refund_fee:"",refund_fee:"",refund_desc:""},refundFormRules:{refund_fee:{rules:[{required:!0,errorMessage:"\u9000\u6b3e\u91d1\u989d\u5fc5\u987b>0"},{minimum:.01,maximum:0,errorMessage:"\u6700\u5927\u53ef\u9000 {maximum} \u5143"}]},refund_desc:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u9000\u6b3e\u539f\u56e0"}]}},options:d({pageSize:20,pageCurrent:1,filterData:{provider_localdata:[{text:"\u5fae\u4fe1\u652f\u4ed8",value:"wxpay"},{text:"\u652f\u4ed8\u5b9d",value:"alipay"},{text:"\u82f9\u679c\u5e94\u7528\u5185\u652f\u4ed8",value:"appleiap"}],status_localdata:[{text:"\u5df2\u5173\u95ed",value:-1},{text:"\u672a\u652f\u4ed8",value:0},{text:"\u5df2\u652f\u4ed8",value:1},{text:"\u5df2\u90e8\u5206\u9000\u6b3e",value:2},{text:"\u5df2\u5168\u989d\u9000\u6b3e",value:3}]}},u.enumConverter),imageStyles:{width:64,height:64},exportExcel:{filename:"uni-pay-orders.xls",type:"xls",fields:{"\u7528\u6237ID":"user_id","\u7528\u6237\u6635\u79f0":"nickname","\u652f\u4ed8\u4f9b\u5e94\u5546":"provider","\u652f\u4ed8\u65b9\u5f0f":"provider_pay_type","\u5e94\u7528\u5e73\u53f0":"uni_platform","\u8ba2\u5355\u72b6\u6001":"status","\u652f\u4ed8\u5931\u8d25\u539f\u56e0":"err_msg","\u8ba2\u5355\u7c7b\u578b":"type","\u4e1a\u52a1\u7cfb\u7edf\u8ba2\u5355\u53f7":"order_no","\u652f\u4ed8\u63d2\u4ef6\u8ba2\u5355\u53f7":"out_trade_no","\u4ea4\u6613\u5355\u53f7":"transaction_id","\u652f\u4ed8\u63cf\u8ff0":"description","\u8ba2\u5355\u652f\u4ed8\u91d1\u989d":"total_fee","\u8ba2\u5355\u9000\u6b3e\u91d1\u989d":"refund_fee","\u5f53\u524d\u9000\u6b3e\u7b14\u6570":"refund_count","\u9000\u6b3e\u8be6\u60c5":"refund_list","\u56de\u8c03\u72b6\u6001":"user_order_success","\u521b\u5efa\u65f6\u95f4":"create_date","\u652f\u4ed8\u65f6\u95f4":"pay_date","\u5f02\u6b65\u901a\u77e5\u65f6\u95f4":"notify_date","\u53d6\u6d88\u65f6\u95f4":"cancel_date","\u5f00\u653e\u5e73\u53f0appid":"provider_appid","DCloud AppId":"appid","\u8bbe\u5907ID":"device_id","\u5ba2\u6237\u7aefIP":"client_ip",openid:"openid"}},exportExcelData:[]}},onLoad:function(t){this._filter={},t.user_id&&(this.filterDefaultValueUserId=t.user_id,this.filterChange({filterType:"search",filter:t.user_id},"user_id"))},onReady:function(){this.$refs.udb.loadData()},methods:{onqueryload:function(t){this.exportExcelData=t},getWhere:function(){var t="",e=this.query,i=e.pay_date,a=e.appid,n=e.version,r=e.uni_platform;return i&&2==i.length&&(t+=" && pay_date>=".concat(i[0]," && pay_date<=").concat(i[1])),a&&(t+=" && appid=='".concat(a,"'")),n&&(t+=" && stat_data.app_version=='".concat(n,"'")),r&&(t+=" && stat_data.platform=='".concat(r,"'")),t=t.substring(3).trim(),t},search:function(){var t=this,e=this.getWhere();this.where=e,this.$nextTick((function(){t.loadData()}))},loadData:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.udb.loadData({clear:t})},onPageChanged:function(t){this.selectedIndexs.length=0,this.$refs.table.clearSelection(),this.$refs.udb.loadData({current:t.current})},navigateTo:function(t,e){var i=this;uni.navigateTo({url:t,events:{refreshData:function(){i.loadData(e)}}})},selectedItems:function(){var t=this.$refs.udb.dataList;return this.selectedIndexs.map((function(e){return t[e]._id}))},delTable:function(){var t=this;this.$refs.udb.remove(this.selectedItems(),{success:function(e){t.$refs.table.clearSelection()}})},selectionChange:function(t){this.selectedIndexs=t.detail.index},refundPopup:function(t,e){if(t){var i=e.total_fee,a=void 0===i?0:i,n=e.refund_fee,r=void 0===n?0:n,s=e.out_trade_no,o=Number(((a-r)/100).toFixed(2));this.refundFormData.max_refund_fee=o,this.refundFormData.refund_fee=o,this.refundFormData.out_trade_no=s,this.refundFormRules.refund_fee.rules[1].maximum=o,this.$refs.popup.open()}else this.refundFormData.max_refund_fee="",this.refundFormData.refund_fee="",this.refundFormData.out_trade_no="",this.refundFormRules.refund_fee.rules[1].maximum=0,this.$refs.popup.close()},confirmRefund:function(t){var e=this;return(0,s.default)(n.default.mark((function i(){var a,r,o,u,c;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t.total_fee,void 0===a?0:a,r=t.refund_fee,o=void 0===r?0:r,u=t.out_trade_no,c=t.refund_desc,t.refund_fee=Number(t.refund_fee.toFixed(2)),e.$refs.refundForm.validate().then(function(){var i=(0,s.default)(n.default.mark((function i(a){var r,s,l;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=Number(o),!(isNaN(r)||r<=0)){i.next=4;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9000\u6b3e\u91d1\u989d",icon:"none",success:function(){setTimeout((function(){e.confirmRefund(t)}),500)}}),i.abrupt("return");case 4:return s={out_trade_no:u,refund_fee:parseInt(100*r),refund_desc:c},i.next=7,f.refund(s);case 7:l=i.sent,l.errCode||(e.refundPopup(!1),e.loadData(!1));case 9:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){}));case 3:case"end":return i.stop()}}),i)})))()},sortChange:function(t,e){var i=this;this.orderByFieldName=e,t.order?this.orderby=e+" "+p[t.order]:this.orderby="",this.$refs.table.clearSelection(),this.$nextTick((function(){i.$refs.udb.loadData()}))},filterChange:function(t,e,i){var a=this;i&&t.filter&&"object"==(0,r.default)(t.filter)&&("number"===typeof t.filter[0]&&(t.filter[0]=t.filter[0]/i),"number"===typeof t.filter[1]&&(t.filter[1]=t.filter[1]/i)),this._filter[e]={type:t.filterType,value:t.filter};var n=(0,u.filterToWhere)(this._filter,h.command);Object.keys(n).length?this.where=n:this.where="",this.$nextTick((function(){a.$refs.udb.loadData()}))},platformChange:function(t,e,i,a){this.query.version=0,this.query.uni_platform=a.code},nameFormat:function(t){return t.user_id?t.nickname?"".concat(t.user_id,"\uff08").concat(t.nickname,"\uff09"):t.user_id:"\u533f\u540d\u7528\u6237"},pageToUser:function(t){var e=t.user_id;uni.navigateTo({url:"/pages/system/user/list?id=".concat(e)})}},watch:{query:{deep:!0,handler:function(t){this.search()}}},computed:{versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,c.stringifyQuery)({appid:e,uni_platform:i});return a}}};e.default=m}).call(this,i("a9ff")["default"])},e3b0:function(t,e,i){"use strict";i.r(e);var a=i("59eb"),n=i("3099");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e3dd:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniEasyinput:i("fe49").default,uniIdPagesSmsForm:i("c460").default,uniPopupCaptcha:i("073c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-easyinput",{staticClass:t._$s(5,"sc","input-box"),attrs:{clearable:!0,focus:t.focusMobile,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:5},on:{blur:function(e){t.focusMobile=!1}},model:{value:t._$s(5,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}}),i("uni-id-pages-sms-form",{ref:"smsForm",attrs:{type:"bind-mobile-by-sms",phone:t.formData.mobile,_i:6},model:{value:t._$s(6,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),i("button",{staticClass:t._$s(7,"sc","uni-btn send-btn-box"),attrs:{_i:7},on:{click:t.submit}}),i("uni-popup-captcha",{ref:"popup",attrs:{scene:"bind-mobile-by-sms",_i:8},on:{confirm:t.submit},model:{value:t._$s(8,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},e3dd1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={namespaced:!0,state:{logs:[]},mutations:{ADD_ERROR_LOG:function(t,e){t.logs.unshift(e)},CLEAR_ERROR_LOG:function(t){t.logs.splice(0)}},actions:{add:function(t,e){var i=t.commit;if(!e.route){var a=getCurrentPages();a.length&&(e.route=a[a.length-1].route)}e.route="/"+(e.route||""),i("ADD_ERROR_LOG",e)},clear:function(t){var e=t.commit;e("CLEAR_ERROR_LOG")}}};e.default=a},e42e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u65e5\u671f",field:"start_time",tooltip:"",formatter:"",stat:-1},{title:"\u65b0\u589e\u8bbe\u5907",field:"new_device_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u8bbe\u5907\u6570\uff08\u4ee5\u8bbe\u5907\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0},{title:"\u6d3b\u8dc3\u8bbe\u5907",field:"active_device_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u6b21\u6570",field:"page_visit_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u542f\u52a8\u6b21\u6570",field:"app_launch_count",tooltip:"\u8bbe\u5907\u4ece\u6253\u5f00\u5e94\u7528\u5230\u4e3b\u52a8\u5173\u95ed\u5e94\u7528\u6216\u8d85\u65f6\u9000\u51fa\u8ba1\u4e3a\u4e00\u6b21\u542f\u52a8",value:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_device_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,stat:"avg"},{title:"\u8bbe\u5907\u5e73\u5747\u505c\u7559\u65f6\u957f ",field:"avg_device_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u8bbe\u5907\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u8bbe\u5907",value:0,stat:"avg"},{title:"\u8df3\u51fa\u7387",field:"bounceRate",computed:"bounce_times/app_launch_count",formatter:"%",tooltip:"\u53ea\u6d4f\u89c8\u4e00\u4e2a\u9875\u9762\u4fbf\u79bb\u5f00\u5e94\u7528\u7684\u6b21\u6570\u5360\u603b\u542f\u52a8\u6b21\u6570\u7684\u767e\u5206\u6bd4",value:0,contrast:0,fix:2},{field:"bounce_times",disable:!0},{title:"\u603b\u8bbe\u5907\u6570",field:"total_devices",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u8bbe\u5907\u6570\uff08\u53bb\u91cd\uff09",value:0}]},e49d:function(t,e,i){"use strict";i.r(e);var a=i("e91d"),n=i("fb35");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e4ae:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("46c2").default,uniPopupDialog:i("e49d").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.agreements.length)?i("view",{staticClass:t._$s(0,"sc","root"),attrs:{_i:0}},[t._$s(1,"i",t.needAgreements)?[i("checkbox-group",{attrs:{_i:2},on:{change:t.setAgree}},[i("label",{staticClass:t._$s(3,"sc","checkbox-box"),attrs:{_i:3}},[i("checkbox",{attrs:{checked:t._$s(4,"a-checked",t.isAgree),_i:4}}),i("text",{staticClass:t._$s(5,"sc","text"),attrs:{_i:5}})])]),i("view",{staticClass:t._$s(6,"sc","content"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.agreements}),(function(e,a,n,r){return i("view",{key:t._$s(7,"f",{forIndex:n,key:a}),staticClass:t._$s("7-"+r,"sc","item"),attrs:{_i:"7-"+r}},[i("text",{staticClass:t._$s("8-"+r,"sc","agreement text"),attrs:{_i:"8-"+r},on:{click:function(i){return t.navigateTo(e)}}},[t._v(t._$s("8-"+r,"t0-0",t._s(e.title)))]),t._$s("9-"+r,"i",t.hasAnd(t.agreements,a))?i("text",{staticClass:t._$s("9-"+r,"sc","text and"),attrs:{_i:"9-"+r}}):t._e()])})),0)]:t._e(),t._$s(10,"i",t.needAgreements||t.needPopupAgreements)?i("uni-popup",{ref:"popupAgreement",attrs:{type:"center",_i:10}},[i("uni-popup-dialog",{attrs:{confirmText:"\u540c\u610f",_i:11},on:{confirm:t.popupConfirm}},[i("view",{staticClass:t._$s(12,"sc","content"),attrs:{_i:12}},[i("text",{staticClass:t._$s(13,"sc","text"),attrs:{_i:13}}),t._l(t._$s(14,"f",{forItems:t.agreements}),(function(e,a,n,r){return i("view",{key:t._$s(14,"f",{forIndex:n,key:a}),staticClass:t._$s("14-"+r,"sc","item"),attrs:{_i:"14-"+r}},[i("text",{staticClass:t._$s("15-"+r,"sc","agreement text"),attrs:{_i:"15-"+r},on:{click:function(i){return t.navigateTo(e)}}},[t._v(t._$s("15-"+r,"t0-0",t._s(e.title)))]),t._$s("16-"+r,"i",t.hasAnd(t.agreements,a))?i("text",{staticClass:t._$s("16-"+r,"sc","text and"),attrs:{_i:"16-"+r}}):t._e()])}))],2)])],1):t._e()],2):t._e()},r=[]},e50c:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("7037")),r=a(i("970b")),s=a(i("5bc3")),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(e.date,e.selected),a=e.startDate,n=e.endDate,s=e.range;(0,r.default)(this,t),this.date=this.getDate(new Date),this.selected=i||[],this.startDate=a,this.endDate=n,this.range=s,this.cleanMultipleStatus(),this.weeks={},this.lastHover=!1}return(0,s.default)(t,[{key:"setDate",value:function(t){this.selectDate=this.getDate(t),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(t){this.startDate=t}},{key:"resetEndDate",value:function(t){this.endDate=t}},{key:"getDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";t||(t=new Date),"object"!==(0,n.default)(t)&&(t=t.replace(/-/g,"/"));var a=new Date(t);switch(i){case"day":a.setDate(a.getDate()+e);break;case"month":31===a.getDate()?a.setDate(a.getDate()+e):a.setMonth(a.getMonth()+e);break;case"year":a.setFullYear(a.getFullYear()+e);break}var r=a.getFullYear(),s=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getDate()<10?"0"+a.getDate():a.getDate();return{fullDate:r+"-"+s+"-"+o,year:r,month:s,date:o,day:a.getDay()}}},{key:"_getLastMonthDays",value:function(t,e){for(var i=[],a=t;a>0;a--){var n=new Date(e.year,e.month-1,1-a).getDate();i.push({date:n,month:e.month-1,disable:!0})}return i}},{key:"_currentMonthDys",value:function(t,e){for(var i=this,a=[],n=this.date.fullDate,r=function(t){var r=e.year+"-"+(e.month,e.month+"-")+(t<10?"0"+t:t),s=n===r,o=i.selected&&i.selected.find((function(t){if(i.dateEqual(r,t.date))return t})),u=!0,c=!0;i.startDate&&(u=i.dateCompare(i.startDate,r)),i.endDate&&(c=i.dateCompare(r,i.endDate));var l=i.multipleStatus.data,d=!1,f=-1;i.range&&(l&&(f=l.findIndex((function(t){return i.dateEqual(t,r)}))),-1!==f&&(d=!0));var h={fullDate:r,year:e.year,date:t,multiple:!!i.range&&d,beforeMultiple:i.isLogicBefore(r,i.multipleStatus.before,i.multipleStatus.after),afterMultiple:i.isLogicAfter(r,i.multipleStatus.before,i.multipleStatus.after),month:e.month,disable:!(u&&c),isDay:s,userChecked:!1};o&&(h.extraInfo=o),a.push(h)},s=1;s<=t;s++)r(s);return a}},{key:"_getNextMonthDays",value:function(t,e){for(var i=[],a=1;a<t+1;a++)i.push({date:a,month:Number(e.month)+1,disable:!0});return i}},{key:"getInfo",value:function(t){var e=this;t||(t=new Date);var i=this.canlender.find((function(i){return i.fullDate===e.getDate(t).fullDate}));return i}},{key:"dateCompare",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t<=e}},{key:"dateEqual",value:function(t,e){return t=new Date(t.replace("-","/").replace("-","/")),e=new Date(e.replace("-","/").replace("-","/")),t.getTime()-e.getTime()===0}},{key:"isLogicBefore",value:function(t,e,i){var a=e;return e&&i&&(a=this.dateCompare(e,i)?e:i),this.dateEqual(a,t)}},{key:"isLogicAfter",value:function(t,e,i){var a=i;return e&&i&&(a=this.dateCompare(e,i)?i:e),this.dateEqual(a,t)}},{key:"geDateAll",value:function(t,e){var i=[],a=t.split("-"),n=e.split("-"),r=new Date;r.setFullYear(a[0],a[1]-1,a[2]);var s=new Date;s.setFullYear(n[0],n[1]-1,n[2]);for(var o=r.getTime()-864e5,u=s.getTime()-864e5,c=o;c<=u;)c+=864e5,i.push(this.getDate(new Date(parseInt(c))).fullDate);return i}},{key:"setMultiple",value:function(t){var e=this.multipleStatus,i=e.before,a=e.after;if(this.range){if(i&&a){if(!this.lastHover)return void(this.lastHover=!0);this.multipleStatus.before=t,this.multipleStatus.after="",this.multipleStatus.data=[],this.multipleStatus.fulldate="",this.lastHover=!1}else i?(this.multipleStatus.after=t,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before),this.lastHover=!0):(this.multipleStatus.before=t,this.lastHover=!1);this._getWeek(t)}}},{key:"setHoverMultiple",value:function(t){var e=this.multipleStatus,i=e.before;e.after;this.range&&(this.lastHover||(i?(this.multipleStatus.after=t,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=t,this._getWeek(t)))}},{key:"setDefaultMultiple",value:function(t,e){this.multipleStatus.before=t,this.multipleStatus.after=e,t&&e&&(this.dateCompare(t,e)?(this.multipleStatus.data=this.geDateAll(t,e),this._getWeek(e)):(this.multipleStatus.data=this.geDateAll(e,t),this._getWeek(t)))}},{key:"_getWeek",value:function(t){var e=this.getDate(t),i=(e.fullDate,e.year),a=e.month,n=(e.date,e.day,new Date(i,a-1,1).getDay()),r=new Date(i,a,0).getDate(),s={lastMonthDays:this._getLastMonthDays(n,this.getDate(t)),currentMonthDys:this._currentMonthDys(r,this.getDate(t)),nextMonthDays:[],weeks:[]},o=[],u=42-(s.lastMonthDays.length+s.currentMonthDys.length);s.nextMonthDays=this._getNextMonthDays(u,this.getDate(t)),o=o.concat(s.lastMonthDays,s.currentMonthDys,s.nextMonthDays);for(var c={},l=0;l<o.length;l++)l%7===0&&(c[parseInt(l/7)]=new Array(7)),c[parseInt(l/7)][l%7]=o[l];this.canlender=o,this.weeks=c}}]),t}(),u=o;e.default=u},e50d:function(t,e,i){var a=i("7037")["default"];t.exports=function(t,e){if("object"!==a(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},e527:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resFieldsMap=e.fieldsMap=e.entFieldsMap=void 0;e.fieldsMap=[{value:"\u4eca\u5929",contrast:"\u6628\u5929"},{title:"\u65b0\u589e\u7528\u6237",field:"new_user_count",tooltip:"\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u7684\u7528\u6237\u6570\uff08\u4ee5\u7528\u6237\u4e3a\u5224\u65ad\u6807\u51c6\uff0c\u53bb\u91cd\uff09",value:0,contrast:0},{title:"\u6d3b\u8dc3\u7528\u6237",field:"active_user_count",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff0c\u4eca\u65e5\u6570\u636e\u4e3a\u6bcf\u5c0f\u65f6\u6d3b\u8dc3\u7528\u6237\u7d2f\u52a0\uff08\u672a\u8651\u91cd\uff09\uff0c\u6628\u65e5\u6570\u636e\u4e3a\u5168\u5929\u6d3b\u8dc3\u7528\u6237\u8651\u91cd\u540e\u7ed3\u679c\u3002",value:0,contrast:0},{title:"\u6b21\u5747\u505c\u7559\u65f6\u957f",field:"avg_user_session_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u6b21\u6253\u5f00\u5e94\u7528\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u542f\u52a8\u6b21\u6570",value:0,contrast:0,stat:"avg"},{title:"\u4eba\u5747\u505c\u7559\u65f6\u957f ",field:"avg_user_time",formatter:":",tooltip:"\u5e73\u5747\u6bcf\u4e2a\u7528\u6237\u505c\u7559\u5728\u5e94\u7528\u5185\u7684\u603b\u65f6\u957f\uff0c\u5373\u5e94\u7528\u505c\u7559\u603b\u65f6\u957f/\u6d3b\u8dc3\u7528\u6237",value:0,contrast:0,stat:"avg"},{title:"\u603b\u7528\u6237\u6570",field:"total_users",tooltip:"\u4ece\u6dfb\u52a0\u7edf\u8ba1\u5230\u5f53\u524d\u9009\u62e9\u65f6\u95f4\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0,contrast:0}];e.resFieldsMap=[{title:"\u53d7\u8bbf\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u6240\u6709\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1,2\u5747\u4e3a\u53d7\u8bbf\u9875",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"visit_times/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}];e.entFieldsMap=[{title:"\u5165\u53e3\u9875",field:"path",tooltip:"\u7528\u6237\u8fdb\u5165\u5e94\u7528\u8bbf\u95ee\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u4f8b\u5982\u7528\u6237\u4ece\u9875\u97621\u8fdb\u5165\u5e94\u7528\uff0c\u8df3\u8f6c\u5230\u9875\u97622\uff0c1\u4e3a\u5165\u53e3\u9875\uff0c\u800c2\u4e0d\u662f",formatter:""},{title:"\u8bbf\u95ee\u6b21\u6570",field:"entry_count",tooltip:"\u8bbf\u95ee\u8be5\u9875\u9762\u7684\u603b\u6b21\u6570",value:0},{title:"\u5360\u6bd4",field:"rate",computed:"entry_count/total_app_access",tooltip:"\u67d0\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u6b21\u6570\u5360\u6240\u6709\u9875\u9762\u8bbf\u95ee\u6b21\u6570\u7684\u6bd4\u4f8b",formatter:"%"}]},e5a4:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniLink:i("e120").default,uniDataCheckbox:i("61f3").default,uniPopup:i("46c2").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{labelWidth:"80",rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[i("uni-forms-item",{attrs:{name:"menu_id",label:"\u6807\u8bc6",required:!0,_i:2}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u9879\u7684ID\uff0c\u4e0d\u53ef\u91cd\u590d",_i:3},model:{value:t._$s(3,"v-model",t.formData.menu_id),callback:function(e){t.$set(t.formData,"menu_id",e)},expression:"formData.menu_id"}})],1),i("uni-forms-item",{attrs:{name:"name",label:"\u663e\u793a\u540d\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.name),callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),i("uni-forms-item",{attrs:{name:"icon",label:"\u56fe\u6807class",_i:6}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u56fe\u6807css\u6837\u5f0f\u7c7b\u540d",_i:7},scopedSlots:t._u([{key:"right",fn:function(e,a,n){return[i("span",{staticStyle:{color:"#007aff",cursor:"pointer","padding-right":"10px"},attrs:{_i:"9-"+n},on:{click:t.showIconPopup}},[t._v("\u5185\u7f6e\u56fe\u6807")])]}}]),model:{value:t._$s(7,"v-model",t.formData.icon),callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}}),i("uni-link",{staticClass:t._$s(10,"sc","uni-form-item-tips"),attrs:{"font-size":"12",href:"https://uniapp.dcloud.net.cn/uniCloud/admin?id=icon-%e5%9b%be%e6%a0%87",text:"\u5982\u4f55\u4f7f\u7528\u81ea\u5b9a\u4e49\u56fe\u6807\uff1f",_i:10}})],1),i("uni-forms-item",{attrs:{name:"url",label:"\u9875\u9762URL",_i:11}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"URL\u4e3a\u7a7a\u4ee3\u8868\u662f\u76ee\u5f55\u800c\u4e0d\u662f\u53f6\u5b50\u8282\u70b9",_i:12},model:{value:t._$s(12,"v-model",t.formData.url),callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),i("uni-forms-item",{attrs:{name:"sort",label:"\u5e8f\u53f7",_i:13}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u5e8f\u53f7\uff08\u8d8a\u5927\u8d8a\u9760\u540e\uff09",_i:14},model:{value:t._$s(14,"v-model",t.formData.sort),callback:function(e){t.$set(t.formData,"sort",e)},expression:"formData.sort"}})],1),i("uni-forms-item",{attrs:{name:"parent_id",label:"\u7236\u83dc\u5355\u6807\u8bc6",_i:15}},[i("uni-easyinput",{attrs:{disabled:!0,clearable:!1,placeholder:"\u65b0\u589e\u83dc\u5355\u65f6\u81ea\u52a8\u586b\u5145, \u4e00\u7ea7\u83dc\u5355\u4e0d\u9700\u8981\u586b\u5199",_i:16},model:{value:t._$s(16,"v-model",t.formData.parent_id),callback:function(e){t.$set(t.formData,"parent_id",e)},expression:"formData.parent_id"}})],1),i("uni-forms-item",{staticClass:t._$s(17,"sc","flex-center-x"),attrs:{name:"permission",label:"\u6743\u9650\u5217\u8868",_i:17}},[i("uni-data-checkbox",{attrs:{multiple:!0,collection:"uni-id-permissions","page-size":500,field:"permission_name as text, permission_id as value",_i:18},model:{value:t._$s(18,"v-model",t.formData.permission),callback:function(e){t.$set(t.formData,"permission",e)},expression:"formData.permission"}}),i("view",{staticClass:t._$s(19,"sc","uni-form-item-tips"),attrs:{_i:19}})],1),i("uni-forms-item",{attrs:{name:"enable",label:"\u662f\u5426\u542f\u7528",_i:20}},[i("switch",{attrs:{checked:t._$s(21,"a-checked",t.formData.enable),_i:21},on:{change:function(e){return t.binddata("enable",e.detail.value)}}})]),i("view",{staticClass:t._$s(22,"sc","uni-button-group"),attrs:{_i:22}},[i("button",{staticClass:t._$s(23,"sc","uni-button"),attrs:{_i:23},on:{click:t.submitForm}},[t._v(t._$s(23,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(25,"sc","uni-button"),attrs:{_i:25}},[t._v(t._$s(25,"t0-0",t._s(t.$t("common.button.back"))))])])])],1),i("uni-popup",{ref:"iconPopup",staticClass:t._$s(26,"sc","icon-modal-box"),attrs:{type:"center",_i:26}},[i("view",{staticClass:t._$s(27,"sc","icon-modal icon-modal-pc"),attrs:{_i:27}},[i("Icons",{attrs:{tag:!1,"fix-window":!1,_i:28}})],1)])],1)},r=[]},e5e4:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("ecb7")),s=n(i("d2f6")),o=(n(i("2543")),i("f7f2"),t.importObject("uni-id-co")),u={mixins:[s.default],data:function(){return{formData:{username:"",nickname:"",password:"",password2:"",captcha:""},rules:r.default,focusUsername:!1,focusNickname:!1,focusPassword:!1,focusPassword2:!1,logo:"/static/logo.png"}},onReady:function(){this.$refs.form.setRules(this.rules)},onShow:function(){},methods:{submit:function(){var t=this;this.$refs.form.validate().then((function(e){return 4!=t.formData.captcha.length?(t.$refs.captcha.focusCaptchaInput=!0,uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none",duration:3e3})):t.needAgreements&&!t.agree?t.$refs.agreements.popup((function(){t.submitForm(e)})):void t.submitForm(e)})).catch((function(e){var i=e[0].key;i=i.replace(i[0],i[0].toUpperCase()),t["focus"+i]=!0}))},submitForm:function(t){var e=this;o.registerUser(this.formData).then((function(t){e.loginSuccess(t)})).catch((function(t){t.message,e.$refs.captcha.getImageCaptcha()}))},navigateBack:function(){uni.navigateBack()},toLogin:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd"})},registerByEmail:function(){uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/register/register-by-email"})}}};e.default=u}).call(this,i("a9ff")["default"],i("0de9")["default"])},e5f7:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-file-picker"),attrs:{_i:0}},[t._$s(1,"i",t.title)?i("view",{staticClass:t._$s(1,"sc","uni-file-picker__header"),attrs:{_i:1}},[i("text",{staticClass:t._$s(2,"sc","file-title"),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.title)))]),i("text",{staticClass:t._$s(3,"sc","file-count"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.filesList.length))+t._$s(3,"t0-1",t._s(t.limitLength)))])]):t._e(),t._$s(4,"i","image"===t.fileMediatype&&"grid"===t.showType)?i("upload-image",{attrs:{readonly:t.readonly,"image-styles":t.imageStyles,"files-list":t.filesList,limit:t.limitLength,disablePreview:t.disablePreview,delIcon:t.delIcon,_i:4},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[i("view",{staticClass:t._$s(6,"sc","is-add"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","icon-add"),attrs:{_i:7}}),i("view",{staticClass:t._$s(8,"sc","icon-add rotate"),attrs:{_i:8}})])],{_i:5})],2):t._e(),t._$s(9,"i","image"!==t.fileMediatype||"grid"!==t.showType)?i("upload-file",{attrs:{readonly:t.readonly,"list-styles":t.listStyles,"files-list":t.filesList,showType:t.showType,delIcon:t.delIcon,_i:9},on:{uploadFiles:t.uploadFiles,choose:t.choose,delFile:t.delFile}},[t._t("default",[i("button",{})],{_i:10})],2):t._e()],1)},n=[]},e5fb:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uqrcode"),class:t._$s(0,"c",{"uqrcode-hide":t.hide}),style:t._$s(0,"s",{width:t.templateOptions.width+"px",height:t.templateOptions.height+"px"}),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uqrcode-canvas-wrapper"),attrs:{_i:1}},[t._$s(2,"i",t.templateOptions.canvasDisplay)?i("canvas",{staticClass:t._$s(2,"sc","uqrcode-canvas"),style:t._$s(2,"s",{width:t.templateOptions.canvasWidth+"px",height:t.templateOptions.canvasHeight+"px",transform:t.templateOptions.canvasTransform}),attrs:{id:t._$s(2,"a-id",t.canvasId),"canvas-id":t._$s(2,"a-canvas-id",t.canvasId),type:t._$s(2,"a-type",t.canvasType),_i:2},on:{click:t.onClick}}):t._e()]),t._$s(3,"i",void 0===t.loading?t.makeing:t.loading)?i("view",{staticClass:t._$s(3,"sc","uqrcode-makeing"),attrs:{_i:3}},[t._t("loading",[i("image",{staticClass:t._$s(5,"sc","uqrcode-makeing-image"),style:t._$s(5,"s",{width:t.templateOptions.size/4+"px",height:t.templateOptions.size/4+"px"}),attrs:{_i:5}})],{_i:4})],2):t._e(),t._$s(6,"i",t.isError)?i("view",{staticClass:t._$s(6,"sc","uqrcode-error"),attrs:{_i:6},on:{click:t.onClick}},[t._t("error",[i("text",{staticClass:t._$s(8,"sc","uqrcode-error-message"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.error.errMsg)))])],{error:t.error,_i:7})],2):t._e()])},n=[]},e639:function(t,e,i){"use strict";i.r(e);var a=i("6b97"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},e6a7:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniStatBreadcrumb:i("d0b2").default,uniBadge:i("f982").default,unicloudDb:i("960d").default,uniTable:i("5f9f").default,uniTr:i("3bcd").default,uniTh:i("fd1a").default,uniTd:i("0764").default,fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("uni-stat-breadcrumb",{staticClass:t._$s(2,"sc","uni-stat-breadcrumb-on-phone"),attrs:{_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","uni-tabs__header"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","uni-tabs__nav-wrap"),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","uni-tabs__nav-scroll"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-tabs__nav"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","uni-tabs__item"),class:t._$s(7,"c",{"is-active":"menus"===t.currentTab}),attrs:{_i:7},on:{click:function(e){return t.switchTab("menus")}}},[t._v(t._$s(7,"t0-0",t._s(t.$t("menu.text.menuManager"))))]),t._$s(8,"i",t.pluginMenus.length)?i("view",{staticClass:t._$s(8,"sc","uni-tabs__item"),class:t._$s(8,"c",{"is-active":"pluginMenus"===t.currentTab}),attrs:{_i:8},on:{click:function(e){return t.switchTab("pluginMenus")}}},[t._v(t._$s(8,"t0-0",t._s(t.$t("menu.text.additiveMenu")))),i("uni-badge",{staticClass:t._$s(9,"sc","menu-badge"),attrs:{text:t.pluginMenus.length,type:"error",_i:9}})],1):t._e()])])])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show","menus"===t.currentTab),expression:"_$s(10,'v-show',currentTab==='menus')"}],attrs:{_i:10}},[i("view",{staticClass:t._$s(11,"sc","uni-header"),attrs:{_i:11}},[i("view",{staticClass:t._$s(12,"sc","uni-group"),attrs:{_i:12}},[i("button",{attrs:{_i:13},on:{click:function(e){return t.navigateTo("./add")}}},[t._v(t._$s(13,"t0-0",t._s(t.$t("menu.button.addFirstLevelMenu"))))])]),i("view",{staticClass:t._$s(14,"sc","uni-group"),attrs:{_i:14}})]),i("view",{staticClass:t._$s(15,"sc","uni-container"),attrs:{_i:15}},[i("unicloud-db",{ref:"udb",attrs:{collection:"opendb-admin-menus",options:t.options,where:t.where,"page-data":"replace",orderby:t.orderby,getcount:!0,"page-size":t.options.pageSize,"page-current":t.options.pageCurrent,_i:16},on:{load:t.onqueryload},scopedSlots:t._u([{key:"default",fn:function(e,a,n){var r=e.data,s=(e.pagination,e.loading);e.error;return[i("uni-table",{staticClass:a._$s("17-"+n,"sc","table-pc"),attrs:{loading:s,emptyText:t.errMsg||t.$t("common.empty"),border:!0,stripe:!0,_i:"17-"+n}},[i("uni-tr",{attrs:{_i:"18-"+n}},[i("uni-th",{attrs:{align:"center",_i:"19-"+n}},[t._v("\u6392\u5e8f")]),i("uni-th",{attrs:{width:"200",align:"center",_i:"20-"+n}},[t._v("\u540d\u79f0")]),i("uni-th",{attrs:{align:"center",_i:"21-"+n}},[t._v("\u6807\u8bc6")]),i("uni-th",{attrs:{align:"center",_i:"22-"+n}},[t._v("URL")]),i("uni-th",{attrs:{width:"100",align:"center",_i:"23-"+n}},[t._v("\u662f\u5426\u542f\u7528")]),i("uni-th",{attrs:{align:"center",_i:"24-"+n}},[t._v("\u64cd\u4f5c")])],1),t._l(a._$s("25-"+n,"f",{forItems:r}),(function(e,r,s,o){return i("uni-tr",{key:a._$s("25-"+n,"f",{forIndex:s,key:r}),attrs:{_i:"25-"+n+o}},[i("uni-td",{attrs:{align:"center",_i:"26-"+n+o}},[t._v(a._$s("26-"+n+o,"t0-0",t._s(e.sort)))]),i("uni-td",{attrs:{_i:"27-"+n+o}},[t._v(a._$s("27-"+n+o,"t0-0",t._s(e.name)))]),i("uni-td",{attrs:{_i:"28-"+n+o}},[t._v(a._$s("28-"+n+o,"t0-0",t._s(e.menu_id)))]),i("uni-td",{attrs:{_i:"29-"+n+o}},[t._v(a._$s("29-"+n+o,"t0-0",t._s(e.url)))]),i("uni-td",{class:a._$s("30-"+n+o,"c",{"menu-disable":!e.enable}),attrs:{align:"center",_i:"30-"+n+o}},[t._v(a._$s("30-"+n+o,"t0-0",t._s(e.enable?"\u5df2\u542f\u7528":"\u672a\u542f\u7528")))]),i("uni-td",{attrs:{align:"center",_i:"31-"+n+o}},[i("view",{staticClass:a._$s("32-"+n+o,"sc","uni-group"),staticStyle:{"justify-content":"left"},attrs:{_i:"32-"+n+o}},[i("button",{staticClass:a._$s("33-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"33-"+n+o},on:{click:function(i){return t.navigateTo("./edit?id="+e._id,!1)}}},[t._v(a._$s("33-"+n+o,"t0-0",t._s(t.$t("common.button.edit"))))]),a._$s("34-"+n+o,"i","system_menu"!==e.menu_id&&"system_management"!==e.menu_id)?i("button",{staticClass:a._$s("34-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"warn",_i:"34-"+n+o},on:{click:function(i){return t.confirmDelete(e)}}},[t._v(a._$s("34-"+n+o,"t0-0",t._s(t.$t("common.button.delete"))))]):t._e(),a._$s("35-"+n+o,"i",!e.url)?i("button",{staticClass:a._$s("35-"+n+o,"sc","uni-button"),attrs:{size:"mini",type:"primary",_i:"35-"+n+o},on:{click:function(i){return t.navigateTo("./add?parent_id="+e.menu_id,!1)}}},[t._v(a._$s("35-"+n+o,"t0-0",t._s(t.$t("menu.button.addChildMenu"))))]):t._e()])])],1)}))],2)]}}])})],1)]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(36,"v-show","pluginMenus"===t.currentTab),expression:"_$s(36,'v-show',currentTab==='pluginMenus')"}],attrs:{_i:36}},[i("view",{staticClass:t._$s(37,"sc","uni-header"),attrs:{_i:37}},[i("view",{staticClass:t._$s(38,"sc","uni-group"),attrs:{_i:38}},[i("button",{attrs:{_i:39},on:{click:t.addPluginMenus}})]),i("view",{staticClass:t._$s(40,"sc","uni-group"),attrs:{_i:40}})]),i("view",{staticClass:t._$s(41,"sc","uni-container"),attrs:{_i:41}},[i("uni-table",{ref:"pluginMenusTable",attrs:{type:"selection",border:!0,stripe:!0,_i:42},on:{"selection-change":t.pluginMenuSelectChange}},[i("uni-tr",{attrs:{_i:43}},[i("uni-th",{attrs:{align:"center",_i:44}},[t._v("")]),i("uni-th",{attrs:{align:"center",_i:45}},[t._v("")]),i("uni-th",{attrs:{align:"center",_i:46}},[t._v("")])],1),t._l(t._$s(47,"f",{forItems:t.pluginMenus}),(function(e,a,n,r){return i("uni-tr",{key:t._$s(47,"f",{forIndex:n,key:a}),attrs:{_i:"47-"+r}},[i("uni-td",{attrs:{_i:"48-"+r}},[t._v(t._$s("48-"+r,"t0-0",t._s(e.name))+t._$s("48-"+r,"t0-1",t._s(e.menu_id)))]),i("uni-td",{attrs:{_i:"49-"+r}},[t._v(t._$s("49-"+r,"t0-0",t._s(e.url)))]),i("uni-td",{attrs:{_i:"50-"+r}},[t._v(t._$s("50-"+r,"t0-0",t._s(e.json)))])],1)}))],2),i("view",{staticClass:t._$s(51,"sc","uni-sub-title"),attrs:{_i:51}})],1)]),i("fix-window",{attrs:{_i:52}})],1)},r=[]},e734:function(t,e,i){"use strict";i.r(e);var a=i("e394"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},e818:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"\u7cfb\u7d71\u767b\u9304","prompt":"\u5982\u7121\u7ba1\u7406\u54e1\u8cec\u865f\uff0c\u8acb\u5148\u5275\u5efa\u7ba1\u7406\u54e1..."},"field":{"username":"\u8cec\u865f","password":"\u5bc6\u78bc","captcha":"\u9a57\u8b49\u78bc"},"button":{"login":"\u767b\u9304"}},"topwindow":{"text":{"doc":"Admin \u6846\u67b6\u6587\u6a94","plugin":"\u700f\u89bd\u66f4\u591a Admin \u63d2\u4ef6","changeLanguage":"\u5207\u6362\u8bed\u8a00","changePwd":"\u4fee\u6539\u5bc6\u78bc","signOut":"\u9000\u51fa"}},"index":{"text":{"prompt":"\u5167\u5bb9\u4e3b\u9ad4\uff0c\u53ef\u81ea\u5b9a\u7fa9\u5167\u5bb9\u53ca\u6a23\u5f0f","vesion":"\u53ef\u5728\u63a7\u5236\u53f0\u548c package.json \u4e2d\u67e5\u770b\u7576\u524d\u7684\u7248\u672c"}},"updatePwd":{"text":{"title":"\u4fee\u6539\u5bc6\u78bc"},"field":{"oldPassword":"\u820a\u5bc6\u78bc","newPassword":"\u65b0\u5bc6\u78bc","passwordConfirmation":"\u78ba\u8a8d\u65b0\u5bc6\u78bc"},"button":{"save":"\u4fdd\u5b58","back":"\u8fd4\u56de"}},"common":{"placeholder":{"query":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"},"button":{"search":"\u641c\u7d22","add":"\u65b0\u589e","edit":"\u4fee\u6539","delete":"\u522a\u9664","batchDelete":"\u6279\u91cf\u522a\u9664","exportExcel":"\u5c0e\u51fa Excel","submit":"\u63d0\u4ea4","back":"\u8fd4\u56de","tagManager":"\u6a19\u7c3d\u7ba1\u7406","publish":"\u767c\u5e03\u9801\u7ba1\u7406","version":"\u7248\u672c\u7ba1\u7406"},"empty":"\u6c92\u6709\u66f4\u591a\u6578\u64da","piecePerPage":"\u689d/\u9801"},"user":{"text":{"userManager":"\u7528\u6236\u7ba1\u7406"}},"role":{"text":{"roleManager":"\u89d2\u8272\u7ba1\u7406"}},"permission":{"text":{"permissionManager":"\u6b0a\u9650\u7ba1\u7406"}},"app":{"text":{"appManager":"\u61c9\u7528\u7ba1\u7406","describle":"\u7ba1\u7406\u7528\u6236\u53ef\u767b\u9304\u7684\u61c9\u7528"}},"menu":{"text":{"menuManager":"\u83dc\u55ae\u5217\u8868","additiveMenu":"\u5f85\u6dfb\u52a0\u83dc\u55ae"},"button":{"addFirstLevelMenu":"\u65b0\u589e\u4e00\u7d1a\u83dc\u55ae","addChildMenu":"\u5b50\u83dc\u55ae"}},"demo":{"icons":{"title":"\u5716\u6a19","describle":"\u9ede\u64ca\u5716\u6a19\u5373\u53ef\u8907\u88fd\u5716\u6a19\u4ee3\u78bc"},"table":{"title":"\u8868\u683c"}}}')},e84b:function(t,e,i){"use strict";i.r(e);var a=i("d37c"),n=i("ba23");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"fcb66c2c",null,!1,a["a"],void 0);e["default"]=o.exports},e881:function(t,e,i){"use strict";i.r(e);var a=i("169b"),n=i("4a22");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e8ba:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMatchMedia:i("a5e8").default,uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniIdPagesEmailForm:i("7af4").default,uniPopupCaptcha:i("073c").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-content"),attrs:{_i:0}},[i("uni-match-media",{attrs:{"min-width":690,_i:1}},[i("view",{staticClass:t._$s(2,"sc","login-logo"),attrs:{_i:2}},[i("image",{attrs:{src:t._$s(3,"a-src",t.logo),_i:3}})]),i("text",{staticClass:t._$s(4,"sc","title title-box"),attrs:{_i:4}})]),i("uni-forms",{ref:"form",attrs:{value:t.formData,"err-show-type":"toast",_i:5}},[i("uni-forms-item",{attrs:{name:"email",_i:6}},[i("uni-easyinput",{staticClass:t._$s(7,"sc","input-box"),attrs:{focus:t.focusEmail,disabled:t.lock,inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:7},on:{blur:function(e){t.focusEmail=!1}},model:{value:t._$s(7,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),i("uni-forms-item",{attrs:{name:"code",_i:8}},[i("uni-id-pages-email-form",{ref:"shortCode",attrs:{email:t.formData.email,type:"reset-pwd-by-email",_i:9},model:{value:t._$s(9,"v-model",t.formData.code),callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}})],1),i("uni-forms-item",{attrs:{name:"password",_i:10}},[i("uni-easyinput",{staticClass:t._$s(11,"sc","input-box"),attrs:{focus:t.focusPassword,type:"password",inputBorder:!1,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",_i:11},on:{blur:function(e){t.focusPassword=!1}},model:{value:t._$s(11,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),i("uni-forms-item",{attrs:{name:"password2",_i:12}},[i("uni-easyinput",{staticClass:t._$s(13,"sc","input-box"),attrs:{focus:t.focusPassword2,type:"password",inputBorder:!1,placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801",_i:13},on:{blur:function(e){t.focusPassword2=!1}},model:{value:t._$s(13,"v-model",t.formData.password2),callback:function(e){t.$set(t.formData,"password2",e)},expression:"formData.password2"}})],1),i("button",{staticClass:t._$s(14,"sc","uni-btn send-btn-box"),attrs:{_i:14},on:{click:t.submit}}),i("uni-match-media",{attrs:{"min-width":690,_i:15}},[i("view",{staticClass:t._$s(16,"sc","link-box"),attrs:{_i:16}},[i("text",{staticClass:t._$s(17,"sc","link"),attrs:{_i:17},on:{click:t.retrieveByPhone}}),i("view"),i("text",{staticClass:t._$s(19,"sc","link"),attrs:{_i:19},on:{click:t.backLogin}})])])],1),i("uni-popup-captcha",{ref:"popup",attrs:{scene:"reset-pwd-by-sms",_i:20},on:{confirm:t.submit},model:{value:t._$s(20,"v-model",t.formData.captcha),callback:function(e){t.$set(t.formData,"captcha",e)},expression:"formData.captcha"}})],1)},r=[]},e8de:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),r=a(i("7037")),s=a(i("c973")),o=a(i("67af"));function u(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var l={name:"downloadExcel",props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,default:function(){return null}},exportFields:{type:Object,default:function(){return null}},defaultValue:{type:String,required:!1,default:""},header:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:function(){return[]}},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function},escapeCsv:{type:Boolean,default:!0},stringifyLongNum:{type:Boolean,default:!1}},computed:{idName:function(){var t=(new Date).getTime();return"export_"+t},downloadFields:function(){return this.fields?this.fields:this.exportFields?this.exportFields:void 0}},methods:{generate:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var i,a;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof t.beforeGenerate){e.next=3;break}return e.next=3,t.beforeGenerate();case 3:if(i=t.data,"function"!==typeof t.fetch&&i){e.next=8;break}return e.next=7,t.fetch();case 7:i=e.sent;case 8:if(i&&i.length){e.next=10;break}return e.abrupt("return");case 10:if(a=t.getProcessedJson(i,t.downloadFields),"html"!==t.type){e.next=15;break}return e.abrupt("return",t.export(t.jsonToXLS(a),t.name.replace(".xls",".html"),"text/html"));case 15:if("csv"!==t.type){e.next=17;break}return e.abrupt("return",t.export(t.jsonToCSV(a),t.name.replace(".xls",".csv"),"application/csv"));case 17:return e.abrupt("return",t.export(t.jsonToXLS(a),t.name,"application/vnd.ms-excel"));case 18:case"end":return e.stop()}}),e)})))()},export:function(){var t=(0,s.default)(n.default.mark((function t(e,i,a){var r;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=this.base64ToBlob(e,a),"function"!==typeof this.beforeFinish){t.next=4;break}return t.next=4,this.beforeFinish();case 4:(0,o.default)(r,i,a);case 5:case"end":return t.stop()}}),t,this)})));return function(e,i,a){return t.apply(this,arguments)}}(),jsonToXLS:function(t){var e="<thead>",i=Object.keys(t[0]).length,a=this,n=this.header||this.$attrs.title;for(var r in n&&(e+=this.parseExtraData(n,'<tr><th colspan="'+i+'">${data}</th></tr>')),e+="<tr>",t[0])e+="<th>"+r+"</th>";return e+="</tr>",e+="</thead>",e+="<tbody>",t.map((function(t,i){for(var n in e+="<tr>",t)e+="<td>"+a.preprocessLongNum(a.valueReformattedForMultilines(t[n]))+"</td>";e+="</tr>"})),e+="</tbody>",null!=this.footer&&(e+="<tfoot>",e+=this.parseExtraData(this.footer,'<tr><td colspan="'+i+'">${data}</td></tr>'),e+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",e).replace("${worksheet}",this.worksheet)},jsonToCSV:function(t){var e=this,i=[],a=this.header||this.$attrs.title;for(var n in a&&i.push(this.parseExtraData(a,"${data}\r\n")),t[0])i.push(n),i.push(",");return i.pop(),i.push("\r\n"),t.map((function(t){for(var a in t){var n=t[a]+"";e.escapeCsv&&(n='="'+n+'"',n.match(/[,"\n]/)&&(n='"'+n.replace(/\"/g,'""')+'"')),i.push(n),i.push(",")}i.pop(),i.push("\r\n")})),null!=this.footer&&i.push(this.parseExtraData(this.footer,"${data}\r\n")),i.join("")},getProcessedJson:function(t,e){var i=this.getKeys(t,e),a=[],n=this;return t.map((function(t,e){var r={};for(var s in i){var o=i[s];r[s]=n.getValue(o,t)}a.push(r)})),a},getKeys:function(t,e){if(e)return e;var i={};for(var a in t[0])i[a]=a;return i},parseExtraData:function(t,e){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&(i+=e.replace("${data}",t[a]));else i+=e.replace("${data}",t);return i},getValue:function(t,e){var i="object"!==(0,r.default)(t)?t:t.field,a="string"!==typeof i?[]:i.split("."),n=this.defaultValue;return n=i?a.length>1?this.getValueFromNestedItem(e,a):this.parseValue(e[i]):e,t.hasOwnProperty("callback")&&(n=this.getValueFromCallback(n,t.callback)),n},valueReformattedForMultilines:function(t){return"string"==typeof t?t.replace(/\n/gi,"<br/>"):t},preprocessLongNum:function(t){if(this.stringifyLongNum){if(String(t).startsWith("0x"))return t;if(!isNaN(t)&&""!=t&&(t>99999999999||t<1e-13))return'="'+t+'"'}return t},getValueFromNestedItem:function(t,e){var i,a=t,n=u(e);try{for(n.s();!(i=n.n()).done;){var r=i.value;a&&(a=a[r])}}catch(s){n.e(s)}finally{n.f()}return this.parseValue(a)},getValueFromCallback:function(t,e){if("function"!==typeof e)return this.defaultValue;var i=e(t);return this.parseValue(i)},parseValue:function(t){return t||0===t||"boolean"===typeof t?t:this.defaultValue},base64ToBlob:function(t,e){var i=window.btoa(window.unescape(encodeURIComponent(t))),a=atob(i),n=a.length,r=new Uint8ClampedArray(n);while(n--)r[n]=a.charCodeAt(n);return new Blob([r],{type:e})}}};e.default=l},e914:function(t,e,i){"use strict";i.r(e);var a=i("f50b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},e91d:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[i("text",{staticClass:t._$s(2,"sc","uni-dialog-title-text"),class:t._$s(2,"c",["uni-popup__"+t.dialogType]),attrs:{_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.titleText)))])]),t._$s(3,"i","base"===t.mode)?i("view",{staticClass:t._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[t._t("default",[i("text",{staticClass:t._$s(5,"sc","uni-dialog-content-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.content)))])],{_i:4})],2):i("view",{staticClass:t._$s(6,"sc","uni-dialog-content"),attrs:{_i:6}},[t._t("default",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:t._$s(8,"sc","uni-dialog-input"),attrs:{placeholder:t._$s(8,"a-placeholder",t.placeholderText),focus:t._$s(8,"a-focus",t.focus),_i:8},domProps:{value:t._$s(8,"v-model",t.val)},on:{input:function(e){e.target.composing||(t.val=e.target.value)}}})],{_i:7})],2),i("view",{staticClass:t._$s(9,"sc","uni-dialog-button-group"),attrs:{_i:9}},[i("view",{staticClass:t._$s(10,"sc","uni-dialog-button"),attrs:{_i:10},on:{click:t.closeDialog}},[i("text",{staticClass:t._$s(11,"sc","uni-dialog-button-text"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.closeText)))])]),i("view",{staticClass:t._$s(12,"sc","uni-dialog-button uni-border-left"),attrs:{_i:12},on:{click:t.onOk}},[i("text",{staticClass:t._$s(13,"sc","uni-dialog-button-text uni-button-color"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.okText)))])])])])},n=[]},e940:function(t,e,i){"use strict";i.r(e);var a=i("5aee"),n=i("8526");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e97c:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("9523")),o=n(i("c973")),u=n(i("2543")),c=i("f7f2");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=t.database(),h=(f.collection("uni-id-users"),{computed:{agreements:function(){if(!u.default.agreements)return[];var t=u.default.agreements,e=t.serviceUrl,i=t.privacyUrl;return[{url:e,title:"\u7528\u6237\u670d\u52a1\u534f\u8bae"},{url:i,title:"\u9690\u79c1\u653f\u7b56\u6761\u6b3e"}]},agree:{get:function(){return this.getParentComponent().agree},set:function(t){return this.getParentComponent().agree=t}}},data:function(){return{servicesList:[{id:"username",text:"\u8d26\u53f7\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/user.png",path:"/uni_modules/uni-id-pages/pages/login/login-withpwd"},{id:"smsCode",text:"\u77ed\u4fe1\u9a8c\u8bc1\u7801",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/sms.png",path:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=smsCode"},{id:"weixin",text:"\u5fae\u4fe1\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/weixin.png"},{id:"apple",text:"\u82f9\u679c\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/apple.png"},{id:"univerify",text:"\u4e00\u952e\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/univerify.png"},{id:"taobao",text:"\u6dd8\u5b9d\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/taobao.png"},{id:"facebook",text:"\u8138\u4e66\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/facebook.png"},{id:"alipay",text:"\u652f\u4ed8\u5b9d\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/alipay.png"},{id:"qq",text:"QQ\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/qq.png"},{id:"google",text:"\u8c37\u6b4c\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/google.png"},{id:"douyin",text:"\u6296\u97f3\u767b\u5f55",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/douyin.png"},{id:"sinaweibo",text:"\u65b0\u6d6a\u5fae\u535a",logo:"/uni_modules/uni-id-pages/static/uni-fab-login/sinaweibo.png"}],univerifyStyle:{fullScreen:!0,backgroundColor:"#ffffff",buttons:{iconWidth:"45px",list:[]},privacyTerms:{defaultCheckBoxState:!1,textColor:"#BBBBBB",termsColor:"#5496E3",prefix:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f",suffix:"\u5e76\u4f7f\u7528\u672c\u673a\u53f7\u7801\u767b\u5f55",privacyItems:[]}}}},watch:{agree:function(t){this.univerifyStyle.privacyTerms.defaultCheckBoxState=t}},created:function(){var t=this;return(0,o.default)(r.default.mark((function e(){var i,a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.servicesList,a=u.default.loginTypes,i=i.filter((function(t){return("apple"!=t.id||"ios"==uni.getSystemInfoSync().osName)&&a.includes(t.id)})),a.includes("univerify")&&(t.univerifyStyle.privacyTerms.privacyItems=t.agreements,i.forEach((function(e){var i=e.id,a=e.logo,n=e.path;"univerify"!=i&&t.univerifyStyle.buttons.list.push({iconPath:a,provider:i,path:n})}))),t.servicesList=i.filter((function(e){var i=e.path?e.path.split("?")[0]:"";return i!=t.getRoute(1)}));case 5:case"end":return e.stop()}}),e)})))()},methods:{getParentComponent:function(){return this.$parent},setUserInfo:function(t){},getRoute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=getCurrentPages();return t>e.length?"":"/"+e[e.length-t].route},navigateTo:function(t){if(this.getRoute(1)==t.split("?")[0]&&"/uni_modules/uni-id-pages/pages/login/login-withoutpwd"==this.getRoute(1)){var e=t.split("?")[1].split("=")[1];uni.$emit("uni-id-pages-set-login-type",e)}else this.getRoute(2)==t?uni.navigateBack():this.getRoute(1)!=t&&uni.navigateTo({url:t,animationType:"slide-in-left",complete:function(t){}})},login_before:function(t){var e=arguments,i=this;return(0,o.default)(r.default.mark((function a(){var n,s,c,l,d,f,h,p,m;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=!(e.length>1&&void 0!==e[1])||e[1],c=e.length>2&&void 0!==e[2]?e[2]:{},!["qq","xiaomi","sinaweibo","taobao","facebook","google","alipay","douyin"].includes(t)){a.next=5;break}return a.abrupt("return",uni.showToast({title:"\u8be5\u767b\u5f55\u65b9\u5f0f\u6682\u672a\u5b9e\u73b0\uff0c\u6b22\u8fce\u63d0\u4ea4pr",icon:"none",duration:3e3}));case 5:return l=!0,a.next=8,new Promise((function(e){plus.oauth.getServices((function(i){var a=i.findIndex((function(e){return e.id==t}));if(-1==a)return uni.showToast({title:"\u5f53\u524d\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u767b\u5f55\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",icon:"none",duration:3e3});l=i[a].nativeClient,e()}),(function(t){throw new Error("\u83b7\u53d6\u670d\u52a1\u4f9b\u5e94\u5546\u5931\u8d25\uff1a"+JSON.stringify(t))}))}));case 8:if(l){a.next=10;break}return a.abrupt("return",uni.showToast({title:"\u5f53\u524d\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u767b\u5f55\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",icon:"none",duration:3e3}));case 10:if(d=((null===u.default||void 0===u.default||null===(n=u.default.agreements)||void 0===n?void 0:n.scope)||[]).includes("register"),"univerify"==t||!d||i.agree){a.next=14;break}return f=i.getParentComponent().$refs.agreements,a.abrupt("return",f.popup((function(){i.login_before(t,s,c)})));case 14:if(uni.showLoading({mask:!0}),"univerify"!=t){a.next=21;break}return h=function(){uni.hideLoading(),p.close(),p.offButtonsClick(m)},p=uni.getUniverifyManager(),m=function(){var t=(0,o.default)(r.default.mark((function t(e){var a,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uni.getCheckBoxState();case 2:a=t.sent[1].state,i.agree=a,n=i.univerifyStyle.buttons.list[e.index].path,n?(i.navigateTo(n),h()):a?(h(),setTimeout((function(){i.login_before(e.provider)}),500)):uni.showToast({title:"\u4f60\u672a\u540c\u610f\u9690\u79c1\u653f\u7b56\u534f\u8bae",icon:"none",duration:3e3});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p.onButtonsClick(m),a.abrupt("return",p.login({univerifyStyle:i.univerifyStyle,success:function(t){i.login(t.authResult,"univerify")},fail:function(t){uni.showToast({title:JSON.stringify(t),icon:"none",duration:3e3})},complete:function(){var t=(0,o.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.hideLoading(),t.next=3,uni.getCheckBoxState();case 3:i.agree=t.sent[1].state,p.offButtonsClick(m);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));case 21:if("weixinMobile"!==t){a.next=23;break}return a.abrupt("return",i.login({phoneCode:c.phoneNumberCode},t));case 23:uni.login({provider:t,onlyAuthorize:!0,univerifyStyle:i.univerifyStyle,success:function(){var e=(0,o.default)(r.default.mark((function e(a){var n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("apple"!=t){e.next=6;break}return e.next=3,i.getUserInfo({provider:"apple"});case 3:n=e.sent,Object.assign(a.authResult,n.userInfo),uni.hideLoading();case 6:i.login("weixin"==t?{code:a.code}:a.authResult,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fail:function(){var t=(0,o.default)(r.default.mark((function t(e){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.hideLoading();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 24:case"end":return a.stop()}}),a)})))()},login:function(e,i){var a="loginBy"+i.trim().replace(i[0],i[0].toUpperCase()),n=t.importObject("uni-id-co",{customUI:!0});n[a](e).then((function(t){uni.showToast({title:"\u767b\u5f55\u6210\u529f",icon:"none",duration:2e3}),c.mutations.loginSuccess(t)})).catch((function(t){uni.showModal({content:t.message,confirmText:"\u77e5\u9053\u4e86",showCancel:!1})})).finally((function(t){"univerify"==i&&uni.closeAuthView(),uni.hideLoading()}))},doUserProfileNext:function(){try{c.mutations.loginSuccess()}catch(t){}},getUserInfo:function(t){return(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){uni.getUserInfo(d(d({},t),{},{success:function(t){e(t)},fail:function(t){uni.showModal({content:JSON.stringify(t),showCancel:!1}),i(t)}}))})));case 1:case"end":return e.stop()}}),e)})))()}}});e.default=h}).call(this,i("a9ff")["default"],i("0de9")["default"])},e98e:function(t,e,i){"use strict";i.r(e);var a=i("3d28"),n=i("9aed");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},e9be:function(t){t.exports=JSON.parse('{"login":{"text":{"title":"System Login","prompt":"If there is no administrator account, please create an administrator first..."},"field":{"username":"Account","password":"Password","captcha":"Captcha"},"button":{"login":"Log In"}},"topwindow":{"text":{"doc":"Admin doc","plugin":"More admin plugin","changeLanguage":"Language","changePwd":"ChangePwd","signOut":"Sign out"}},"index":{"text":{"prompt":"Main content, customizable content and style","vesion":"The current version can be viewed in the console and package.json"}},"updatePwd":{"text":{"title":"Change Password"},"field":{"oldPassword":"Old password","newPassword":"New password","passwordConfirmation":"Confirm password"},"button":{"save":"Save","back":"Back"}},"common":{"placeholder":{"query":"Enter search content"},"button":{"search":"Search","add":"Add","edit":"Edit","delete":"Delete","batchDelete":"Batch Delete","exportExcel":"Export Excel","submit":"Submit","back":"Back","tagManager":"Tag Manager","publish":"Publish page management","version":"version manager"},"empty":"No more data","piecePerPage":"piece/page"},"user":{"text":{"userManager":"Users Manager"}},"role":{"text":{"roleManager":"Roles Manager"}},"permission":{"text":{"permissionManager":"Permissions Manager"}},"app":{"text":{"appManager":"App Manager","describle":"Manage the apps that users can login"}},"menu":{"text":{"menuManager":"Menus Manager","additiveMenu":"Additive Menu"},"button":{"addFirstLevelMenu":"Add First-level Menu","addChildMenu":"Submenu"}},"demo":{"icons":{"title":"Icons","describle":"Click icons to copy the icon code"},"table":{"title":"Table"}}}')},ea5e:function(t,e,i){"use strict";i.r(e);var a=i("e5a4"),n=i("c826");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"42ecd194",null,!1,a["a"],void 0);e["default"]=o.exports},eae6:function(t,e,i){"use strict";i.r(e);var a=i("c8f8"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},eb0a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"TableCheckbox",emits:["checkboxSelected"],props:{indeterminate:{type:Boolean,default:!1},checked:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1},index:{type:Number,default:-1},cellData:{type:Object,default:function(){return{}}}},watch:{checked:function(t){"boolean"===typeof this.checked?this.isChecked=t:this.isChecked=!0},indeterminate:function(t){this.isIndeterminate=t}},data:function(){return{isChecked:!1,isDisabled:!1,isIndeterminate:!1}},created:function(){"boolean"===typeof this.checked&&(this.isChecked=this.checked),this.isDisabled=this.disabled},methods:{selected:function(){this.isDisabled||(this.isIndeterminate=!1,this.isChecked=!this.isChecked,this.$emit("checkboxSelected",{checked:this.isChecked,data:this.cellData}))}}};e.default=a},eb26:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{weeks:{type:Object,default:function(){return{}}},calendar:{type:Object,default:function(){return{}}},selected:{type:Array,default:function(){return[]}},lunar:{type:Boolean,default:!1},checkHover:{type:Boolean,default:!1}},methods:{choiceDate:function(t){this.$emit("change",t)},handleMousemove:function(t){this.$emit("handleMouse",t)}}};e.default=a},eb4d:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={fixWindow:i("3a9b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","uni-header"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","uni-group"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-title"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.$t("demo.icons.title"))))]),i("view",{staticClass:t._$s(4,"sc","uni-sub-title"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.$t("demo.icons.describle"))))])])]),i("view",{staticClass:t._$s(5,"sc","uni-container"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","icons"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:t.icons}),(function(e,a,n,r){return i("view",{key:t._$s(7,"f",{forIndex:n,key:a}),staticClass:t._$s("7-"+r,"sc","icon-item pointer"),attrs:{_i:"7-"+r}},[i("view",{class:t._$s("8-"+r,"c","uni-icons-"+e),attrs:{_i:"8-"+r},on:{click:function(i){return t.setClipboardData("tag",e)}}}),i("text",{staticClass:t._$s("9-"+r,"sc","icon-text"),attrs:{_i:"9-"+r},on:{click:function(i){return t.setClipboardData("class",e)}}},[t._v(t._$s("9-"+r,"t0-0",t._s(e)))])])})),0)]),t._$s(10,"i",t.fixWindow)?i("fix-window",{attrs:{_i:10}}):t._e()],1)},r=[]},ebe3:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),s=n(i("448a")),o=n(i("9523")),u=n(i("c973")),c=i("5ef8"),l=i("0cdb"),d=n(i("e940")),f=n(i("b151"));function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={name:"uniFilePicker",components:{uploadImage:d.default,uploadFile:f.default},options:{virtualHost:!0},emits:["select","success","fail","progress","delete","update:modelValue","input"],props:{value:{type:[Array,Object],default:function(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},delIcon:{type:Boolean,default:!0},autoUpload:{type:Boolean,default:!0},limit:{type:[Number,String],default:9},mode:{type:String,default:"grid"},fileMediatype:{type:String,default:"image"},fileExtname:{type:[Array,String],default:function(){return[]}},title:{type:String,default:""},listStyles:{type:Object,default:function(){return{border:!0,dividline:!0,borderStyle:{}}}},imageStyles:{type:Object,default:function(){return{width:"auto",height:"auto"}}},readonly:{type:Boolean,default:!1},returnType:{type:String,default:"array"},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}}},data:function(){return{files:[],localValue:[]}},watch:{value:{handler:function(t,e){this.setValue(t,e)},immediate:!0}},computed:{filesList:function(){var t=[];return this.files.forEach((function(e){t.push(e)})),t},showType:function(){return"image"===this.fileMediatype?this.mode:"list"},limitLength:function(){return"object"===this.returnType?1:this.limit?this.limit>=9?9:this.limit:1}},created:function(){t.config&&t.config.provider||(this.noSpace=!0,t.chooseAndUploadFile=c.chooseAndUploadFile),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.rename=this.formItem.name,this.form.inputChildrens.push(this))},methods:{clearFiles:function(t){var e=this;0===t||t?this.files.splice(t,1):(this.files=[],this.$nextTick((function(){e.setEmit()}))),this.$nextTick((function(){e.setEmit()}))},upload:function(){var t=[];return this.files.forEach((function(e,i){"ready"!==e.status&&"error"!==e.status||t.push(Object.assign({},e))})),this.uploadFiles(t)},setValue:function(t,e){var i=this;return(0,u.default)(r.default.mark((function e(){var a,n,s,o;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=function(){var t=(0,u.default)(r.default.mark((function t(e){var a,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=/cloud:\/\/([\w.]+\/?)\S*/,n="",n=e.fileID?e.fileID:e.url,!a.test(n)){t.next=8;break}return e.fileID=n,t.next=7,i.getTempFileURL(n);case 7:e.url=t.sent;case 8:return e.url&&(e.path=e.url),t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),"object"!==i.returnType){e.next=10;break}if(!t){e.next=7;break}return e.next=5,a(t);case 5:e.next=8;break;case 7:t={};case 8:e.next=19;break;case 10:t||(t=[]),n=0;case 12:if(!(n<t.length)){e.next=19;break}return s=t[n],e.next=16,a(s);case 16:n++,e.next=12;break;case 19:i.localValue=t,i.form&&i.formItem&&!i.is_reset&&(i.is_reset=!1,i.formItem.setValue(i.localValue)),o=Object.keys(t).length>0?t:[],i.files=[].concat(o);case 23:case"end":return e.stop()}}),e)})))()},choose:function(){this.disabled||(this.files.length>=Number(this.limitLength)&&"grid"!==this.showType&&"array"===this.returnType?uni.showToast({title:"\u60a8\u6700\u591a\u9009\u62e9 ".concat(this.limitLength," \u4e2a\u6587\u4ef6"),icon:"none"}):this.chooseFiles())},chooseFiles:function(){var e=this,i=(0,l.get_extname)(this.fileExtname);t.chooseAndUploadFile({type:this.fileMediatype,compressed:!1,sizeType:this.sizeType,sourceType:this.sourceType,extension:i.length>0?i:void 0,count:this.limitLength-this.files.length,onChooseFile:this.chooseFileCallback,onUploadProgress:function(t){e.setProgress(t,t.index)}}).then((function(t){e.setSuccessAndError(t.tempFiles)})).catch((function(t){e.$emit("fail")}))},chooseFileCallback:function(t){var e=this;return(0,u.default)(r.default.mark((function i(){var a,n,s,o,u,c,d,f;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=(0,l.get_extname)(e.fileExtname),n=1===Number(e.limitLength)&&e.disablePreview&&!e.disabled||"object"===e.returnType,n&&(e.files=[]),s=(0,l.get_files_and_is_max)(t,a),o=s.filePaths,u=s.files,a&&a.length>0||(o=t.tempFilePaths,u=t.tempFiles),c=[],d=0;case 7:if(!(d<u.length)){i.next=21;break}if(!(e.limitLength-e.files.length<=0)){i.next=10;break}return i.abrupt("break",21);case 10:return u[d].uuid=Date.now(),i.next=13,(0,l.get_file_data)(u[d],e.fileMediatype);case 13:f=i.sent,f.progress=0,f.status="ready",e.files.push(f),c.push(p(p({},f),{},{file:u[d]}));case 18:d++,i.next=7;break;case 21:e.$emit("select",{tempFiles:c,tempFilePaths:o}),t.tempFiles=u,e.autoUpload&&!e.noSpace||(t.tempFiles=[]);case 24:case"end":return i.stop()}}),i)})))()},uploadFiles:function(t){var e=this;return t=[].concat(t),c.uploadCloudFiles.call(this,t,5,(function(t){e.setProgress(t,t.index,!0)})).then((function(t){return e.setSuccessAndError(t),t})).catch((function(t){}))},setSuccessAndError:function(t,e){var i=this;return(0,u.default)(r.default.mark((function e(){var a,n,s,o,u,c,l;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=[],n=[],s=[],o=[],u=r.default.mark((function e(u){var c,l,d;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=t[u],l=c.uuid?i.files.findIndex((function(t){return t.uuid===c.uuid})):c.index,-1!==l&&i.files){e.next=4;break}return e.abrupt("return","break");case 4:if("request:fail"!==c.errMsg){e.next=12;break}i.files[l].url=c.path,i.files[l].status="error",i.files[l].errMsg=c.errMsg,n.push(i.files[l]),o.push(i.files[l].url),e.next=26;break;case 12:if(i.files[l].errMsg="",i.files[l].fileID=c.url,d=/cloud:\/\/([\w.]+\/?)\S*/,!d.test(c.url)){e.next=21;break}return e.next=18,i.getTempFileURL(c.url);case 18:i.files[l].url=e.sent,e.next=22;break;case 21:i.files[l].url=c.url;case 22:i.files[l].status="success",i.files[l].progress+=1,a.push(i.files[l]),s.push(i.files[l].fileID);case 26:case"end":return e.stop()}}),e)})),c=0;case 6:if(!(c<t.length)){e.next=14;break}return e.delegateYield(u(c),"t0",8);case 8:if(l=e.t0,"break"!==l){e.next=11;break}return e.abrupt("break",14);case 11:c++,e.next=6;break;case 14:a.length>0&&(i.setEmit(),i.$emit("success",{tempFiles:i.backObject(a),tempFilePaths:s})),n.length>0&&i.$emit("fail",{tempFiles:i.backObject(n),tempFilePaths:o});case 16:case"end":return e.stop()}}),e)})))()},setProgress:function(t,e,i){this.files.length;var a=Math.round(100*t.loaded/t.total),n=e;i||(n=this.files.findIndex((function(e){return e.uuid===t.tempFile.uuid}))),-1!==n&&this.files[n]&&(this.files[n].progress=a-1,this.$emit("progress",{index:n,progress:parseInt(a),tempFile:this.files[n]}))},delFile:function(t){var e=this;this.$emit("delete",{tempFile:this.files[t],tempFilePath:this.files[t].url}),this.files.splice(t,1),this.$nextTick((function(){e.setEmit()}))},getFileExt:function(t){var e=t.lastIndexOf("."),i=t.length;return{name:t.substring(0,e),ext:t.substring(e+1,i)}},setEmit:function(){var t=[];"object"===this.returnType?(t=this.backObject(this.files)[0],this.localValue=t||null):(t=this.backObject(this.files),this.localValue||(this.localValue=[]),this.localValue=(0,s.default)(t)),this.$emit("input",this.localValue)},backObject:function(t){var e=[];return t.forEach((function(t){e.push({extname:t.extname,fileType:t.fileType,image:t.image,name:t.name,path:t.path,size:t.size,fileID:t.fileID,url:t.url})})),e},getTempFileURL:function(e){return(0,u.default)(r.default.mark((function i(){var a;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e={fileList:[].concat(e)},i.next=3,t.getTempFileURL(e);case 3:return a=i.sent,i.abrupt("return",a.fileList[0].tempFileURL||"");case 5:case"end":return i.stop()}}),i)})))()},getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniForms",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};e.default=m}).call(this,i("a9ff")["default"],i("0de9")["default"])},ec2d:function(t,e,i){"use strict";i.r(e);var a=i("f5df"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},ec57:function(t,e,i){"use strict";i.r(e);var a=i("7da1"),n=i("5877");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},ecb7:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=a(i("1b03"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}var o=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{minLength:3,maxLength:32,errorMessage:"\u7528\u6237\u540d\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,i,a){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&a("\u7528\u6237\u540d\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&a("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),/[\u4E00-\u9FA5\uF900-\uFA2D]{1,}/.test(e)&&a("\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u4e2d\u6587"),!0}}],label:"\u7528\u6237\u540d"},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,i,a){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&a("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&a("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"}},r.default.getPwdRules());e.default=o},ed1b:function(t,e,i){"use strict";i.r(e);var a=i("e3dd"),n=i("d3aa");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},ed6d:function(t,e,i){var a=i("4a4b");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},ee11:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("f904");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){return{showPassword:!1,formData:{username:"",nickname:"",password:void 0,role:[],tags:[],authorizedApp:[],mobile:void 0,email:void 0,status:!1},rules:o(o({},c(["username","password","role","mobile","email"])),{},{status:{rules:[{format:"bool"}]}}),roles:[],userId:"",appList:[],unknownAppids:[]}},onLoad:function(t){var e=t.id;this.formDataId=e;var i=uni.getStorageSync("uni-id-pages-userInfo")||{};this.userId=i._id,this.getDetail(e),this.loadroles()},methods:{gotoAppList:function(){uni.navigateTo({url:"../app/list"})},gotoTagList:function(){uni.navigateTo({url:"../tag/list"})},gotoTagAdd:function(){var t=this;uni.navigateTo({url:"../tag/add",events:{refreshCheckboxData:function(){t.$refs.checkboxTags.loadData()}}})},trigger:function(){this.showPassword=!this.showPassword},submitForm:function(t){this.$refs.form.submit()},submit:function(t){var e=this,i=t.detail,a=i.value,n=i.errors;n||(uni.showLoading({title:"\u4fee\u6539\u4e2d...",mask:!0}),"boolean"===typeof a.status&&(a.status=Number(!a.status)),a.uid=this.formDataId,this.$request("updateUser",a).then((function(){uni.showToast({title:"\u4fee\u6539\u6210\u529f"});var t=e.getOpenerEventChannel();t.emit&&t.emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(t){uni.hideLoading()})))},resetPWd:function(t){this.$request("system/user/resetPwd",t).then().catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally()},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-users").doc(t).field("username,nickname,role,dcloud_appid as authorizedApp,tags,mobile,email,status").get().then((function(t){var i=t.result.data[0];i&&(void 0===i.status&&(i.status=!0),0===i.status&&(i.status=!0),1===i.status&&(i.status=!1),e.formData=Object.assign(e.formData,i),e.loadAppList(e.formData.authorizedApp))})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))},loadroles:function(){var t=this;u.collection("uni-id-roles").limit(500).get().then((function(e){var i=[];t.roles=e.result.data.map((function(t){return i.push(t.role_id),{value:t.role_id,text:t.role_name}})),-1===i.indexOf("admin")&&t.roles.unshift({value:"admin",text:"\u8d85\u7ea7\u7ba1\u7406\u5458"})})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},loadAppList:function(t){var e=this;u.collection("opendb-app-list").limit(500).get().then((function(i){var a=i.result.data.map((function(t,e){return{value:t.appid,text:t.name}}));a||(a=[]),t.map((function(t){var i=a.find((function(e){return e.value===t}));i||(e.unknownAppids.push(t),a.push({value:t,text:"\u672a\u77e5\u5e94\u7528".concat(t)}))})),e.appList=a})).catch((function(t){uni.showModal({title:"\u63d0\u793a",content:t.message,showCancel:!1})}))},parseUserStatus:function(t){return 0===t?"\u542f\u7528":1===t?"\u7981\u7528":2===t?"\u5ba1\u6838\u4e2d":3===t?"\u5ba1\u6838\u62d2\u7edd":"\u542f\u7528"}},computed:{unknownAppidsCom:function(){var t=this,e="";return this.unknownAppids.map((function(i,a){e+=i,a!==t.unknownAppids.length-1&&(e+="\u3001")})),e}}};e.default=l}).call(this,i("a9ff")["default"])},eeaa:function(t,e,i){"use strict";i.r(e);var a=i("3eef"),n=i("546f");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},eeb1:function(t,e,i){"use strict";i.r(e);var a=i("2dc6"),n=i("fb2f");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"67fbca4c",null,!1,a["a"],void 0);e["default"]=o.exports},eee3:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),s=i("06ce"),o=i("0a9b");function u(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var l=o.fieldsMap.filter((function(t){return t.hasOwnProperty("value")})),d={data:function(){return{tableName:"uni-stat-result",fieldsMap:o.fieldsMap,resFieldsMap:o.resFieldsMap,entFieldsMap:o.entFieldsMap,query:{dimension:"hour",appid:"",version_id:"",platform_id:"",uni_platform:"",start_time:[],channel_id:""},options:{pageCurrent:1,total:0,pageSizeIndex:0,pageSizeRange:[10,20,50,100]},errorMessage:"",loading:!1,currentDateTab:2,chartTab:"new_user_count",tableData:[],resTableData:[],entTableData:[],panelData:l,chartData:{},eopts:{seriesTemplate:[{itemStyle:{borderWidth:2,borderColor:"#1890FF",color:"#1890FF"},areaStyle:{color:{colorStops:[{offset:0,color:"#1890FF"},{offset:1,color:"#FFFFFF"}]}}},{lineStyle:{color:"#ea7ccc",width:2,type:"dashed"},itemStyle:{borderWidth:1,borderColor:"#ea7ccc",color:"#ea7ccc"},areaStyle:null}]},tabIndex:0,tabName:"\u65b0\u589e\u8bbe\u5907"}},onLoad:function(t){var e=t.appid;e&&(this.query.appid=e)},computed:{pageSize:function(){var t=this.options,e=t.pageSizeRange,i=t.pageSizeIndex;return e[i]},chartTabs:function(){var t=[];return o.fieldsMap.forEach((function(e){var i=e.field,a=e.title;i&&a&&t.push({_id:i,name:a})})),t},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,s.stringifyQuery)({appid:e,uni_platform:i});return a},channelQuery:function(){var t=this.query,e=t.appid,i=t.platform_id,a=(0,s.stringifyQuery)({appid:e,platform_id:i});return a}},created:function(){var t=this;this.debounceGet=(0,s.debounce)((function(){t.getAllData(t.query)}),300)},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=null},changePlatform:function(t,e,i,a){this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,s.getTimeOfSomeDayAgo)(t),a=t?(0,s.getTimeOfSomeDayAgo)(0)-1:(0,s.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getChartData(this.query)},changePageSize:function(t){var e=t.detail.value;this.options.pageCurrent=1,this.options.pageSizeIndex=e,this.getChartData(this.query)},changeChartTab:function(t,e,i){this.tabIndex=e,this.tabName=i,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getPanelData(),this.getChartData(t),this.getPageData(t,"res"),this.getPageData(t,"ent")):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getDays:function(){if(!this.query.start_time.length)return!0;var t=(0,r.default)(this.query.start_time,2),e=t[0],i=t[1],a=i-e>=864e5;return a},getPanelData:function(){var e=this,i=this.query,a=i.appid,n=i.platform_id,r=i.version_id,u=i.channel_id,c=(0,s.stringifyQuery)({appid:a,platform_id:n,version_id:r,channel_id:u,start_time:[(0,s.getTimeOfSomeDayAgo)(1),(new Date).getTime()]}),l=t.database();l.collection(this.tableName).where(c).field("".concat((0,s.stringifyField)(o.fieldsMap),",dimension,stat_date")).groupBy("stat_date, dimension").groupField((0,s.stringifyGroupField)(o.fieldsMap)).orderBy("stat_date","desc").get().then((function(t){var i=t.result.data,a=i.find((function(t){return t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(0),"","")}))||{};a.total_devices=0;var n=i.find((function(t){return"day"===t.dimension&&t.stat_date===(0,s.parseDateTime)((0,s.getTimeOfSomeDayAgo)(1),"","")}));e.panelData=[],e.panelData=(0,s.mapfields)(o.fieldsMap,a),e.panelData.map((function(t){(0,s.mapfields)(o.fieldsMap,n,t,"","contrast")})),s.getFieldTotal.call(e,c)}))},getChartData:function(e){var i,a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartTabs[this.tabIndex]._id,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.chartTabs[this.tabIndex].name,l=(this.options.pageCurrent,this.currentDateTab),d=(0,s.getTimeOfSomeDayAgo)(l),f=864e5;if(!this.getDays()){var h=d-f,p=d+f-1;e=JSON.parse(JSON.stringify(e)),i=e.start_time=[h,p]}e=(0,s.stringifyQuery)(e,!0,["uni_platform"]);var m=t.database();m.collection(this.tableName).where(e).field("".concat((0,s.stringifyField)(o.fieldsMap,n),", start_time")).groupBy("start_time").groupField((0,s.stringifyGroupField)(o.fieldsMap,n)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,l=(e.count,e.data),f={categories:[],series:[{name:c,data:[]}]},h=o.fieldsMap.filter((function(t){return t.field===n}));if(h=JSON.parse(JSON.stringify(h)),delete h[0].value,h[0].formatter="",a.getDays()){var p,m=u(l);try{for(m.s();!(p=m.n()).done;){var g=p.value;(0,s.mapfields)(h,g,g);var _=(0,s.formatDate)(g.start_time,"day"),v=Number(g[n]);f.series[0].data.push(v),f.categories.push(_)}}catch(b){m.e(b)}finally{m.f()}}else(function(){for(var t=i,e=(0,r.default)(t,2),a=e[0],o=e[1],u=f.series[1]={name:(0,s.formatDate)(a),data:[]},c=f.series[0]={name:(0,s.formatDate)(o),data:[]},p=function(t){var e=t<10?"0"+t:t,i="".concat(e,":00 ~ ").concat(e,":59");f.categories.push(i),u.data[t]=0,c.data[t]=0,l.forEach((function(e){(0,s.mapfields)(h,e,e);var i=Number(e[n]),a=new Date(e.start_time);e.start_time<d?a.getHours()===t&&(u.data[t]=i):a.getHours()===t&&(c.data[t]=i)}))},m=0;m<24;++m)p(m)})();a.chartData=f})).catch((function(t){})).finally((function(){}))},getAppAccessTimes:function(e){var i=t.database();return i.collection(this.tableName).where(e).groupBy("appid").groupField("sum(page_visit_count) as total_app_access").get()},getPageData:function(e,i){var a=this;e=JSON.parse(JSON.stringify(e)),e.dimension="day",e=(0,s.stringifyQuery)(e,!1,["uni_platform"]);this.options.pageCurrent;var n=this["".concat(i,"FieldsMap")],r=n[1].field;this.loading=!0;var o=t.database(),c=(0,s.stringifyQuery)({appid:this.query.appid}),l=o.collection("uni-stat-pages").where(c).field("_id, title, path").getTemp(),d=o.collection("uni-stat-page-result").where("".concat(e," && ").concat(r," > 0")).getTemp();o.collection(d,l).field("".concat((0,s.stringifyField)(n,r),", stat_date, page_id")).groupBy("page_id").groupField((0,s.stringifyGroupField)(n,r)).orderBy(r,"desc").limit(10).get({getCount:!0}).then((function(t){var r,o=t.result,c=(o.count,o.data);a.getAppAccessTimes(e).then((function(t){var e=t.result.data[0];r=e&&e.total_app_access})).finally((function(){a["".concat(i,"TableData")]=[];var t,e=u(c);try{for(e.s();!(t=e.n()).done;){var o=t.value;o.total_app_access=r;var l=o.page_id;if(Array.isArray(l)){delete o.page_id;var d=l[0];if(d&&Object.keys(d).length)for(var f in d)"_id"!==f&&(o[f]=d[f])}(0,s.mapfields)(n,o,o),a["".concat(i,"TableData")].push(o)}}catch(h){e.e(h)}finally{e.f()}a.loading=!1}))})).catch((function(t){})).finally((function(){}))},navTo:function(t){t&&uni.navigateTo({url:t})}}};e.default=d}).call(this,i("a9ff")["default"],i("0de9")["default"])},ef40:function(t,e,i){"use strict";i.r(e);var a=i("aef7"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},ef9b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniMenuSidebar",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},methods:{}};e.default=a},f070:function(t,e,i){"use strict";i.r(e);var a=i("f98f"),n=i("b630");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},f0c5:function(t,e,i){"use strict";function a(t,e,i,a,n,r,s,o,u,c){var l,d="function"===typeof t?t.options:t;if(u){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in u)f.call(u,h)&&!f.call(d.components,h)&&(d.components[h]=u[h])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(d.mixins||(d.mixins=[])).push(c)),e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(t,e){return l.call(e),p(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:d}}i.d(e,"a",(function(){return a}))},f0d5:function(t,e,i){"use strict";i.r(e);var a=i("e5fb"),n=i("8ad7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"290d4444",null,!1,a["a"],void 0);e["default"]=o.exports},f0e4:function(t,e){t.exports=function(t,e){if(null==t)return{};var i,a,n={},r=Object.keys(t);for(a=0;a<r.length;a++)i=r[a],e.indexOf(i)>=0||(n[i]=t[i]);return n},t.exports.__esModule=!0,t.exports["default"]=t.exports},f1fb:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={cloudImage:i("b4d0").default,uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","box"),class:t._$s(0,"c",{showBorder:t.border}),style:t._$s(0,"s",{width:t.width,height:t.height,lineHeight:t.height}),attrs:{_i:0},on:{click:t.uploadAvatarImg}},[t._$s(1,"i",t.avatar_file)?i("cloud-image",{attrs:{src:t.avatar_file.url,width:t.width,height:t.height,_i:1}}):i("uni-icons",{staticClass:t._$s(2,"sc","chooseAvatar"),style:t._$s(2,"s",{width:t.width,height:t.height,lineHeight:t.height}),attrs:{type:"plusempty",size:"30",color:"#dddddd",_i:2}})],1)},r=[]},f23c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=[{title:"\u540d\u79f0",field:"name",tooltip:"",formatter:""},{title:"\u8bbf\u95ee\u4eba\u6570",field:"visit_users",tooltip:"\u8bbf\u95ee\u4eba\u6570\uff08\u6d3b\u8dc3\u7528\u6237\u6570\uff09\uff1a\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u7684\u603b\u7528\u6237\u6570\uff08\u53bb\u91cd\uff09",value:0},{title:"\u8bbf\u95ee\u4eba\u6570\u5360\u6bd4",field:"visit_users/total_visit_users",computed:"visit_users/total_visit_users",formatter:"%"},{title:"\u8bbf\u95ee\u6b21\u6570",field:"visit_times",tooltip:"\u8bbf\u95ee\u8fc7\u5e94\u7528\u5185\u4efb\u610f\u9875\u9762\u603b\u6b21\u6570\uff0c\u591a\u4e2a\u9875\u9762\u4e4b\u95f4\u8df3\u8f6c\u3001\u540c\u4e00\u9875\u9762\u7684\u91cd\u590d\u8bbf\u95ee\u8ba1\u4e3a\u591a\u6b21\u8bbf\u95ee",value:0},{title:"\u8bbf\u95ee\u6b21\u6570\u5360\u6bd4",field:"visit_times/total_visit_times",computed:"visit_times/total_visit_times",formatter:"%",tooltip:""}]},f28b:function(t,e,i){"use strict";function a(){var t=this.waitingQueue=[],e=this.isRunning=!1;this.exec=function(i){return new Promise((function(a,n){e?t.push({task:i,resolve:a,reject:n}):(e=!0,function i(a,n,r){a().then((function(t){n(t)})).catch((function(t){r(t)})).finally((function(){if(t.length){var a=t.shift();i(a.task,a.resolve,a.reject)}else e=!1}))}(i,a,n))}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.queueLoadImage=e.queueDraw=void 0;var n=new a;e.queueDraw=n;var r=new a;e.queueLoadImage=r},f297:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniMenuItem:i("64b6").default,uniSubMenu:i("b372").default,uniMenuSidebar:i("030e").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","pointer"),attrs:{_i:0}},[t._l(t._$s(1,"f",{forItems:t.data,fill:!0}),(function(e,a,n,r){return[t._$s("2-"+r,"i",!e.children||!e.children.length)?[i("uni-menu-item",{attrs:{index:e,_i:"3-"+r}},[i("view",{class:t._$s("4-"+r,"c",e.icon),attrs:{_i:"4-"+r}}),i("text",{class:t._$s("5-"+r,"c",{title:e.icon}),attrs:{_i:"5-"+r}},[t._v(t._$s("5-"+r,"t0-0",t._s(e.text)))])])]:i("uni-sub-menu",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+r}),attrs:{index:e,_i:"6-"+r},scopedSlots:t._u([{key:"title",fn:function(a,n,s){return[i("view",{class:n._$s("8-"+r+"-"+s,"c",e.icon),attrs:{_i:"8-"+r+"-"+s}}),i("text",{class:n._$s("9-"+r+"-"+s,"c",{title:e.icon}),attrs:{_i:"9-"+r+"-"+s}},[t._v(n._$s("9-"+r+"-"+s,"t0-0",t._s(e.text)))])]}}],null,!0)},[i("uni-menu-sidebar",{key:t._$s("10-"+r,"a-key",e._id),staticClass:t._$s("10-"+r,"sc","item-bg"),attrs:{data:e.children,_i:"10-"+r}})],1)]}))],2)},r=[]},f33b:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={appid:{rules:[{format:"string"}]},version:{rules:[{format:"string"}]},platform:{rules:[{format:"string"}]},channel:{rules:[{format:"string"}]},sdk_version:{rules:[{format:"string"}]},device_id:{rules:[{format:"string"}]},device_net:{rules:[{format:"string"}]},device_os:{rules:[{format:"string"}]},device_os_version:{rules:[{format:"string"}]},device_vendor:{rules:[{format:"string"}]},device_model:{rules:[{format:"string"}]},device_is_root:{rules:[{format:"int"}]},device_os_name:{rules:[{format:"string"}]},device_batt_level:{rules:[{format:"int"}]},device_batt_temp:{rules:[{format:"string"}]},device_memory_use_size:{rules:[{format:"int"}]},device_memory_total_size:{rules:[{format:"int"}]},device_disk_use_size:{rules:[{format:"int"}]},device_disk_total_size:{rules:[{format:"int"}]},device_abis:{rules:[{format:"string"}]},app_count:{rules:[{format:"int"}]},app_use_memory_size:{rules:[{format:"int"}]},app_webview_count:{rules:[{format:"int"}]},app_use_duration:{rules:[{format:"int"}]},app_run_fore:{rules:[{format:"int"}]},package_name:{rules:[{format:"string"}]},package_version:{rules:[{format:"string"}]},page_url:{rules:[{format:"string"}]},error_msg:{rules:[{format:"string"}]},create_time:{rules:[{format:"timestamp"}]}};e.enumConverter={}},f394:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniForms:i("074f").default,uniFormsItem:i("6630").default,uniEasyinput:i("fe49").default,uniDataCheckbox:i("61f3").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-container"),attrs:{_i:0}},[i("uni-forms",{ref:"form",attrs:{rules:t.rules,validateTrigger:"bind",_i:1},on:{submit:t.submit},model:{value:t._$s(1,"v-model",t.formData),callback:function(e){t.formData=e},expression:"formData"}},[i("uni-forms-item",{attrs:{name:"username",label:"\u7528\u6237\u540d",required:!0,_i:2}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",_i:3},model:{value:t._$s(3,"v-model",t.formData.username),callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),i("uni-forms-item",{attrs:{name:"nickname",label:"\u7528\u6237\u6635\u79f0",required:!0,_i:4}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u6635\u79f0",_i:5},model:{value:t._$s(5,"v-model",t.formData.nickname),callback:function(e){t.$set(t.formData,"nickname",e)},expression:"formData.nickname"}})],1),t._$s(6,"i",t.showPassword)?i("uni-forms-item",{key:"password",attrs:{name:"password",label:"\u91cd\u7f6e\u5bc6\u7801",_i:6}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u91cd\u7f6e\u5bc6\u7801",_i:7},model:{value:t._$s(7,"v-model",t.formData.password),callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[i("view",{staticClass:t._$s(8,"sc","cancel-reset-password-btn"),attrs:{_i:8},on:{click:t.trigger},slot:"right"})])],1):i("uni-forms-item",{attrs:{label:"\u91cd\u7f6e\u5bc6\u7801",_i:9}},[i("span",{staticClass:t._$s(10,"sc","reset-password-btn"),attrs:{_i:10},on:{click:t.trigger}})]),i("uni-forms-item",{staticClass:t._$s(11,"sc","flex-center-x"),attrs:{name:"role",label:"\u89d2\u8272\u5217\u8868",_i:11}},[i("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.roles,_i:12},model:{value:t._$s(12,"v-model",t.formData.role),callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}})],1),i("uni-forms-item",{staticClass:t._$s(13,"sc","flex-center-x"),attrs:{name:"tags",label:"\u7528\u6237\u6807\u7b7e",labelWidth:"100",_i:13}},[i("uni-data-checkbox",{ref:"checkboxTags",attrs:{multiple:!0,collection:"uni-id-tag",field:"tagid as value, name as text",_i:14},model:{value:t._$s(14,"v-model",t.formData.tags),callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}}),i("span",{staticClass:t._$s(15,"sc","link-btn"),attrs:{_i:15},on:{click:t.gotoTagAdd}}),i("span",{staticClass:t._$s(16,"sc","link-btn"),attrs:{_i:16},on:{click:t.gotoTagList}})],1),i("uni-forms-item",{attrs:{name:"authorizedApp",label:"\u53ef\u767b\u5f55\u5e94\u7528",_i:17}},[i("view",{staticClass:t._$s(18,"sc","uni-forms-item-flex-center-x"),attrs:{_i:18}},[i("uni-data-checkbox",{attrs:{multiple:!0,localdata:t.appList,_i:19},model:{value:t._$s(19,"v-model",t.formData.authorizedApp),callback:function(e){t.$set(t.formData,"authorizedApp",e)},expression:"formData.authorizedApp"}}),i("span",{staticClass:t._$s(20,"sc","link-btn"),attrs:{_i:20},on:{click:t.gotoAppList}})],1),t._$s(21,"i",t.formDataId===t.userId)?i("view",{staticClass:t._$s(21,"sc","uni-form-item-tips"),attrs:{_i:21}},[t._v(t._$s(21,"t0-0",t._s(t.unknownAppidsCom)))]):t._e()]),i("uni-forms-item",{attrs:{name:"mobile",label:"\u624b\u673a\u53f7",_i:22}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",_i:23},model:{value:t._$s(23,"v-model",t.formData.mobile),callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),i("uni-forms-item",{attrs:{name:"email",label:"\u90ae\u7bb1",_i:24}},[i("uni-easyinput",{attrs:{clearable:!1,placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",_i:25},model:{value:t._$s(25,"v-model",t.formData.email),callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),i("uni-forms-item",{attrs:{name:"status",label:"\u7528\u6237\u72b6\u6001",_i:26}},[t._$s(27,"i",Number(t.formData.status)<2)?i("switch",{attrs:{checked:t._$s(27,"a-checked",t.formData.status),disabled:t._$s(27,"a-disabled",t.formDataId===t.userId),_i:27},on:{change:function(e){return t.binddata("status",e.detail.value)}}}):i("view",{staticClass:t._$s(28,"sc","uni-form-item-empty"),attrs:{_i:28}},[t._v(t._$s(28,"t0-0",t._s(t.parseUserStatus(t.formData.status))))]),t._$s(29,"i",t.formDataId===t.userId)?i("view",{staticClass:t._$s(29,"sc","uni-form-item-tips"),attrs:{_i:29}}):t._e()]),i("view",{staticClass:t._$s(30,"sc","uni-button-group"),attrs:{_i:30}},[i("button",{staticClass:t._$s(31,"sc","uni-button"),attrs:{_i:31},on:{click:t.submitForm}},[t._v(t._$s(31,"t0-0",t._s(t.$t("common.button.submit"))))]),i("navigator",{},[i("button",{staticClass:t._$s(33,"sc","uni-button"),attrs:{_i:33}},[t._v(t._$s(33,"t0-0",t._s(t.$t("common.button.back"))))])])])],1)],1)},r=[]},f3eb:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("text",[this._v(this._$s(0,"t0-0",this._s(this.dateShow)))])},n=[]},f50b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uniTd",options:{virtualHost:!0},props:{width:{type:[String,Number],default:""},align:{type:String,default:"left"},rowspan:{type:[Number,String],default:1},colspan:{type:[Number,String],default:1}},data:function(){return{border:!1}},created:function(){this.root=this.getTable(),this.border=this.root.border},methods:{getTable:function(){var t=this.$parent,e=t.$options.name;while("uniTable"!==e){if(t=t.$parent,!t)return!1;e=t.$options.name}return t}}};e.default=a},f539:function(t){t.exports=JSON.parse('{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"}')},f5df:function(t,e,i){"use strict";(function(t,a,n){var r=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r(i("a34a")),o=r(i("c973")),u=t.database(),c=(u.collection("uni-id-users"),t.importObject("uni-id-co")),l={emits:["success"],computed:{},data:function(){return{}},methods:{beforeGetphonenumber:function(){return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){uni.showLoading({mask:!0}),a.checkSession({success:function(){e(),uni.hideLoading()},fail:function(){a.login({success:function(a){var n=a.code;t.importObject("uni-id-co",{customUI:!0}).loginByWeixin({code:n}).then((function(t){e()})).catch((function(t){i()})).finally((function(t){uni.hideLoading()}))},fail:function(t){i()}})}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},bindMobileByMpWeixin:function(t){var e=this;return(0,o.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("getPhoneNumber:ok"!=t.detail.errMsg){i.next=6;break}return i.next=3,e.beforeGetphonenumber();case 3:c.bindMobileByMpWeixin(t.detail).then((function(t){e.$emit("success")})).finally((function(t){e.closeMe()})),i.next=7;break;case 6:e.closeMe();case 7:case"end":return i.stop()}}),i)})))()},open:function(){var t=this;return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.popup.open();case 1:case"end":return e.stop()}}),e)})))()},closeMe:function(t){this.$refs.popup.close()}}};e.default=l}).call(this,i("a9ff")["default"],i("fe07")["default"],i("0de9")["default"])},f668:function(t,e,i){"use strict";i.r(e);var a=i("ef9b"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},f6b0:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("448a")),r=a(i("7037")),s=i("37dc"),o=a(i("11d2")),u=(0,s.initVueI18n)(o.default),c=u.t,l={load:"load",error:"error"},d={add:"add",replace:"replace"},f={auto:"auto",onready:"onready",manual:"manual"},h=["pageCurrent","pageSize","spaceInfo","collection","action","field","getcount","orderby","where","groupby","groupField","distinct"],p={name:"UniClouddb",props:{options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},getone:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String,Object],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},pageIndistinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{loading:!1,hasMore:!1,dataList:this.getone?void 0:[],paginationInternal:{},errorMessage:""}},computed:{collectionArgs:function(){return Array.isArray(this.collection)?this.collection:[this.collection]},isLookup:function(){return Array.isArray(this.collection)&&this.collection.length>1||"string"===typeof this.collection&&this.collection.indexOf(",")>-1}},created:function(){var t=this;this._isEnded=!1,this.paginationInternal={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var e=[];return h.forEach((function(i){e.push(t[i])})),e}),(function(e,i){if(t.paginationInternal.size=t.pageSize,e[0]!==i[0]&&(t.paginationInternal.current=t.pageCurrent),t.loadtime!==f.manual){for(var a=!1,n=2;n<e.length;n++)if(e[n]!==i[n]){a=!0;break}a&&(t.clear(),t.reset()),t._execLoadData()}})),this.manual||this.loadtime!==f.auto||this.loadData()},methods:{loadData:function(t,e){var i=null,a=!1;"object"===(0,r.default)(t)?(t.clear&&(this.pageData===d.replace?this.clear():a=t.clear,this.reset()),void 0!==t.current&&(this.paginationInternal.current=t.current),"function"===typeof e&&(i=e)):"function"===typeof t&&(i=t),this._execLoadData(i,a)},loadMore:function(){this._isEnded||this.loading||(this.pageData===d.add&&this.paginationInternal.current++,this._execLoadData())},refresh:function(){this.clear(),this._execLoadData()},clear:function(){this._isEnded=!1,this.dataList=[]},reset:function(){this.paginationInternal.current=1},add:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.action,n=i.showToast,r=void 0===n||n,s=i.toastTitle,o=i.success,u=i.fail,l=i.complete,d=i.needConfirm,f=void 0===d||d,h=i.needLoading,p=void 0===h||h,m=i.loadingTitle,g=void 0===m?"":m;p&&uni.showLoading({title:g});var _=t.database(this.spaceInfo);a&&(_=_.action(a)),_.collection(this.getMainCollection()).add(e).then((function(t){o&&o(t),r&&uni.showToast({title:s||c("uniCloud.component.add.success")})})).catch((function(t){u&&u(t),f&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){p&&uni.hideLoading(),l&&l()}))},remove:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.action,n=i.success,r=i.fail,s=i.complete,o=i.confirmTitle,u=i.confirmContent,l=i.needConfirm,d=void 0===l||l,f=i.needLoading,h=void 0===f||f,p=i.loadingTitle,m=void 0===p?"":p;t&&t.length&&(d?uni.showModal({title:o||c("uniCloud.component.remove.showModal.title"),content:u||c("uniCloud.component.remove.showModal.content"),showCancel:!0,success:function(i){i.confirm&&e._execRemove(t,a,n,r,s,d,h,m)}}):this._execRemove(t,a,n,r,s,d,h,m))},update:function(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.action,r=a.showToast,s=void 0===r||r,o=a.toastTitle,u=a.success,l=a.fail,d=a.complete,f=a.needConfirm,h=void 0===f||f,p=a.needLoading,m=void 0===p||p,g=a.loadingTitle,_=void 0===g?"":g;m&&uni.showLoading({title:_});var v=t.database(this.spaceInfo);return n&&(v=v.action(n)),v.collection(this.getMainCollection()).doc(e).update(i).then((function(t){u&&u(t),s&&uni.showToast({title:o||c("uniCloud.component.update.success")})})).catch((function(t){l&&l(t),h&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){m&&uni.hideLoading(),d&&d()}))},getMainCollection:function(){if("string"===typeof this.collection)return this.collection.split(",")[0];var t=JSON.parse(JSON.stringify(this.collection[0]));return t.$db[0].$param[0]},getTemp:function(){var e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=t.database(this.spaceInfo);this.action&&(a=a.action(this.action)),a=(e=a).collection.apply(e,(0,n.default)(this.collectionArgs)),this.foreignKey&&(a=a.foreignKey(this.foreignKey)),this.where&&Object.keys(this.where).length&&(a=a.where(this.where)),this.field&&(a=a.field(this.field)),this.groupby&&(a=a.groupBy(this.groupby)),this.groupField&&(a=a.groupField(this.groupField)),!0===this.distinct&&(a=a.distinct()),this.orderby&&(a=a.orderBy(this.orderby));var r=this.paginationInternal,s=r.current,o=r.size,u={};this.getcount&&(u.getCount=this.getcount);var c={limitLevel:this.limitlevel,startWith:this.startwith};return this.gettree&&(u.getTree=c),this.gettreepath&&(u.getTreePath=c),a=a.skip(o*(s-1)).limit(o),i?(a=a.getTemp(u),a.udb=this):a=a.get(u),a},setResult:function(t){0===t.code?this._execLoadDataSuccess(t):this._execLoadDataFail(new Error(t.message))},_execLoadData:function(t,e){var i=this;this.loading||(this.loading=!0,this.errorMessage="",this._getExec().then((function(a){i.loading=!1,i._execLoadDataSuccess(a.result,t,e)})).catch((function(e){i.loading=!1,i._execLoadDataFail(e,t)})))},_execLoadDataSuccess:function(t,e,i){var a=t.data,r=t.count;this._isEnded=void 0!==r?this.paginationInternal.current*this.paginationInternal.size>=r:a.length<this.pageSize,this.hasMore=!this._isEnded;var s,o=this.getone?a.length?a[0]:void 0:a;(this.getcount&&(this.paginationInternal.count=r),e&&e(o,this._isEnded,this.paginationInternal),this._dispatchEvent(l.load,o),this.getone||this.pageData===d.replace)?this.dataList=o:i?this.dataList=o:(s=this.dataList).push.apply(s,(0,n.default)(o))},_execLoadDataFail:function(t,e){this.errorMessage=t,e&&e(),this.$emit(l.error,t)},_getExec:function(){return this.getTemp(!1)},_execRemove:function(e,i,a,n,r,s,o,u){var c=this;if(this.collection&&e){var l=Array.isArray(e)?e:[e];if(l.length){o&&uni.showLoading({mask:!0,title:u});var f=t.database(this.spaceInfo),h=f.command,p=f;i&&(p=p.action(i)),p.collection(this.getMainCollection()).where({_id:h.in(l)}).remove().then((function(t){a&&a(t.result),c.pageData===d.replace?c.refresh():c.removeData(l)})).catch((function(t){n&&n(t),s&&uni.showModal({content:t.message,showCancel:!1})})).finally((function(){o&&uni.hideLoading(),r&&r()}))}}},removeData:function(t){for(var e=t.slice(0),i=this.dataList,a=i.length-1;a>=0;a--){var n=e.indexOf(i[a]._id);n>=0&&(i.splice(a,1),e.splice(n,1))}},_dispatchEvent:function(t,e){this._changeDataFunction?this._changeDataFunction(e,this._isEnded,this.paginationInternal):this.$emit(t,e,this._isEnded,this.paginationInternal)}}};e.default=p}).call(this,i("a9ff")["default"])},f700:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-datetime-picker"),attrs:{_i:0}},[i("view",{attrs:{_i:1},on:{click:t.initTimePicker}},[t._t("default",[i("view",{staticClass:t._$s(3,"sc","uni-datetime-picker-timebox-pointer"),class:t._$s(3,"c",{"uni-datetime-picker-disabled":t.disabled,"uni-datetime-picker-timebox":t.border}),attrs:{_i:3}},[i("text",{staticClass:t._$s(4,"sc","uni-datetime-picker-text"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.time)))]),t._$s(5,"i",!t.time)?i("view",{staticClass:t._$s(5,"sc","uni-datetime-picker-time"),attrs:{_i:5}},[i("text",{staticClass:t._$s(6,"sc","uni-datetime-picker-text"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.selectTimeText)))])]):t._e()])],{_i:2})],2),t._$s(7,"i",t.visible)?i("view",{staticClass:t._$s(7,"sc","uni-datetime-picker-mask"),attrs:{id:"mask",_i:7},on:{click:t.tiggerTimePicker}}):t._e(),t._$s(8,"i",t.visible)?i("view",{staticClass:t._$s(8,"sc","uni-datetime-picker-popup"),class:t._$s(8,"c",[t.dateShow&&t.timeShow?"":"fix-nvue-height"]),style:t._$s(8,"s",t.fixNvueBug),attrs:{_i:8}},[i("view",{staticClass:t._$s(9,"sc","uni-title"),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","uni-datetime-picker-text"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.selectTimeText)))])]),t._$s(11,"i",t.dateShow)?i("view",{staticClass:t._$s(11,"sc","uni-datetime-picker__container-box"),attrs:{_i:11}},[i("picker-view",{staticClass:t._$s(12,"sc","uni-datetime-picker-view"),attrs:{"indicator-style":t._$s(12,"a-indicator-style",t.indicatorStyle),value:t._$s(12,"a-value",t.ymd),_i:12},on:{change:t.bindDateChange}},[i("picker-view-column",t._l(t._$s(14,"f",{forItems:t.years}),(function(e,a,n,r){return i("view",{key:t._$s(14,"f",{forIndex:n,key:a}),staticClass:t._$s("14-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"14-"+r}},[i("text",{staticClass:t._$s("15-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),i("picker-view-column",t._l(t._$s(17,"f",{forItems:t.months}),(function(e,a,n,r){return i("view",{key:t._$s(17,"f",{forIndex:n,key:a}),staticClass:t._$s("17-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"17-"+r}},[i("text",{staticClass:t._$s("18-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"18-"+r}},[t._v(t._$s("18-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),i("picker-view-column",t._l(t._$s(20,"f",{forItems:t.days}),(function(e,a,n,r){return i("view",{key:t._$s(20,"f",{forIndex:n,key:a}),staticClass:t._$s("20-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"20-"+r}},[i("text",{staticClass:t._$s("21-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"21-"+r}},[t._v(t._$s("21-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0)]),i("text",{staticClass:t._$s(22,"sc","uni-datetime-picker-sign sign-left"),attrs:{_i:22}}),i("text",{staticClass:t._$s(23,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:23}})]):t._e(),t._$s(24,"i",t.timeShow)?i("view",{staticClass:t._$s(24,"sc","uni-datetime-picker__container-box"),attrs:{_i:24}},[i("picker-view",{staticClass:t._$s(25,"sc","uni-datetime-picker-view"),class:t._$s(25,"c",[t.hideSecond?"time-hide-second":""]),attrs:{"indicator-style":t._$s(25,"a-indicator-style",t.indicatorStyle),value:t._$s(25,"a-value",t.hms),_i:25},on:{change:t.bindTimeChange}},[i("picker-view-column",t._l(t._$s(27,"f",{forItems:t.hours}),(function(e,a,n,r){return i("view",{key:t._$s(27,"f",{forIndex:n,key:a}),staticClass:t._$s("27-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"27-"+r}},[i("text",{staticClass:t._$s("28-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),i("picker-view-column",t._l(t._$s(30,"f",{forItems:t.minutes}),(function(e,a,n,r){return i("view",{key:t._$s(30,"f",{forIndex:n,key:a}),staticClass:t._$s("30-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"30-"+r}},[i("text",{staticClass:t._$s("31-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0),t._$s(32,"i",!t.hideSecond)?i("picker-view-column",t._l(t._$s(33,"f",{forItems:t.seconds}),(function(e,a,n,r){return i("view",{key:t._$s(33,"f",{forIndex:n,key:a}),staticClass:t._$s("33-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"33-"+r}},[i("text",{staticClass:t._$s("34-"+r,"sc","uni-datetime-picker-item"),attrs:{_i:"34-"+r}},[t._v(t._$s("34-"+r,"t0-0",t._s(t.lessThanTen(e))))])])})),0):t._e()]),i("text",{staticClass:t._$s(35,"sc","uni-datetime-picker-sign"),class:t._$s(35,"c",[t.hideSecond?"sign-center":"sign-left"]),attrs:{_i:35}}),t._$s(36,"i",!t.hideSecond)?i("text",{staticClass:t._$s(36,"sc","uni-datetime-picker-sign sign-right"),attrs:{_i:36}}):t._e()]):t._e(),i("view",{staticClass:t._$s(37,"sc","uni-datetime-picker-btn"),attrs:{_i:37}},[i("view",{attrs:{_i:38},on:{click:t.clearTime}},[i("text",{staticClass:t._$s(39,"sc","uni-datetime-picker-btn-text"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.clearText)))])]),i("view",{staticClass:t._$s(40,"sc","uni-datetime-picker-btn-group"),attrs:{_i:40}},[i("view",{staticClass:t._$s(41,"sc","uni-datetime-picker-cancel"),attrs:{_i:41},on:{click:t.tiggerTimePicker}},[i("text",{staticClass:t._$s(42,"sc","uni-datetime-picker-btn-text"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.cancelText)))])]),i("view",{attrs:{_i:43},on:{click:t.setTime}},[i("text",{staticClass:t._$s(44,"sc","uni-datetime-picker-btn-text"),attrs:{_i:44}},[t._v(t._$s(44,"t0-0",t._s(t.okText)))])])])])]):t._e()])},n=[]},f727:function(t,e,i){"use strict";i.r(e);var a=i("6e23"),n=i("e734");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"58a810c8",null,!1,a["a"],void 0);e["default"]=o.exports},f73d:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default,uniBadge:i("f982").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list-item"),class:t._$s(0,"c",{"uni-list-item--disabled":t.disabled}),style:t._$s(0,"s",{"background-color":t.customStyle.backgroundColor}),attrs:{"hover-class":t._$s(0,"a-hover-class",!t.clickable&&!t.link||t.disabled||t.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.isFirstChild)?i("view",{staticClass:t._$s(1,"sc","border--left"),class:t._$s(1,"c",{"uni-list--border":t.border}),attrs:{_i:1}}):t._e(),i("view",{staticClass:t._$s(2,"sc","uni-list-item__container"),class:t._$s(2,"c",{"container--right":t.showArrow||t.link,"flex--direction":"column"===t.direction}),style:t._$s(2,"s",{paddingTop:t.padding.top,paddingLeft:t.padding.left,paddingRight:t.padding.right,paddingBottom:t.padding.bottom}),attrs:{_i:2}},[t._t("header",[i("view",{staticClass:t._$s(4,"sc","uni-list-item__header"),attrs:{_i:4}},[t._$s(5,"i",t.thumb)?i("view",{staticClass:t._$s(5,"sc","uni-list-item__icon"),attrs:{_i:5}},[i("image",{staticClass:t._$s(6,"sc","uni-list-item__icon-img"),class:t._$s(6,"c",["uni-list--"+t.thumbSize]),attrs:{src:t._$s(6,"a-src",t.thumb),_i:6}})]):t._$s(7,"e",t.showExtraIcon)?i("view",{staticClass:t._$s(7,"sc","uni-list-item__icon"),attrs:{_i:7}},[i("uni-icons",{attrs:{color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,_i:8}})],1):t._e()])],{_i:3}),t._t("body",[i("view",{staticClass:t._$s(10,"sc","uni-list-item__content"),class:t._$s(10,"c",{"uni-list-item__content--center":t.thumb||t.showExtraIcon||t.showBadge||t.showSwitch}),attrs:{_i:10}},[t._$s(11,"i",t.title)?i("text",{staticClass:t._$s(11,"sc","uni-list-item__content-title"),class:t._$s(11,"c",[0!==t.ellipsis&&t.ellipsis<=2?"uni-ellipsis-"+t.ellipsis:""]),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.title)))]):t._e(),t._$s(12,"i",t.note)?i("text",{staticClass:t._$s(12,"sc","uni-list-item__content-note"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.note)))]):t._e()])],{_i:9}),t._t("footer",[t._$s(14,"i",t.rightText||t.showBadge||t.showSwitch)?i("view",{staticClass:t._$s(14,"sc","uni-list-item__extra"),class:t._$s(14,"c",{"flex--justify":"column"===t.direction}),attrs:{_i:14}},[t._$s(15,"i",t.rightText)?i("text",{staticClass:t._$s(15,"sc","uni-list-item__extra-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.rightText)))]):t._e(),t._$s(16,"i",t.showBadge)?i("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,"custom-style":t.badgeStyle,_i:16}}):t._e(),t._$s(17,"i",t.showSwitch)?i("switch",{attrs:{disabled:t._$s(17,"a-disabled",t.disabled),checked:t._$s(17,"a-checked",t.switchChecked),_i:17},on:{change:t.onSwitchChange}}):t._e()],1):t._e()],{_i:13})],2),t._$s(18,"i",t.showArrow||t.link)?i("uni-icons",{staticClass:t._$s(18,"sc","uni-icon-wrapper"),attrs:{size:16,color:"#bbb",type:"arrowright",_i:18}}):t._e()],1)},r=[]},f7f2:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.mutations=void 0;var r=n(i("a34a")),s=n(i("c973")),o=n(i("8330")),u=n(i("2543")),c=n(i("8bbf")),l=t.importObject("uni-id-co"),d=t.database(),f=d.collection("uni-id-users"),h=uni.getStorageSync("uni-id-pages-userInfo")||{},p={userInfo:h,hasLogin:0!=Object.keys(h).length},m={updateUserInfo:function(){var t=arguments,e=this;return(0,s.default)(r.default.mark((function i(){var a,n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]&&t[0],!a){i.next=5;break}f.where("_id==$env.uid").update(a).then((function(t){t.result.updated?(uni.showToast({title:"\u66f4\u65b0\u6210\u529f",icon:"none",duration:3e3}),e.setUserInfo(a)):uni.showToast({title:"\u6ca1\u6709\u6539\u53d8",icon:"none",duration:3e3})})),i.next=16;break;case 5:return i.prev=5,i.next=8,f.where("'_id' == $cloudEnv_uid").field("mobile,nickname,username,email,avatar_file").get();case 8:n=i.sent,e.setUserInfo(n.result.data[0]),i.next=16;break;case 12:i.prev=12,i.t0=i["catch"](5),e.setUserInfo({},{cover:!0}),i.t0.message,i.t0.errCode;case 16:case"end":return i.stop()}}),i,null,[[5,12]])})))()},setUserInfo:function(t){var e=arguments;return(0,s.default)(r.default.mark((function i(){var a,n,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e.length>1&&void 0!==e[1]?e[1]:{cover:!1},n=a.cover,s=n?t:Object.assign(g.userInfo,t),g.userInfo=Object.assign({},s),g.hasLogin=0!=Object.keys(g.userInfo).length,uni.setStorage({key:"uni-id-pages-userInfo",data:g.userInfo}),i.abrupt("return",t);case 6:case"end":return i.stop()}}),i)})))()},logout:function(){var e=this;return(0,s.default)(r.default.mark((function i(){var a,n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(t.getCurrentUserInfo().tokenExpired>Date.now())){i.next=9;break}return i.prev=1,i.next=4,l.logout();case 4:i.next=9;break;case 6:i.prev=6,i.t0=i["catch"](1),i.t0;case 9:uni.removeStorageSync("uni_id_token"),uni.setStorageSync("uni_id_token_expired",0),uni.redirectTo({url:"/".concat(null!==(a=null===(n=o.default.uniIdRouter)||void 0===n?void 0:n.loginPage)&&void 0!==a?a:"uni_modules/uni-id-pages/pages/login/login-withoutpwd")}),uni.$emit("uni-id-pages-logout"),e.setUserInfo({},{cover:!0});case 14:case"end":return i.stop()}}),i,null,[[1,6]])})))()},loginBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uniIdRedirectUrl,i=void 0===e?"":e,a=0,n=getCurrentPages();if(n.forEach((function(t,e){"login"==n[n.length-e-1].route.split("/")[3]&&a++})),i)return uni.reLaunch({url:i});if(a){var r=o.default.pages[0];return uni.reLaunch({url:"/".concat(r.path)})}uni.navigateBack({delta:a})},loginSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.showToast,i=void 0===e||e,a=t.toastText,n=void 0===a?"\u767b\u5f55\u6210\u529f":a,r=t.autoBack,s=void 0===r||r,o=t.uniIdRedirectUrl,c=void 0===o?"":o,l=t.passwordConfirmed;if(i&&uni.showToast({title:n,icon:"none",duration:3e3}),this.updateUserInfo(),uni.$emit("uni-id-pages-login-success"),u.default.setPasswordAfterLogin&&!l)return uni.redirectTo({url:c?"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?uniIdRedirectUrl=".concat(c,"&loginType=").concat(t.loginType):"/uni_modules/uni-id-pages/pages/userinfo/set-pwd/set-pwd?loginType=".concat(t.loginType),fail:function(t){}});s&&this.loginBack(c)}};e.mutations=m;var g=c.default.observable(p);e.store=g}).call(this,i("a9ff")["default"],i("0de9")["default"])},f861:function(t,e,i){"use strict";i.r(e);var a=i("5db1"),n=i("6bde");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},f904:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.enumConverter=void 0,e.filterToWhere=function(t,e){var i={};for(var a in t){var s=t[a],o=s.type,u=s.value;switch(o){case"search":"string"===typeof u&&u.length&&(i[a]=new RegExp(u));break;case"select":if(u.length){var c,l=[],d=r(u);try{for(d.s();!(c=d.n()).done;){var f=c.value;l.push(e.eq(f))}}catch(C){d.e(C)}finally{d.f()}i[a]=e.or(l)}break;case"range":if(u.length){var h=u[0],p=u[1];i[a]=e.and([e.gte(h),e.lte(p)])}break;case"date":if(u.length){var m=(0,n.default)(u,2),g=m[0],_=m[1],v=new Date(g),b=new Date(_);i[a]=e.and([e.gte(v),e.lte(b)])}break;case"timestamp":if(u.length){var y=(0,n.default)(u,2),x=y[0],w=y[1];i[a]=e.and([e.gte(x),e.lte(w)])}break}}return i},e.validator=void 0;var n=a(i("278c"));function r(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,u=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}e.validator={username:{rules:[{required:!0,errorMessage:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{minLength:3,maxLength:32,errorMessage:"\u7528\u6237\u540d\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,i,a){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&a("\u7528\u6237\u540d\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&a("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),/[\u4E00-\u9FA5\uF900-\uFA2D]{1,}/.test(e)&&a("\u7528\u6237\u540d\u4e0d\u80fd\u5305\u542b\u4e2d\u6587"),!0}}],label:"\u7528\u6237\u540d"},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"\u6635\u79f0\u957f\u5ea6\u5728 {minLength} \u5230 {maxLength} \u4e2a\u5b57\u7b26"},{validateFunction:function(t,e,i,a){return(/^1\d{10}$/.test(e)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(e))&&a("\u6635\u79f0\u4e0d\u80fd\u662f\uff1a\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),/^\d+$/.test(e)&&a("\u6635\u79f0\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"),!0}}],label:"\u6635\u79f0"},password:{rules:[{required:!0},{format:"password"},{minLength:6}],label:"\u5bc6\u7801"},mobile:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"\u624b\u673a\u53f7\u7801"},status:{rules:[{format:"int"},{range:[{text:"\u6b63\u5e38",value:0},{text:"\u7981\u7528",value:1},{text:"\u5ba1\u6838\u4e2d",value:2},{text:"\u5ba1\u6838\u62d2\u7edd",value:3}]}],defaultValue:0,label:"\u7528\u6237\u72b6\u6001"},email:{rules:[{format:"string"},{format:"email"}],label:"\u90ae\u7bb1"},role:{rules:[{format:"array"}],label:"\u89d2\u8272"},last_login_date:{rules:[{format:"timestamp"}]}};e.enumConverter={status_valuetotext:{0:"\u6b63\u5e38",1:"\u7981\u7528",2:"\u5ba1\u6838\u4e2d",3:"\u5ba1\u6838\u62d2\u7edd"}}},f956:function(t,e,i){"use strict";i.r(e);var a=i("63ef"),n=i("79a5");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},f982:function(t,e,i){"use strict";i.r(e);var a=i("82a7"),n=i("3e75");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},f98f:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniNavMenu:i("6960").default,uniMenuSidebar:i("030e").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("uni-nav-menu",{attrs:{active:this.value,activeKey:"value",activeTextColor:this.activeTextColor,uniqueOpened:this.uniqueOpened,_i:1},on:{select:this.onSelect}},[e("uni-menu-sidebar",{attrs:{data:this.userMenu,_i:2}}),e("uni-menu-sidebar",{attrs:{data:this.staticMenu,_i:3}})],1)],1)},r=[]},fa54:function(t,e,i){"use strict";i.r(e);var a=i("00e3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},faed:function(t,e,i){"use strict";i.r(e);var a=i("43da"),n=i("98eb");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},faff:function(t,e,i){"use strict";i.r(e);var a=i("dd30"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fb23:function(t,e,i){"use strict";i.r(e);var a=i("128c"),n=i("235a");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"28993e7f",null,!1,a["a"],void 0);e["default"]=o.exports},fb2f:function(t,e,i){"use strict";i.r(e);var a=i("7d91"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fb35:function(t,e,i){"use strict";i.r(e);var a=i("7b93"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fb93:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={uniIcons:i("3bcb").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","uni-noticebar"),style:t._$s(0,"s",{backgroundColor:t.backgroundColor}),attrs:{_i:0},on:{click:t.onClick}},[t._$s(1,"i",!0===t.showIcon||"true"===t.showIcon)?i("uni-icons",{staticClass:t._$s(1,"sc","uni-noticebar-icon"),attrs:{type:"sound",color:t.color,size:1.5*t.fontSize,_i:1}}):t._e(),i("view",{ref:"textBox",staticClass:t._$s(2,"sc","uni-noticebar__content-wrapper"),class:t._$s(2,"c",{"uni-noticebar__content-wrapper--scrollable":t.scrollable,"uni-noticebar__content-wrapper--single":!t.scrollable&&(t.single||t.moreText)}),style:t._$s(2,"s",{height:t.scrollable?1.5*t.fontSize+"px":"auto"}),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","uni-noticebar__content"),class:t._$s(3,"c",{"uni-noticebar__content--scrollable":t.scrollable,"uni-noticebar__content--single":!t.scrollable&&(t.single||t.moreText)}),attrs:{id:t._$s(3,"a-id",t.elIdBox),_i:3}},[i("text",{ref:"animationEle",staticClass:t._$s(4,"sc","uni-noticebar__content-text"),class:t._$s(4,"c",{"uni-noticebar__content-text--scrollable":t.scrollable,"uni-noticebar__content-text--single":!t.scrollable&&(t.single||t.showGetMore)}),style:t._$s(4,"s",{color:t.color,fontSize:t.fontSize+"px",lineHeight:1.5*t.fontSize+"px",width:t.wrapWidth+"px",animationDuration:t.animationDuration,"-webkit-animationDuration":t.animationDuration,animationPlayState:t.webviewHide?"paused":t.animationPlayState,"-webkit-animationPlayState":t.webviewHide?"paused":t.animationPlayState,animationDelay:t.animationDelay,"-webkit-animationDelay":t.animationDelay}),attrs:{id:t._$s(4,"a-id",t.elId),_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.text)))])])]),t._$s(5,"i",t.isShowGetMore)?i("view",{staticClass:t._$s(5,"sc","uni-noticebar__more uni-cursor-point"),attrs:{_i:5},on:{click:t.clickMore}},[t._$s(6,"i",t.moreText.length>0)?i("text",{style:t._$s(6,"s",{color:t.moreColor,fontSize:t.fontSize+"px"}),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.moreText)))]):i("uni-icons",{attrs:{type:"right",color:t.moreColor,size:1.1*t.fontSize,_i:7}})],1):t._e(),t._$s(8,"i",t.isShowClose)?i("view",{staticClass:t._$s(8,"sc","uni-noticebar-close uni-cursor-point"),attrs:{_i:8}},[i("uni-icons",{attrs:{type:"closeempty",color:t.color,size:1.1*t.fontSize,_i:9},on:{click:t.close}})],1):t._e()],1):t._e()},r=[]},fc10:function(t){t.exports=JSON.parse('{"uni-popup.cancel":"\u53d6\u6d88","uni-popup.ok":"\u78ba\u5b9a","uni-popup.placeholder":"\u8acb\u8f38\u5165","uni-popup.title":"\u63d0\u793a","uni-popup.shareTitle":"\u5206\u4eab\u5230"}')},fc12:function(t,e,i){"use strict";i.r(e);var a=i("7724"),n=i("4dd6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fc5c:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","uni-table-th"),class:this._$s(0,"c",{"table--border":this.border}),style:this._$s(0,"s",{width:this.customWidth+"px","text-align":this.align}),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},fd03:function(t,e,i){"use strict";i.r(e);var a=i("f394"),n=i("37bd");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fd1a:function(t,e,i){"use strict";i.r(e);var a=i("fc5c"),n=i("8d5e");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fda4:function(t,e,i){"use strict";i.r(e);var a=i("614d"),n=i("8787");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"0a44cbf8",null,!1,a["a"],void 0);e["default"]=o.exports},fda7:function(t,e,i){"use strict";i.r(e);var a=i("f3eb"),n=i("0f2d");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fda9:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","container loading1"),attrs:{_i:0}},[e("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),e("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),e("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),e("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},n=[]},fdb0:function(t,e,i){"use strict";i.r(e);var a=i("d8cf"),n=i("593a");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fdce:function(t,e,i){"use strict";i.r(e);var a=i("4ffc"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fe07:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.Behavior=function(t){return t},e.Component=function(e){var i=function(e){var i=e.data,a=e.options,n=e.methods,r=e.behaviors,s=e.lifetimes,o=e.observers,l=e.relations,d=e.properties,h=e.pageLifetimes,p=e.externalClasses,m={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return c(m),u(i,m),function(t,e){if(!t)return;e.mpOptions.options=t}(a,m),$(n,m),O(r,m),function(t,e){if(!t)return;k(t,e)}(s,m),function(t,e){if(!t)return;var i=e.mpOptions.mpObservers;Object.keys(t).forEach((function(e){i.push({paths:P(e),observer:t[e]})}))}(o,m),function(e,i){if(!e)return;Object.keys(e).forEach((function(i){var a=e[i];a.name=i,a.target=a.target?String(a.target):function(t,e){0===e.indexOf("/")&&(t="");var i=t.split("/"),a=e.split("/");i.pop();while(a.length){var n=a.shift();""!==n&&"."!==n&&(".."!==n?i.push(n):i.pop())}return i.join("/")}(t.__wxRoute,i)})),i.mpOptions.relations=e}(l,m),C(d,m),function(t,e){if(!t)return;x.forEach((function(i){var a=t[i];f(a)&&(e[y[i]]=a)}))}(h,m),function(t,e){if(!t)return;Array.isArray(t)||(t=[t]);e.mpOptions.externalClasses=t,e.mpOptions.properties||(e.mpOptions.properties=Object.create(null));t.forEach((function(t){e.mpOptions.properties[_(t)]={type:String,value:""}}))}(p,m),k(e,m),S(e),m}(e);i.mixins.unshift(X),i.mpOptions.path=t.__wxRoute,function(t){t.onServiceAttached||(t.onServiceAttached=[]);t.onServiceAttached.push((function(){E(this,"linked")}))}(i),t.__wxComponents[t.__wxRoute]=i},e.Page=function(e){var i=function(t){var e={mixins:[],mpOptions:{}};return c(e),u(t.data,e),function(t,e){var i=Object.create(null);Object.keys(t).forEach((function(e){var a=t[e];f(a)&&-1===w.indexOf(e)&&(i[e]=a)})),e.methods=i}(t,e),function(t,e){Object.keys(t).forEach((function(i){-1!==w.indexOf(i)&&(e[i]=t[i])}))}(t,e),e}(e);i.mixins.unshift(X),i.mpOptions.path=t.__wxRoute,t.__wxComponents[t.__wxRoute]=i},e.nextTick=e.default=void 0;var n,r=a(i("9523")),s=a(i("278c")),o=a(i("8bbf"));function u(t,e){t&&(e.mpOptions.data=t)}function c(e){e.components=t.__wxVueOptions.components}var l=Object.prototype.toString,d=Object.prototype.hasOwnProperty;function f(t){return"function"===typeof t}function h(t){return"[object Object]"===l.call(t)}function p(t,e){return d.call(t,e)}function m(){}var g=/-(\w)/g,_=function(t){var e=Object.create(null);return function(i){var a=e[i];return a||(e[i]=t(i))}}((function(t){return t.replace(g,(function(t,e){return e?e.toUpperCase():""}))})),v={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},b=Object.keys(v),y={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},x=Object.keys(y),w=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function C(t,e){t&&(e.mpOptions.properties=t)}function $(t,e){t&&(t.$emit&&delete t.$emit,e.methods=t)}function k(t,e){b.forEach((function(i){p(t,i)&&(e[v[i]]||(e[v[i]]=[])).push(t[i])}))}var D={"wx://form-field":{},"wx://component-export":{}};function S(t,e){(function(t){var e=t.behaviors,i=t.definitionFilter,a=[];if(Array.isArray(e)&&e.forEach((function(e){e="string"===typeof e?D[e]:e,e.definitionFilter&&(a.push(e.definitionFilter),e.definitionFilter.call(null,t,[]))})),f(i));})(t)}var T={"wx://form-field":{beforeCreate:function(){var t=this.$options.mpOptions;t.properties||(t.properties=Object.create(null));var e=t.properties;p(e,"name")||(e.name={type:String}),p(e,"value")||(e.value={type:String})}}};function O(t,e){t&&t.forEach((function(t){"string"===typeof t?T[t]&&e.mixins.push(T[t]):e.mixins.push(function(t){var e=t.data,i=t.methods,a=t.behaviors,n=t.properties,r={watch:{},mpOptions:{mpObservers:[]}};return u(e,r),$(i,r),O(a,r),C(n,r),k(t,r),S(t),r}(t))}))}function P(t){return t.split(",").map((function(t){return function(t){return t.split(".")}(t)}))}function M(t,e,i,a){if(e){var n="_$".concat(t,"Handlers");(a[n]||(a[n]=[])).push((function(){e.call(a,i)}))}}function A(t,e,i){var a=t.name,n=i._$relationNodes||(i._$relationNodes=Object.create(null));(n[a]||(n[a]=[])).push(e),M("linked",t["linked"],e,i)}function I(t,e,i){M("unlinked",t["unlinked"],e,i)}function j(t,e,i){var a=t&&t.$options.mpOptions&&t.$options.mpOptions.relations;if(!a)return[];var n=Object.keys(a).find((function(t){var n=a[t];return n.target===e&&n.type===i}));return n?[a[n],t]:[]}function F(t,e,i){var a=i(t,t.$options.mpOptions.path),n=(0,s.default)(a,2),r=n[0],o=n[1];r&&(A(r,t,o),A(e,o,t),I(r,t,o),I(e,o,t))}function L(t){var e=t.$options.mpOptions||{},i=e.relations;i&&Object.keys(i).forEach((function(e){(function(t,e){var i=t.type;"parent"===i?F(e,t,(function(t,e){return j(t.$parent,e,"child")})):"ancestor"===i&&F(e,t,(function(t,e){var i=t.$parent;while(i){var a=j(i,e,"descendant");if(a.length)return a;i=i.$parent}return[]}))})(i[e],t)}))}function E(t,e){var i=t["_$".concat(e,"Handlers")];i&&i.forEach((function(t){return t()}))}var q={enumerable:!0,configurable:!0,get:m,set:m};function R(t,e,i){q.get=function(){return this[e][i]},q.set=function(t){this[e][i]=t},Object.defineProperty(t,i,q)}function B(t,e){var i=this;h(t)&&(Object.keys(t).forEach((function(e){(function(t,e,i){var a=t.replace(/\[(\d+?)\]/g,".$1").split(".");return a.reduce((function(t,i,n){if(n!==a.length-1)return"undefined"===typeof t[i]&&(t[i]={}),t[i];t[i]=e}),i),1===a.length})(e,t[e],i.data)&&!p(i,e)&&R(i,"__data__",e)})),this.$forceUpdate(),f(e)&&this.$nextTick(e))}var N=Object.prototype.toString,z=function(t){return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=N.call(i);if("[object Array]"===a)return e=i.slice(0),e;if("[object Object]"===a){for(var n in i)e[n]=t(e[n],i[n]);return e}if("[object Date]"===a)return new Date(i.getTime());if("[object RegExp]"===a){var r=String(i),s=r.lastIndexOf("/");return new RegExp(r.slice(1,s),r.slice(s+1))}return i}("[object Array]"===N.call(t)?[]:{},t)},W=(n={},(0,r.default)(n,String,""),(0,r.default)(n,Number,0),(0,r.default)(n,Boolean,!1),(0,r.default)(n,Object,null),(0,r.default)(n,Array,[]),(0,r.default)(n,null,null),n);function U(t){return W[t]}function V(t){return h(t)?t.type:t}function H(t,e,i,a){var n=i[t];if(void 0!==n){var r=e[t],s=V(r);n=G(n,s);var o=r&&r.observer;return o&&setTimeout((function(){Q(o,a,n)}),4),n}return function(t){return h(t)?p(t,"value")?t.value:U(t.type):U(t)}(e[t])}function G(t,e){return e===Boolean?!!t:e===String?String(t):t}function Q(t,e,i,a){try{"function"===typeof t?t.call(e,i,a):"string"===typeof t&&"function"===typeof e[t]&&e[t](i,a)}catch(n){}}function J(t){var e=t.$options.mpOptions&&t.$options.mpOptions.properties,i=t.$options.propsData;i&&e&&Object.keys(e).forEach((function(a){p(i,a)&&(t[a]=G(i[a],V(e[a])))}))}function Y(t){var e=JSON.parse(JSON.stringify(t.$options.mpOptions.data||{}));t["__data__"]=e;var i={get:function(){return t["__data__"]},set:function(e){t["__data__"]=e}};Object.defineProperties(t,{data:i,properties:i}),t.setData=B,function(t,e){var i=t.$options.mpOptions.properties;if(i){var a=z(t.$options.propsData)||{},n=function(n){var r=!!h(i[n])&&i[n].observer,s=H(n,i,a,t);Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){var i=s;e===s||e!==e&&s!==s||(s=Array.isArray(e)?e.slice(0):e,r&&Q(r,t,e,i),t.$forceUpdate())}})};for(var r in i)n(r)}}(t,e),Object.keys(e).forEach((function(e){R(t,"__data__",e)}))}var X={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=m},created:function(){Y(this),function(t){var e=t.$emit;t.triggerEvent=function(i,a,n){var r={dataset:t.$el.dataset},s={target:r,currentTarget:r,detail:a,preventDefault:m,stopPropagation:m};e.call(t,i,s)},t.$emit=function(){t.triggerEvent.apply(t,arguments)},t.getRelationNodes=function(e){return(t._$relationNodes&&t._$relationNodes[e]||[]).filter((function(t){return!t._isDestroyed}))},t._$updateProperties=J}(this),L(this)},mounted:function(){(function(t){var e=t.$options.watch;e&&Object.keys(e).forEach((function(i){var a=e[i];if(a.mounted){var n=t[i],r=a.handler;"string"===typeof r&&(r=t[r]),r&&r.call(t,n,n)}}))})(this)},destroyed:function(){E(this,"unlinked")}};t.__wxRoute="",t.__wxComponents=Object.create(null),t.__wxVueOptions=Object.create(null);var K=o.default.nextTick;e.nextTick=K;var Z=uni.__$wx__,tt=Z;e.default=tt}).call(this,i("c8ba"))},fe49:function(t,e,i){"use strict";i.r(e);var a=i("34bf"),n=i("7cc0");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("f0c5"),o=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=o.exports},fe4b:function(t,e,i){"use strict";i.r(e);var a=i("2bf5"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fe83:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={fixWindow:i("3a9b").default},n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("view",[e("text")]),e("view",[e("text",[this._v(this._$s(4,"t0-0",this._s(this.errMsg)))])]),e("fix-window",{attrs:{_i:5}})],1)},r=[]},fed3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},fontSize:{type:Number,default:14},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36)),e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:t,elIdBox:e,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}},computed:{isShowGetMore:function(){return!0===this.showGetMore||"true"===this.showGetMore},isShowClose:function(){return(!0===this.showClose||"true"===this.showClose)&&(!1===this.showGetMore||"false"===this.showGetMore)}},mounted:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],a=i.$getAppWebview();a.addEventListener("hide",(function(){t.webviewHide=!0})),a.addEventListener("show",(function(){t.webviewHide=!1})),this.$nextTick((function(){t.initSize()}))},methods:{initSize:function(){var t=this;if(this.scrollable){var e=[],i=new Promise((function(e,i){uni.createSelectorQuery().in(t).select("#".concat(t.elId)).boundingClientRect().exec((function(i){t.textWidth=i[0].width,e()}))})),a=new Promise((function(e,i){uni.createSelectorQuery().in(t).select("#".concat(t.elIdBox)).boundingClientRect().exec((function(i){t.boxWidth=i[0].width,e()}))}));e.push(i),e.push(a),Promise.all(e).then((function(){t.animationDuration="".concat(t.textWidth/t.speed,"s"),t.animationDelay="-".concat(t.boxWidth/t.speed,"s"),setTimeout((function(){t.animationPlayState="running"}),1e3)}))}},loopAnimation:function(){},clickMore:function(){this.$emit("getmore")},close:function(){this.show=!1,this.$emit("close")},onClick:function(){this.$emit("click")}}};e.default=a},ff2c:function(t,e,i){"use strict";(function(t,a){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("06ce"),s=n(i("c3c5"));function o(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var c={data:function(){return{tableName:"uni-stat-result",fieldsMap:s.default,query:{dimension:"day",appid:"",platform_id:"",uni_platform:"",version_id:"",channel_id:"",start_time:[]},options:{pageSize:20,pageCurrent:1,total:0},loading:!1,currentDateTab:0,currentChartTab:"day",tableData:[],chartData:{},defaultChart:{field:"new_user_count",name:"\u65b0\u589e\u7528\u6237"},channelData:[],errorMessage:""}},computed:{chartTabs:function(){var t=[{_id:"day",name:"\u65e5\u6d3b"},{_id:"week",name:"\u5468\u6d3b"},{_id:"month",name:"\u6708\u6d3b"}];return(0,r.maxDeltaDay)(this.query.start_time,7)&&t.forEach((function(t,e){"month"===t._id?t.disabled=!0:t.disabled=!1})),t},channelQuery:function(){var t=this.query.platform_id;return(0,r.stringifyQuery)({platform_id:t})},versionQuery:function(){var t=this.query,e=t.appid,i=t.uni_platform,a=(0,r.stringifyQuery)({appid:e,uni_platform:i});return a}},created:function(){var t=this;this.debounceGet=(0,r.debounce)((function(){t.getAllData(t.query)}),300),this.getChannelData()},watch:{query:{deep:!0,handler:function(t){this.options.pageCurrent=1,this.debounceGet()}}},methods:{useDatetimePicker:function(){this.currentDateTab=-1},changeAppid:function(t){this.getChannelData(t,!1)},changePlatform:function(t,e,i,a){this.getChannelData(null,t),this.query.version_id=0,this.query.uni_platform=a.code},changeTimeRange:function(t,e){this.currentDateTab=e;var i,a;i=(0,r.getTimeOfSomeDayAgo)(t),a=t?(0,r.getTimeOfSomeDayAgo)(0)-1:(0,r.getTimeOfSomeDayAgo)(0)+864e5-1,this.query.start_time=[i,a]},changePageCurrent:function(t){this.options.pageCurrent=t.current,this.getTabelData(this.query)},changePageSize:function(t){this.options.pageSize=t,this.options.pageCurrent=1,this.getTabelData(this.query)},changeChartTab:function(t,e,i){this.currentChartTab=t,this.getChartData(this.query,t,i)},getAllData:function(t){t.appid?(this.errorMessage="",this.getChartData(t,this.currentChartTab),this.getTabelData(t)):this.errorMessage="\u8bf7\u5148\u9009\u62e9\u5e94\u7528"},getChartData:function(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u65e5\u6d3b",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",c={categories:[],series:[{name:n,data:[]}]};e=(0,r.stringifyQuery)(e,null,["uni_platform"]);var l=t.database();"day"===i?l.collection(this.tableName).where(e).field("".concat((0,r.stringifyField)(s.default,u),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,u)).orderBy("start_time","asc").get({getCount:!0}).then((function(t){var e=t.result,i=(e.count,e.data);a.chartData=[];var n,s=o(i);try{for(s.s();!(n=s.n()).done;){var l=n.value,d=(0,r.formatDate)(l.start_time,"day"),f=l[u];c.series[0].data.push(f),c.categories.push(d)}}catch(h){s.e(h)}finally{s.f()}a.chartData=c})).catch((function(t){})):this.getRangeCountData(e,i).then((function(t){var e=i;"week"===i&&(i="isoWeek");var n=t.result,s=(n.count,n.data);a.chartData=[];var l,d=o(s);try{for(d.s();!(l=d.n()).done;){var f=l.value,h=+new Date(f.year,0)+(6048e5*Number(f[i])-1),p=(0,r.formatDate)(h,e),m=f[i+"_"+u];m&&(c.series[0].data.push(m),c.categories.push(p))}}catch(g){d.e(g)}finally{d.f()}a.chartData=c}))},getTabelData:function(e){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active_user_count",n=this.options.pageCurrent;e=(0,r.stringifyQuery)(e,null,["uni_platform"]),this.loading=!0;var u=t.database();u.collection(this.tableName).where(e).field("".concat((0,r.stringifyField)(s.default,a),", start_time")).groupBy("start_time").groupField((0,r.stringifyGroupField)(s.default,a)).orderBy("start_time","desc").skip((n-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((function(t){var a=t.result,n=a.count,u=a.data,c=u,l=n,d=[],f=[];i.getRangeCountData(e,"week").then((function(t){var a=t.result,n=(a.count,a.data);d=n,i.getRangeCountData(e,"month").then((function(t){var e=t.result,a=(e.count,e.data);f=a;var n,u=i.mapWithWeekAndMonth(c,d,f),h=o(u);try{for(h.s();!(n=h.n()).done;){var p=n.value;(0,r.mapfields)(s.default,p,p)}}catch(m){h.e(m)}finally{h.f()}i.tableData=[],i.options.total=l,i.tableData=u})).finally((function(){i.loading=!1}))}))})).catch((function(t){}))},getRangeCountData:function(e,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active_user_count";"week"===i&&(i="isoWeek");this.options.pageCurrent;var n=t.database();return n.collection(this.tableName).where(e).field("".concat(a,", start_time, ").concat(i,'(add(new Date(0),start_time), "Asia/Shanghai") as ').concat(i,',year(add(new Date(0),start_time), "Asia/Shanghai") as year')).groupBy("year, ".concat(i)).groupField("sum(".concat(a,") as ").concat(i,"_").concat(a)).orderBy("year asc, ".concat(i," asc")).get({getCount:!0})},mapWithWeekAndMonth:function(t,e,i){var a,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"active_user_count",r=o(t);try{for(r.s();!(a=r.n()).done;){var s,u=a.value,c=new Date(u.start_time),l=c.getUTCFullYear(),d=c.getMonth()+1,f=this.getWeekNumber(c),h=o(e);try{for(h.s();!(s=h.n()).done;){var p=s.value;p.isoWeek===f&&p.year===l&&(u["isoWeek_".concat(n)]=p["week_".concat(n)])}}catch(v){h.e(v)}finally{h.f()}var m,g=o(i);try{for(g.s();!(m=g.n()).done;){var _=m.value;_.month===d&&_.year===l&&(u["month_".concat(n)]=_["month_".concat(n)])}}catch(v){g.e(v)}finally{g.f()}}}catch(v){r.e(v)}finally{r.f()}return t},getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),i=Math.ceil(((t-e)/864e5+1)/7);return i},getChannelData:function(e,i){var a=this;this.query.channel_id="";var n=t.database(),r={};e=e||this.query.appid,e&&(r.appid=e),i=i||this.query.platform_id,i&&(r.platform_id=i);var s=n.collection("uni-stat-app-platforms").field("_id, name").getTemp(),o=n.collection("uni-stat-app-channels").where(r).field("_id, channel_name, create_time, platform_id").getTemp();n.collection(o,s).orderBy("platform_id","asc").get().then((function(t){var e,i=t.result.data,n=[];if(i.length>0)for(var r in i)e=i[r].channel_name?i[r].channel_name:"\u9ed8\u8ba4",i[r].platform_id.length>0&&(e=i[r].platform_id[0].name+"-"+e),n.push({value:i[r]._id,text:e});a.channelData=n})).catch((function(t){})).finally((function(){}))}}};e.default=c}).call(this,i("a9ff")["default"],i("0de9")["default"])},ff7a:function(t,e,i){"use strict";(function(t){var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9523")),r=i("0aa1");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,n.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u=t.database();u.command;function c(t){var e={};for(var i in r.validator)t.includes(i)&&(e[i]=r.validator[i]);return e}var l={data:function(){var t={tagid:"",name:"",description:""};return{formData:t,formOptions:{},rules:o({},c(Object.keys(t)))}},onLoad:function(t){if(t.id){var e=t.id;this.formDataId=e,this.getDetail(e)}},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{submit:function(){var t=this;uni.showLoading({mask:!0}),this.$refs.form.validate().then((function(e){return t.submitForm(e)})).catch((function(){})).finally((function(){uni.hideLoading()}))},submitForm:function(t){var e=this;return u.collection("uni-id-tag").doc(this.formDataId).update(t).then((function(t){uni.showToast({title:"\u4fee\u6539\u6210\u529f"}),e.getOpenerEventChannel().emit("refreshData"),setTimeout((function(){return uni.navigateBack()}),500)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})}))},getDetail:function(t){var e=this;uni.showLoading({mask:!0}),u.collection("uni-id-tag").doc(t).field("tagid,name,description").get().then((function(t){var i=t.result.data[0];i&&(e.formData=i)})).catch((function(t){uni.showModal({content:t.message||"\u8bf7\u6c42\u670d\u52a1\u5931\u8d25",showCancel:!1})})).finally((function(){uni.hideLoading()}))}}};e.default=l}).call(this,i("a9ff")["default"])},ffa7:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:t._$s(0,"a-id",t.idName),_i:0},on:{click:t.generate}},[t._t("default",[t._v(t._$s(1,"t0-0",t._s(t.name)))],{_i:1})],2)},n=[]}},[["b91c","app-config"]]]);